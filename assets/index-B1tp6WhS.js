(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function QT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var dm={exports:{}},Hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function SA(){if(xv)return Hl;xv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Hl.Fragment=e,Hl.jsx=n,Hl.jsxs=n,Hl}var kv;function AA(){return kv||(kv=1,dm.exports=SA()),dm.exports}var K=AA(),mm={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function RA(){if(Lv)return De;Lv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function S(C){return C===null||typeof C!="object"?null:(C=w&&C[w]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,J={};function Y(C,W,ne){this.props=C,this.context=W,this.refs=J,this.updater=ne||j}Y.prototype.isReactComponent={},Y.prototype.setState=function(C,W){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,W,"setState")},Y.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function ie(){}ie.prototype=Y.prototype;function le(C,W,ne){this.props=C,this.context=W,this.refs=J,this.updater=ne||j}var he=le.prototype=new ie;he.constructor=le,F(he,Y.prototype),he.isPureReactComponent=!0;var Re=Array.isArray,ye={H:null,A:null,T:null,S:null,V:null},Ie=Object.prototype.hasOwnProperty;function V(C,W,ne,ee,ce,Se){return ne=Se.ref,{$$typeof:r,type:C,key:W,ref:ne!==void 0?ne:null,props:Se}}function A(C,W){return V(C.type,W,void 0,void 0,void 0,C.props)}function I(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function N(C){var W={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ne){return W[ne]})}var M=/\/+/g;function P(C,W){return typeof C=="object"&&C!==null&&C.key!=null?N(""+C.key):W.toString(36)}function D(){}function ht(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(D,D):(C.status="pending",C.then(function(W){C.status==="pending"&&(C.status="fulfilled",C.value=W)},function(W){C.status==="pending"&&(C.status="rejected",C.reason=W)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function st(C,W,ne,ee,ce){var Se=typeof C;(Se==="undefined"||Se==="boolean")&&(C=null);var me=!1;if(C===null)me=!0;else switch(Se){case"bigint":case"string":case"number":me=!0;break;case"object":switch(C.$$typeof){case r:case e:me=!0;break;case E:return me=C._init,st(me(C._payload),W,ne,ee,ce)}}if(me)return ce=ce(C),me=ee===""?"."+P(C,0):ee,Re(ce)?(ne="",me!=null&&(ne=me.replace(M,"$&/")+"/"),st(ce,W,ne,"",function(Vt){return Vt})):ce!=null&&(I(ce)&&(ce=A(ce,ne+(ce.key==null||C&&C.key===ce.key?"":(""+ce.key).replace(M,"$&/")+"/")+me)),W.push(ce)),1;me=0;var ft=ee===""?".":ee+":";if(Re(C))for(var qe=0;qe<C.length;qe++)ee=C[qe],Se=ft+P(ee,qe),me+=st(ee,W,ne,Se,ce);else if(qe=S(C),typeof qe=="function")for(C=qe.call(C),qe=0;!(ee=C.next()).done;)ee=ee.value,Se=ft+P(ee,qe++),me+=st(ee,W,ne,Se,ce);else if(Se==="object"){if(typeof C.then=="function")return st(ht(C),W,ne,ee,ce);throw W=String(C),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return me}function H(C,W,ne){if(C==null)return C;var ee=[],ce=0;return st(C,ee,"","",function(Se){return W.call(ne,Se,ce++)}),ee}function re(C){if(C._status===-1){var W=C._result;W=W(),W.then(function(ne){(C._status===0||C._status===-1)&&(C._status=1,C._result=ne)},function(ne){(C._status===0||C._status===-1)&&(C._status=2,C._result=ne)}),C._status===-1&&(C._status=0,C._result=W)}if(C._status===1)return C._result.default;throw C._result}var ue=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Ce(){}return De.Children={map:H,forEach:function(C,W,ne){H(C,function(){W.apply(this,arguments)},ne)},count:function(C){var W=0;return H(C,function(){W++}),W},toArray:function(C){return H(C,function(W){return W})||[]},only:function(C){if(!I(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},De.Component=Y,De.Fragment=n,De.Profiler=o,De.PureComponent=le,De.StrictMode=a,De.Suspense=p,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ye,De.__COMPILER_RUNTIME={__proto__:null,c:function(C){return ye.H.useMemoCache(C)}},De.cache=function(C){return function(){return C.apply(null,arguments)}},De.cloneElement=function(C,W,ne){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var ee=F({},C.props),ce=C.key,Se=void 0;if(W!=null)for(me in W.ref!==void 0&&(Se=void 0),W.key!==void 0&&(ce=""+W.key),W)!Ie.call(W,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&W.ref===void 0||(ee[me]=W[me]);var me=arguments.length-2;if(me===1)ee.children=ne;else if(1<me){for(var ft=Array(me),qe=0;qe<me;qe++)ft[qe]=arguments[qe+2];ee.children=ft}return V(C.type,ce,void 0,void 0,Se,ee)},De.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},De.createElement=function(C,W,ne){var ee,ce={},Se=null;if(W!=null)for(ee in W.key!==void 0&&(Se=""+W.key),W)Ie.call(W,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(ce[ee]=W[ee]);var me=arguments.length-2;if(me===1)ce.children=ne;else if(1<me){for(var ft=Array(me),qe=0;qe<me;qe++)ft[qe]=arguments[qe+2];ce.children=ft}if(C&&C.defaultProps)for(ee in me=C.defaultProps,me)ce[ee]===void 0&&(ce[ee]=me[ee]);return V(C,Se,void 0,void 0,null,ce)},De.createRef=function(){return{current:null}},De.forwardRef=function(C){return{$$typeof:m,render:C}},De.isValidElement=I,De.lazy=function(C){return{$$typeof:E,_payload:{_status:-1,_result:C},_init:re}},De.memo=function(C,W){return{$$typeof:y,type:C,compare:W===void 0?null:W}},De.startTransition=function(C){var W=ye.T,ne={};ye.T=ne;try{var ee=C(),ce=ye.S;ce!==null&&ce(ne,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(Ce,ue)}catch(Se){ue(Se)}finally{ye.T=W}},De.unstable_useCacheRefresh=function(){return ye.H.useCacheRefresh()},De.use=function(C){return ye.H.use(C)},De.useActionState=function(C,W,ne){return ye.H.useActionState(C,W,ne)},De.useCallback=function(C,W){return ye.H.useCallback(C,W)},De.useContext=function(C){return ye.H.useContext(C)},De.useDebugValue=function(){},De.useDeferredValue=function(C,W){return ye.H.useDeferredValue(C,W)},De.useEffect=function(C,W,ne){var ee=ye.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ee.useEffect(C,W)},De.useId=function(){return ye.H.useId()},De.useImperativeHandle=function(C,W,ne){return ye.H.useImperativeHandle(C,W,ne)},De.useInsertionEffect=function(C,W){return ye.H.useInsertionEffect(C,W)},De.useLayoutEffect=function(C,W){return ye.H.useLayoutEffect(C,W)},De.useMemo=function(C,W){return ye.H.useMemo(C,W)},De.useOptimistic=function(C,W){return ye.H.useOptimistic(C,W)},De.useReducer=function(C,W,ne){return ye.H.useReducer(C,W,ne)},De.useRef=function(C){return ye.H.useRef(C)},De.useState=function(C){return ye.H.useState(C)},De.useSyncExternalStore=function(C,W,ne){return ye.H.useSyncExternalStore(C,W,ne)},De.useTransition=function(){return ye.H.useTransition()},De.version="19.1.1",De}var Uv;function Sg(){return Uv||(Uv=1,mm.exports=RA()),mm.exports}var at=Sg();const IA=QT(at);var gm={exports:{}},Fl={},pm={exports:{}},ym={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function DA(){return jv||(jv=1,(function(r){function e(H,re){var ue=H.length;H.push(re);e:for(;0<ue;){var Ce=ue-1>>>1,C=H[Ce];if(0<o(C,re))H[Ce]=re,H[ue]=C,ue=Ce;else break e}}function n(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var re=H[0],ue=H.pop();if(ue!==re){H[0]=ue;e:for(var Ce=0,C=H.length,W=C>>>1;Ce<W;){var ne=2*(Ce+1)-1,ee=H[ne],ce=ne+1,Se=H[ce];if(0>o(ee,ue))ce<C&&0>o(Se,ee)?(H[Ce]=Se,H[ce]=ue,Ce=ce):(H[Ce]=ee,H[ne]=ue,Ce=ne);else if(ce<C&&0>o(Se,ue))H[Ce]=Se,H[ce]=ue,Ce=ce;else break e}}return re}function o(H,re){var ue=H.sortIndex-re.sortIndex;return ue!==0?ue:H.id-re.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,w=null,S=3,j=!1,F=!1,J=!1,Y=!1,ie=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;function Re(H){for(var re=n(y);re!==null;){if(re.callback===null)a(y);else if(re.startTime<=H)a(y),re.sortIndex=re.expirationTime,e(p,re);else break;re=n(y)}}function ye(H){if(J=!1,Re(H),!F)if(n(p)!==null)F=!0,Ie||(Ie=!0,P());else{var re=n(y);re!==null&&st(ye,re.startTime-H)}}var Ie=!1,V=-1,A=5,I=-1;function N(){return Y?!0:!(r.unstable_now()-I<A)}function M(){if(Y=!1,Ie){var H=r.unstable_now();I=H;var re=!0;try{e:{F=!1,J&&(J=!1,le(V),V=-1),j=!0;var ue=S;try{t:{for(Re(H),w=n(p);w!==null&&!(w.expirationTime>H&&N());){var Ce=w.callback;if(typeof Ce=="function"){w.callback=null,S=w.priorityLevel;var C=Ce(w.expirationTime<=H);if(H=r.unstable_now(),typeof C=="function"){w.callback=C,Re(H),re=!0;break t}w===n(p)&&a(p),Re(H)}else a(p);w=n(p)}if(w!==null)re=!0;else{var W=n(y);W!==null&&st(ye,W.startTime-H),re=!1}}break e}finally{w=null,S=ue,j=!1}re=void 0}}finally{re?P():Ie=!1}}}var P;if(typeof he=="function")P=function(){he(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ht=D.port2;D.port1.onmessage=M,P=function(){ht.postMessage(null)}}else P=function(){ie(M,0)};function st(H,re){V=ie(function(){H(r.unstable_now())},re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(H){switch(S){case 1:case 2:case 3:var re=3;break;default:re=S}var ue=S;S=re;try{return H()}finally{S=ue}},r.unstable_requestPaint=function(){Y=!0},r.unstable_runWithPriority=function(H,re){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ue=S;S=H;try{return re()}finally{S=ue}},r.unstable_scheduleCallback=function(H,re,ue){var Ce=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ce+ue:Ce):ue=Ce,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ue+C,H={id:E++,callback:re,priorityLevel:H,startTime:ue,expirationTime:C,sortIndex:-1},ue>Ce?(H.sortIndex=ue,e(y,H),n(p)===null&&H===n(y)&&(J?(le(V),V=-1):J=!0,st(ye,ue-Ce))):(H.sortIndex=C,e(p,H),F||j||(F=!0,Ie||(Ie=!0,P()))),H},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(H){var re=S;return function(){var ue=S;S=re;try{return H.apply(this,arguments)}finally{S=ue}}}})(ym)),ym}var zv;function CA(){return zv||(zv=1,pm.exports=DA()),pm.exports}var _m={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function OA(){if(Bv)return un;Bv=1;var r=Sg();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,un.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},un.flushSync=function(p){var y=f.T,E=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=y,a.p=E,a.d.f()}},un.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},un.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},un.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:j}):E==="script"&&a.d.X(p,{crossOrigin:w,integrity:S,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},un.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},un.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin);a.d.L(p,E,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},un.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},un.requestFormReset=function(p){a.d.r(p)},un.unstable_batchedUpdates=function(p,y){return p(y)},un.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},un.useFormStatus=function(){return f.H.useHostTransitionStatus()},un.version="19.1.1",un}var qv;function NA(){if(qv)return _m.exports;qv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),_m.exports=OA(),_m.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function MA(){if(Hv)return Fl;Hv=1;var r=CA(),e=Sg(),n=NA();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(a(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===s){v=!0,s=h,l=d;break}if(T===l){v=!0,l=h,s=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===s){v=!0,s=d,l=h;break}if(T===l){v=!0,l=d,s=h;break}T=T.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),le=Symbol.for("react.consumer"),he=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function ht(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case Y:return"Profiler";case J:return"StrictMode";case ye:return"Suspense";case Ie:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case he:return(t.displayName||"Context")+".Provider";case le:return(t._context.displayName||"Context")+".Consumer";case Re:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return i=t.displayName||null,i!==null?i:ht(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return ht(t(i))}catch{}}return null}var st=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Ce=[],C=-1;function W(t){return{current:t}}function ne(t){0>C||(t.current=Ce[C],Ce[C]=null,C--)}function ee(t,i){C++,Ce[C]=t.current,t.current=i}var ce=W(null),Se=W(null),me=W(null),ft=W(null);function qe(t,i){switch(ee(me,i),ee(Se,t),ee(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?uv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=uv(i),t=cv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ne(ce),ee(ce,t)}function Vt(){ne(ce),ne(Se),ne(me)}function xn(t){t.memoizedState!==null&&ee(ft,t);var i=ce.current,s=cv(i,t.type);i!==s&&(ee(Se,t),ee(ce,s))}function An(t){Se.current===t&&(ne(ce),ne(Se)),ft.current===t&&(ne(ft),Ul._currentValue=ue)}var kn=Object.prototype.hasOwnProperty,tr=r.unstable_scheduleCallback,nt=r.unstable_cancelCallback,nr=r.unstable_shouldYield,Qt=r.unstable_requestPaint,Kt=r.unstable_now,Es=r.unstable_getCurrentPriorityLevel,Ri=r.unstable_ImmediatePriority,Ii=r.unstable_UserBlockingPriority,Hr=r.unstable_NormalPriority,Fo=r.unstable_LowPriority,Fr=r.unstable_IdlePriority,ba=r.log,Ts=r.unstable_setDisableYieldValue,dt=null,Ge=null;function pn(t){if(typeof ba=="function"&&Ts(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(dt,t)}catch{}}var At=Math.clz32?Math.clz32:Gr,wa=Math.log,bs=Math.LN2;function Gr(t){return t>>>=0,t===0?32:31-(wa(t)/bs|0)|0}var Ln=256,pr=4194304;function Rn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Yr(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Rn(l):(v&=T,v!==0?h=Rn(v):s||(s=T&~t,s!==0&&(h=Rn(s))))):(T=l&~d,T!==0?h=Rn(T):v!==0?h=Rn(v):s||(s=l&~t,s!==0&&(h=Rn(s)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:h}function yr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Qr(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sa(){var t=Ln;return Ln<<=1,(Ln&4194048)===0&&(Ln=256),t}function Di(){var t=pr;return pr<<=1,(pr&62914560)===0&&(pr=4194304),t}function rr(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function Un(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Rt(t,i,s,l,h,d){var v=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,U=t.hiddenUpdates;for(s=v&~s;0<s;){var G=31-At(s),$=1<<G;T[G]=0,R[G]=-1;var z=U[G];if(z!==null)for(U[G]=null,G=0;G<z.length;G++){var B=z[G];B!==null&&(B.lane&=-536870913)}s&=~$}l!==0&&ut(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function ut(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-At(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function _r(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-At(s),h=1<<l;h&i|t[l]&i&&(t[l]|=i),s&=~h}}function He(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Wt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function vr(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:Cv(t.type))}function Ci(t,i){var s=re.p;try{return re.p=t,i()}finally{re.p=s}}var rt=Math.random().toString(36).slice(2),vt="__reactFiber$"+rt,mt="__reactProps$"+rt,Xt="__reactContainer$"+rt,Kr="__reactEvents$"+rt,Aa="__reactListeners$"+rt,jn="__reactHandles$"+rt,ws="__reactResources$"+rt,ir="__reactMarker$"+rt;function ar(t){delete t[vt],delete t[mt],delete t[Kr],delete t[Aa],delete t[jn]}function sr(t){var i=t[vt];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Xt]||s[vt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=mv(t);t!==null;){if(s=t[vt])return s;t=mv(t)}return i}t=s,s=t.parentNode}return null}function zn(t){if(t=t[vt]||t[Xt]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Te(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function Ne(t){var i=t[ws];return i||(i=t[ws]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ae(t){t[ir]=!0}var $t=new Set,zt={};function yn(t,i){or(t,i),or(t+"Capture",i)}function or(t,i){for(zt[t]=i,t=0;t<i.length;t++)$t.add(i[t])}var Ss=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ku={},Ra={};function Lu(t){return kn.call(Ra,t)?!0:kn.call(ku,t)?!1:Ss.test(t)?Ra[t]=!0:(ku[t]=!0,!1)}function Oi(t,i,s){if(Lu(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function Er(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Zt(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}var Ia,Uu;function Wr(t){if(Ia===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Ia=i&&i[1]||"",Uu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ia+t+Uu}var As=!1;function Rs(t,i){if(!t||As)return"";As=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(B){var z=B}Reflect.construct(t,[],$)}else{try{$.call()}catch(B){z=B}t.call($.prototype)}}else{try{throw Error()}catch(B){z=B}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var R=v.split(`
`),U=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===U.length)for(l=R.length-1,h=U.length-1;1<=l&&0<=h&&R[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==U[h]){var G=`
`+R[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{As=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Wr(s):""}function Go(t){switch(t.tag){case 26:case 27:case 5:return Wr(t.type);case 16:return Wr("Lazy");case 13:return Wr("Suspense");case 19:return Wr("SuspenseList");case 0:case 15:return Rs(t.type,!1);case 11:return Rs(t.type.render,!1);case 1:return Rs(t.type,!0);case 31:return Wr("Activity");default:return""}}function Is(t){try{var i="";do i+=Go(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function _n(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function yf(t){var i=Yo(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ds(t){t._valueTracker||(t._valueTracker=yf(t))}function Qo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=Yo(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function Da(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _f=/[\n"\\]/g;function It(t){return t.replace(_f,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function In(t,i,s,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+_n(i)):t.value!==""+_n(i)&&(t.value=""+_n(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Ni(t,v,_n(i)):s!=null?Ni(t,v,_n(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+_n(T):t.removeAttribute("name")}function Ca(t,i,s,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+_n(s):"",i=i!=null?""+_n(i):s,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Ni(t,i,s){i==="number"&&Da(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Xr(t,i,s,l){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+_n(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ze(t,i,s){if(i!=null&&(i=""+_n(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+_n(s):""}function Oa(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(st(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=_n(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function Bn(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Na=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ju(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||Na.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Ko(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&ju(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&ju(t,d,i[d])}function Wo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ef=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cs(t){return Ef.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var $r=null;function qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zr=null,Jr=null;function Xo(t){var i=zn(t);if(i&&(t=i.stateNode)){var s=t[mt]||null;e:switch(t=i.stateNode,i.type){case"input":if(In(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+It(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var h=l[mt]||null;if(!h)throw Error(a(90));In(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&Qo(l)}break e;case"textarea":Ze(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Xr(t,!!s.multiple,i,!1)}}}var Tr=!1;function zu(t,i,s){if(Tr)return t(i,s);Tr=!0;try{var l=t(i);return l}finally{if(Tr=!1,(Zr!==null||Jr!==null)&&(Vc(),Zr&&(i=Zr,t=Jr,Jr=Zr=null,Xo(i),t)))for(i=0;i<t.length;i++)Xo(t[i])}}function Ma(t,i){var s=t.stateNode;if(s===null)return null;var l=s[mt]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hn=!1;if(lr)try{var Va={};Object.defineProperty(Va,"passive",{get:function(){Hn=!0}}),window.addEventListener("test",Va,Va),window.removeEventListener("test",Va,Va)}catch{Hn=!1}var br=null,Mi=null,ei=null;function $o(){if(ei)return ei;var t,i=Mi,s=i.length,l,h="value"in br?br.value:br.textContent,d=h.length;for(t=0;t<s&&i[t]===h[t];t++);var v=s-t;for(l=1;l<=v&&i[s-l]===h[d-l];l++);return ei=h.slice(t,1<l?1-l:void 0)}function wr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Sr(){return!0}function Zo(){return!1}function Bt(t){function i(s,l,h,d,v){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Sr:Zo,this.isPropagationStopped=Zo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),i}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Os=Bt(Qe),Pa=E({},Qe,{view:0,detail:0}),Bu=Bt(Pa),Ns,Ms,Ar,xa=E({},Pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ua,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ar&&(Ar&&t.type==="mousemove"?(Ns=t.screenX-Ar.screenX,Ms=t.screenY-Ar.screenY):Ms=Ns=0,Ar=t),Ns)},movementY:function(t){return"movementY"in t?t.movementY:Ms}}),Fn=Bt(xa),qu=E({},xa,{dataTransfer:0}),Tf=Bt(qu),ka=E({},Pa,{relatedTarget:0}),Vs=Bt(ka),Jo=E({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ps=Bt(Jo),Hu=E({},Qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xs=Bt(Hu),bf=E({},Qe,{data:0}),el=Bt(bf),La={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tl(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Gu[t])?!!i[t]:!1}function Ua(){return tl}var Yu=E({},Pa,{key:function(t){if(t.key){var i=La[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=wr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ua,charCode:function(t){return t.type==="keypress"?wr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ks=Bt(Yu),Qu=E({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nl=Bt(Qu),ti=E({},Pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ua}),Ku=Bt(ti),Wu=E({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xu=Bt(Wu),$u=E({},xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ls=Bt($u),vn=E({},Qe,{newState:0,oldState:0}),Zu=Bt(vn),Ju=[9,13,27,32],Rr=lr&&"CompositionEvent"in window,c=null;lr&&"documentMode"in document&&(c=document.documentMode);var g=lr&&"TextEvent"in window&&!c,_=lr&&(!Rr||c&&8<c&&11>=c),b=" ",k=!1;function q(t,i){switch(t){case"keyup":return Ju.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function te(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ue=!1;function Pt(t,i){switch(t){case"compositionend":return te(i);case"keypress":return i.which!==32?null:(k=!0,b);case"textInput":return t=i.data,t===b&&k?null:t;default:return null}}function je(t,i){if(Ue)return t==="compositionend"||!Rr&&q(t,i)?(t=$o(),ei=Mi=br=null,Ue=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!qt[t.type]:i==="textarea"}function ni(t,i,s,l){Zr?Jr?Jr.push(l):Jr=[l]:Zr=l,i=jc(i,"onChange"),0<i.length&&(s=new Os("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var Jt=null,Ir=null;function rl(t){iv(t,0)}function ec(t){var i=Te(t);if(Qo(i))return t}function Ap(t,i){if(t==="change")return i}var Rp=!1;if(lr){var wf;if(lr){var Sf="oninput"in document;if(!Sf){var Ip=document.createElement("div");Ip.setAttribute("oninput","return;"),Sf=typeof Ip.oninput=="function"}wf=Sf}else wf=!1;Rp=wf&&(!document.documentMode||9<document.documentMode)}function Dp(){Jt&&(Jt.detachEvent("onpropertychange",Cp),Ir=Jt=null)}function Cp(t){if(t.propertyName==="value"&&ec(Ir)){var i=[];ni(i,Ir,t,qn(t)),zu(rl,i)}}function eS(t,i,s){t==="focusin"?(Dp(),Jt=i,Ir=s,Jt.attachEvent("onpropertychange",Cp)):t==="focusout"&&Dp()}function tS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ec(Ir)}function nS(t,i){if(t==="click")return ec(i)}function rS(t,i){if(t==="input"||t==="change")return ec(i)}function iS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Dn=typeof Object.is=="function"?Object.is:iS;function il(t,i){if(Dn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!kn.call(i,h)||!Dn(t[h],i[h]))return!1}return!0}function Op(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Np(t,i){var s=Op(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Op(s)}}function Mp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Mp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Vp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Da(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=Da(t.document)}return i}function Af(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var aS=lr&&"documentMode"in document&&11>=document.documentMode,Us=null,Rf=null,al=null,If=!1;function Pp(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;If||Us==null||Us!==Da(l)||(l=Us,"selectionStart"in l&&Af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&il(al,l)||(al=l,l=jc(Rf,"onSelect"),0<l.length&&(i=new Os("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=Us)))}function ja(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var js={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionrun:ja("Transition","TransitionRun"),transitionstart:ja("Transition","TransitionStart"),transitioncancel:ja("Transition","TransitionCancel"),transitionend:ja("Transition","TransitionEnd")},Df={},xp={};lr&&(xp=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function za(t){if(Df[t])return Df[t];if(!js[t])return t;var i=js[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in xp)return Df[t]=i[s];return t}var kp=za("animationend"),Lp=za("animationiteration"),Up=za("animationstart"),sS=za("transitionrun"),oS=za("transitionstart"),lS=za("transitioncancel"),jp=za("transitionend"),zp=new Map,Cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cf.push("scrollEnd");function ur(t,i){zp.set(t,i),yn(i,[t])}var Bp=new WeakMap;function Gn(t,i){if(typeof t=="object"&&t!==null){var s=Bp.get(t);return s!==void 0?s:(i={value:t,source:i,stack:Is(i)},Bp.set(t,i),i)}return{value:t,source:i,stack:Is(i)}}var Yn=[],zs=0,Of=0;function tc(){for(var t=zs,i=Of=zs=0;i<t;){var s=Yn[i];Yn[i++]=null;var l=Yn[i];Yn[i++]=null;var h=Yn[i];Yn[i++]=null;var d=Yn[i];if(Yn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&qp(s,h,d)}}function nc(t,i,s,l){Yn[zs++]=t,Yn[zs++]=i,Yn[zs++]=s,Yn[zs++]=l,Of|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Nf(t,i,s,l){return nc(t,i,s,l),rc(t)}function Bs(t,i){return nc(t,null,null,i),rc(t)}function qp(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-At(s),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=s|536870912),d):null}function rc(t){if(50<Ol)throw Ol=0,Ld=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var qs={};function uS(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,i,s,l){return new uS(t,i,s,l)}function Mf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ri(t,i){var s=t.alternate;return s===null?(s=Cn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Hp(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ic(t,i,s,l,h,d){var v=0;if(l=t,typeof t=="function")Mf(t)&&(v=1);else if(typeof t=="string")v=hA(t,s,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Cn(31,s,i,h),t.elementType=I,t.lanes=d,t;case F:return Ba(s.children,h,d,i);case J:v=8,h|=24;break;case Y:return t=Cn(12,s,i,h|2),t.elementType=Y,t.lanes=d,t;case ye:return t=Cn(13,s,i,h),t.elementType=ye,t.lanes=d,t;case Ie:return t=Cn(19,s,i,h),t.elementType=Ie,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:case he:v=10;break e;case le:v=9;break e;case Re:v=11;break e;case V:v=14;break e;case A:v=16,l=null;break e}v=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=Cn(v,s,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ba(t,i,s,l){return t=Cn(7,t,l,i),t.lanes=s,t}function Vf(t,i,s){return t=Cn(6,t,null,i),t.lanes=s,t}function Pf(t,i,s){return i=Cn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Hs=[],Fs=0,ac=null,sc=0,Qn=[],Kn=0,qa=null,ii=1,ai="";function Ha(t,i){Hs[Fs++]=sc,Hs[Fs++]=ac,ac=t,sc=i}function Fp(t,i,s){Qn[Kn++]=ii,Qn[Kn++]=ai,Qn[Kn++]=qa,qa=t;var l=ii;t=ai;var h=32-At(l)-1;l&=~(1<<h),s+=1;var d=32-At(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,ii=1<<32-At(i)+h|s<<h|l,ai=d+t}else ii=1<<d|s<<h|l,ai=t}function xf(t){t.return!==null&&(Ha(t,1),Fp(t,1,0))}function kf(t){for(;t===ac;)ac=Hs[--Fs],Hs[Fs]=null,sc=Hs[--Fs],Hs[Fs]=null;for(;t===qa;)qa=Qn[--Kn],Qn[Kn]=null,ai=Qn[--Kn],Qn[Kn]=null,ii=Qn[--Kn],Qn[Kn]=null}var En=null,Et=null,Ye=!1,Fa=null,Dr=!1,Lf=Error(a(519));function Ga(t){var i=Error(a(418,""));throw ll(Gn(i,t)),Lf}function Gp(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[vt]=t,i[mt]=l,s){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(s=0;s<Ml.length;s++)Pe(Ml[s],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),Ca(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ds(i);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),Oa(i,l.value,l.defaultValue,l.children),Ds(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||lv(i.textContent,s)?(l.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),l.onScroll!=null&&Pe("scroll",i),l.onScrollEnd!=null&&Pe("scrollend",i),l.onClick!=null&&(i.onclick=zc),i=!0):i=!1,i||Ga(t)}function Yp(t){for(En=t.return;En;)switch(En.tag){case 5:case 13:Dr=!1;return;case 27:case 3:Dr=!0;return;default:En=En.return}}function sl(t){if(t!==En)return!1;if(!Ye)return Yp(t),Ye=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Jd(t.type,t.memoizedProps)),s=!s),s&&Et&&Ga(t),Yp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){Et=hr(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}Et=null}}else i===27?(i=Et,Ki(t.type)?(t=rm,rm=null,Et=t):Et=i):Et=En?hr(t.stateNode.nextSibling):null;return!0}function ol(){Et=En=null,Ye=!1}function Qp(){var t=Fa;return t!==null&&(wn===null?wn=t:wn.push.apply(wn,t),Fa=null),t}function ll(t){Fa===null?Fa=[t]:Fa.push(t)}var Uf=W(null),Ya=null,si=null;function Vi(t,i,s){ee(Uf,i._currentValue),i._currentValue=s}function oi(t){t._currentValue=Uf.current,ne(Uf)}function jf(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function zf(t,i,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var R=0;R<i.length;R++)if(T.context===i[R]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),jf(d.return,s,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(a(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),jf(v,s,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ul(t,i,s,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var T=h.type;Dn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===ft.current){if(v=h.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}h=h.return}t!==null&&zf(i,t,s,l),i.flags|=262144}function oc(t){for(t=t.firstContext;t!==null;){if(!Dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qa(t){Ya=t,si=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ln(t){return Kp(Ya,t)}function lc(t,i){return Ya===null&&Qa(t),Kp(t,i)}function Kp(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},si===null){if(t===null)throw Error(a(308));si=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else si=si.next=i;return s}var cS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},hS=r.unstable_scheduleCallback,fS=r.unstable_NormalPriority,kt={$$typeof:he,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bf(){return{controller:new cS,data:new Map,refCount:0}}function cl(t){t.refCount--,t.refCount===0&&hS(fS,function(){t.controller.abort()})}var hl=null,qf=0,Gs=0,Ys=null;function dS(t,i){if(hl===null){var s=hl=[];qf=0,Gs=Fd(),Ys={status:"pending",value:void 0,then:function(l){s.push(l)}}}return qf++,i.then(Wp,Wp),i}function Wp(){if(--qf===0&&hl!==null){Ys!==null&&(Ys.status="fulfilled");var t=hl;hl=null,Gs=0,Ys=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function mS(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Xp=H.S;H.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&dS(t,i),Xp!==null&&Xp(t,i)};var Ka=W(null);function Hf(){var t=Ka.current;return t!==null?t:ot.pooledCache}function uc(t,i){i===null?ee(Ka,Ka.current):ee(Ka,i.pool)}function $p(){var t=Hf();return t===null?null:{parent:kt._currentValue,pool:t}}var fl=Error(a(460)),Zp=Error(a(474)),cc=Error(a(542)),Ff={then:function(){}};function Jp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function hc(){}function ey(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(hc,hc),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ny(t),t;default:if(typeof i.status=="string")i.then(hc,hc);else{if(t=ot,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ny(t),t}throw dl=i,fl}}var dl=null;function ty(){if(dl===null)throw Error(a(459));var t=dl;return dl=null,t}function ny(t){if(t===fl||t===cc)throw Error(a(483))}var Pi=!1;function Gf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function xi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ki(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=rc(t),qp(t,null,s),i}return nc(t,l,i,s),rc(t)}function ml(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,_r(t,s)}}function Qf(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?h=d=i:d=d.next=i}else h=d=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Kf=!1;function gl(){if(Kf){var t=Ys;if(t!==null)throw t}}function pl(t,i,s,l){Kf=!1;var h=t.updateQueue;Pi=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,U=R.next;R.next=null,v===null?d=U:v.next=U,v=R;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==v&&(T===null?G.firstBaseUpdate=U:T.next=U,G.lastBaseUpdate=R))}if(d!==null){var $=h.baseState;v=0,G=U=R=null,T=d;do{var z=T.lane&-536870913,B=z!==T.lane;if(B?(ze&z)===z:(l&z)===z){z!==0&&z===Gs&&(Kf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ee=t,ge=T;z=i;var tt=s;switch(ge.tag){case 1:if(Ee=ge.payload,typeof Ee=="function"){$=Ee.call(tt,$,z);break e}$=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ge.payload,z=typeof Ee=="function"?Ee.call(tt,$,z):Ee,z==null)break e;$=E({},$,z);break e;case 2:Pi=!0}}z=T.callback,z!==null&&(t.flags|=64,B&&(t.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(U=G=B,R=$):G=G.next=B,v|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;B=T,T=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);G===null&&(R=$),h.baseState=R,h.firstBaseUpdate=U,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Fi|=v,t.lanes=v,t.memoizedState=$}}function ry(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function iy(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)ry(s[t],i)}var Qs=W(null),fc=W(0);function ay(t,i){t=mi,ee(fc,t),ee(Qs,i),mi=t|i.baseLanes}function Wf(){ee(fc,mi),ee(Qs,Qs.current)}function Xf(){mi=fc.current,ne(Qs),ne(fc)}var Li=0,Oe=null,Je=null,Dt=null,dc=!1,Ks=!1,Wa=!1,mc=0,yl=0,Ws=null,gS=0;function bt(){throw Error(a(321))}function $f(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!Dn(t[s],i[s]))return!1;return!0}function Zf(t,i,s,l,h,d){return Li=d,Oe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=t===null||t.memoizedState===null?qy:Hy,Wa=!1,d=s(l,h),Wa=!1,Ks&&(d=oy(i,s,l,h)),sy(t),d}function sy(t){H.H=Ec;var i=Je!==null&&Je.next!==null;if(Li=0,Dt=Je=Oe=null,dc=!1,yl=0,Ws=null,i)throw Error(a(300));t===null||Ht||(t=t.dependencies,t!==null&&oc(t)&&(Ht=!0))}function oy(t,i,s,l){Oe=t;var h=0;do{if(Ks&&(Ws=null),yl=0,Ks=!1,25<=h)throw Error(a(301));if(h+=1,Dt=Je=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=bS,d=i(s,l)}while(Ks);return d}function pS(){var t=H.H,i=t.useState()[0];return i=typeof i.then=="function"?_l(i):i,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Oe.flags|=1024),i}function Jf(){var t=mc!==0;return mc=0,t}function ed(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function td(t){if(dc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}dc=!1}Li=0,Dt=Je=Oe=null,Ks=!1,yl=mc=0,Ws=null}function Tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Oe.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function Ct(){if(Je===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var i=Dt===null?Oe.memoizedState:Dt.next;if(i!==null)Dt=i,Je=t;else{if(t===null)throw Oe.alternate===null?Error(a(467)):Error(a(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Dt===null?Oe.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function nd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(t){var i=yl;return yl+=1,Ws===null&&(Ws=[]),t=ey(Ws,t,i),i=Oe,(Dt===null?i.memoizedState:Dt.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?qy:Hy),t}function gc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===he)return ln(t)}throw Error(a(438,String(t)))}function rd(t){var i=null,s=Oe.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=nd(),Oe.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=N;return i.index++,s}function li(t,i){return typeof i=="function"?i(t):i}function pc(t){var i=Ct();return id(i,Je,t)}function id(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,R=null,U=i,G=!1;do{var $=U.lane&-536870913;if($!==U.lane?(ze&$)===$:(Li&$)===$){var z=U.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),$===Gs&&(G=!0);else if((Li&z)===z){U=U.next,z===Gs&&(G=!0);continue}else $={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(T=R=$,v=d):R=R.next=$,Oe.lanes|=z,Fi|=z;$=U.action,Wa&&s(d,$),d=U.hasEagerState?U.eagerState:s(d,$)}else z={lane:$,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(T=R=z,v=d):R=R.next=z,Oe.lanes|=$,Fi|=$;U=U.next}while(U!==null&&U!==i);if(R===null?v=d:R.next=T,!Dn(d,t.memoizedState)&&(Ht=!0,G&&(s=Ys,s!==null)))throw s;t.memoizedState=d,t.baseState=v,t.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ad(t){var i=Ct(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=i.memoizedState;if(h!==null){s.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);Dn(d,i.memoizedState)||(Ht=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function ly(t,i,s){var l=Oe,h=Ct(),d=Ye;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var v=!Dn((Je||h).memoizedState,s);v&&(h.memoizedState=s,Ht=!0),h=h.queue;var T=hy.bind(null,l,h,t);if(vl(2048,8,T,[t]),h.getSnapshot!==i||v||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,Xs(9,yc(),cy.bind(null,l,h,s,i),null),ot===null)throw Error(a(349));d||(Li&124)!==0||uy(l,i,s)}return s}function uy(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Oe.updateQueue,i===null?(i=nd(),Oe.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function cy(t,i,s,l){i.value=s,i.getSnapshot=l,fy(i)&&dy(t)}function hy(t,i,s){return s(function(){fy(i)&&dy(t)})}function fy(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!Dn(t,s)}catch{return!0}}function dy(t){var i=Bs(t,2);i!==null&&Pn(i,t,2)}function sd(t){var i=Tn();if(typeof t=="function"){var s=t;if(t=s(),Wa){pn(!0);try{s()}finally{pn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:t},i}function my(t,i,s,l){return t.baseState=s,id(t,Je,typeof l=="function"?l:li)}function yS(t,i,s,l,h){if(vc(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};H.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,gy(i,d)):(d.next=s.next,i.pending=s.next=d)}}function gy(t,i){var s=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=H.T,v={};H.T=v;try{var T=s(h,l),R=H.S;R!==null&&R(v,T),py(t,i,T)}catch(U){od(t,i,U)}finally{H.T=d}}else try{d=s(h,l),py(t,i,d)}catch(U){od(t,i,U)}}function py(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){yy(t,i,l)},function(l){return od(t,i,l)}):yy(t,i,s)}function yy(t,i,s){i.status="fulfilled",i.value=s,_y(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,gy(t,s)))}function od(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,_y(i),i=i.next;while(i!==l)}t.action=null}function _y(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function vy(t,i){return i}function Ey(t,i){if(Ye){var s=ot.formState;if(s!==null){e:{var l=Oe;if(Ye){if(Et){t:{for(var h=Et,d=Dr;h.nodeType!==8;){if(!d){h=null;break t}if(h=hr(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Et=hr(h.nextSibling),l=h.data==="F!";break e}}Ga(l)}l=!1}l&&(i=s[0])}}return s=Tn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vy,lastRenderedState:i},s.queue=l,s=jy.bind(null,Oe,l),l.dispatch=s,l=sd(!1),d=fd.bind(null,Oe,!1,l.queue),l=Tn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,s=yS.bind(null,Oe,h,d,s),h.dispatch=s,l.memoizedState=t,[i,s,!1]}function Ty(t){var i=Ct();return by(i,Je,t)}function by(t,i,s){if(i=id(t,i,vy)[0],t=pc(li)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=_l(i)}catch(v){throw v===fl?cc:v}else l=i;i=Ct();var h=i.queue,d=h.dispatch;return s!==i.memoizedState&&(Oe.flags|=2048,Xs(9,yc(),_S.bind(null,h,s),null)),[l,d,t]}function _S(t,i){t.action=i}function wy(t){var i=Ct(),s=Je;if(s!==null)return by(i,s,t);Ct(),i=i.memoizedState,s=Ct();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function Xs(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Oe.updateQueue,i===null&&(i=nd(),Oe.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function yc(){return{destroy:void 0,resource:void 0}}function Sy(){return Ct().memoizedState}function _c(t,i,s,l){var h=Tn();l=l===void 0?null:l,Oe.flags|=t,h.memoizedState=Xs(1|i,yc(),s,l)}function vl(t,i,s,l){var h=Ct();l=l===void 0?null:l;var d=h.memoizedState.inst;Je!==null&&l!==null&&$f(l,Je.memoizedState.deps)?h.memoizedState=Xs(i,d,s,l):(Oe.flags|=t,h.memoizedState=Xs(1|i,d,s,l))}function Ay(t,i){_c(8390656,8,t,i)}function Ry(t,i){vl(2048,8,t,i)}function Iy(t,i){return vl(4,2,t,i)}function Dy(t,i){return vl(4,4,t,i)}function Cy(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Oy(t,i,s){s=s!=null?s.concat([t]):null,vl(4,4,Cy.bind(null,i,t),s)}function ld(){}function Ny(t,i){var s=Ct();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&$f(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function My(t,i){var s=Ct();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&$f(i,l[1]))return l[0];if(l=t(),Wa){pn(!0);try{t()}finally{pn(!1)}}return s.memoizedState=[l,i],l}function ud(t,i,s){return s===void 0||(Li&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=x_(),Oe.lanes|=t,Fi|=t,s)}function Vy(t,i,s,l){return Dn(s,i)?s:Qs.current!==null?(t=ud(t,s,l),Dn(t,i)||(Ht=!0),t):(Li&42)===0?(Ht=!0,t.memoizedState=s):(t=x_(),Oe.lanes|=t,Fi|=t,i)}function Py(t,i,s,l,h){var d=re.p;re.p=d!==0&&8>d?d:8;var v=H.T,T={};H.T=T,fd(t,!1,i,s);try{var R=h(),U=H.S;if(U!==null&&U(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=mS(R,l);El(t,i,G,Vn(t))}else El(t,i,l,Vn(t))}catch($){El(t,i,{then:function(){},status:"rejected",reason:$},Vn())}finally{re.p=d,H.T=v}}function vS(){}function cd(t,i,s,l){if(t.tag!==5)throw Error(a(476));var h=xy(t).queue;Py(t,h,i,ue,s===null?vS:function(){return ky(t),s(l)})}function xy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:ue},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ky(t){var i=xy(t).next.queue;El(t,i,{},Vn())}function hd(){return ln(Ul)}function Ly(){return Ct().memoizedState}function Uy(){return Ct().memoizedState}function ES(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Vn();t=xi(s);var l=ki(i,t,s);l!==null&&(Pn(l,i,s),ml(l,i,s)),i={cache:Bf()},t.payload=i;return}i=i.return}}function TS(t,i,s){var l=Vn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},vc(t)?zy(i,s):(s=Nf(t,i,s,l),s!==null&&(Pn(s,t,l),By(s,i,l)))}function jy(t,i,s){var l=Vn();El(t,i,s,l)}function El(t,i,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(vc(t))zy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,s);if(h.hasEagerState=!0,h.eagerState=T,Dn(T,v))return nc(t,i,h,0),ot===null&&tc(),!1}catch{}finally{}if(s=Nf(t,i,h,l),s!==null)return Pn(s,t,l),By(s,i,l),!0}return!1}function fd(t,i,s,l){if(l={lane:2,revertLane:Fd(),action:l,hasEagerState:!1,eagerState:null,next:null},vc(t)){if(i)throw Error(a(479))}else i=Nf(t,s,l,2),i!==null&&Pn(i,t,2)}function vc(t){var i=t.alternate;return t===Oe||i!==null&&i===Oe}function zy(t,i){Ks=dc=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function By(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,_r(t,s)}}var Ec={readContext:ln,use:gc,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt},qy={readContext:ln,use:gc,useCallback:function(t,i){return Tn().memoizedState=[t,i===void 0?null:i],t},useContext:ln,useEffect:Ay,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,_c(4194308,4,Cy.bind(null,i,t),s)},useLayoutEffect:function(t,i){return _c(4194308,4,t,i)},useInsertionEffect:function(t,i){_c(4,2,t,i)},useMemo:function(t,i){var s=Tn();i=i===void 0?null:i;var l=t();if(Wa){pn(!0);try{t()}finally{pn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=Tn();if(s!==void 0){var h=s(i);if(Wa){pn(!0);try{s(i)}finally{pn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=TS.bind(null,Oe,t),[l.memoizedState,t]},useRef:function(t){var i=Tn();return t={current:t},i.memoizedState=t},useState:function(t){t=sd(t);var i=t.queue,s=jy.bind(null,Oe,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:ld,useDeferredValue:function(t,i){var s=Tn();return ud(s,t,i)},useTransition:function(){var t=sd(!1);return t=Py.bind(null,Oe,t.queue,!0,!1),Tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Oe,h=Tn();if(Ye){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),ot===null)throw Error(a(349));(ze&124)!==0||uy(l,i,s)}h.memoizedState=s;var d={value:s,getSnapshot:i};return h.queue=d,Ay(hy.bind(null,l,d,t),[t]),l.flags|=2048,Xs(9,yc(),cy.bind(null,l,d,s,i),null),s},useId:function(){var t=Tn(),i=ot.identifierPrefix;if(Ye){var s=ai,l=ii;s=(l&~(1<<32-At(l)-1)).toString(32)+s,i=""+i+"R"+s,s=mc++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=gS++,i=""+i+"r"+s.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:hd,useFormState:Ey,useActionState:Ey,useOptimistic:function(t){var i=Tn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=fd.bind(null,Oe,!0,s),s.dispatch=i,[t,i]},useMemoCache:rd,useCacheRefresh:function(){return Tn().memoizedState=ES.bind(null,Oe)}},Hy={readContext:ln,use:gc,useCallback:Ny,useContext:ln,useEffect:Ry,useImperativeHandle:Oy,useInsertionEffect:Iy,useLayoutEffect:Dy,useMemo:My,useReducer:pc,useRef:Sy,useState:function(){return pc(li)},useDebugValue:ld,useDeferredValue:function(t,i){var s=Ct();return Vy(s,Je.memoizedState,t,i)},useTransition:function(){var t=pc(li)[0],i=Ct().memoizedState;return[typeof t=="boolean"?t:_l(t),i]},useSyncExternalStore:ly,useId:Ly,useHostTransitionStatus:hd,useFormState:Ty,useActionState:Ty,useOptimistic:function(t,i){var s=Ct();return my(s,Je,t,i)},useMemoCache:rd,useCacheRefresh:Uy},bS={readContext:ln,use:gc,useCallback:Ny,useContext:ln,useEffect:Ry,useImperativeHandle:Oy,useInsertionEffect:Iy,useLayoutEffect:Dy,useMemo:My,useReducer:ad,useRef:Sy,useState:function(){return ad(li)},useDebugValue:ld,useDeferredValue:function(t,i){var s=Ct();return Je===null?ud(s,t,i):Vy(s,Je.memoizedState,t,i)},useTransition:function(){var t=ad(li)[0],i=Ct().memoizedState;return[typeof t=="boolean"?t:_l(t),i]},useSyncExternalStore:ly,useId:Ly,useHostTransitionStatus:hd,useFormState:wy,useActionState:wy,useOptimistic:function(t,i){var s=Ct();return Je!==null?my(s,Je,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:rd,useCacheRefresh:Uy},$s=null,Tl=0;function Tc(t){var i=Tl;return Tl+=1,$s===null&&($s=[]),ey($s,t,i)}function bl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function bc(t,i){throw i.$$typeof===w?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Fy(t){var i=t._init;return i(t._payload)}function Gy(t){function i(x,O){if(t){var L=x.deletions;L===null?(x.deletions=[O],x.flags|=16):L.push(O)}}function s(x,O){if(!t)return null;for(;O!==null;)i(x,O),O=O.sibling;return null}function l(x){for(var O=new Map;x!==null;)x.key!==null?O.set(x.key,x):O.set(x.index,x),x=x.sibling;return O}function h(x,O){return x=ri(x,O),x.index=0,x.sibling=null,x}function d(x,O,L){return x.index=L,t?(L=x.alternate,L!==null?(L=L.index,L<O?(x.flags|=67108866,O):L):(x.flags|=67108866,O)):(x.flags|=1048576,O)}function v(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function T(x,O,L,Q){return O===null||O.tag!==6?(O=Vf(L,x.mode,Q),O.return=x,O):(O=h(O,L),O.return=x,O)}function R(x,O,L,Q){var oe=L.type;return oe===F?G(x,O,L.props.children,Q,L.key):O!==null&&(O.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===A&&Fy(oe)===O.type)?(O=h(O,L.props),bl(O,L),O.return=x,O):(O=ic(L.type,L.key,L.props,null,x.mode,Q),bl(O,L),O.return=x,O)}function U(x,O,L,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Pf(L,x.mode,Q),O.return=x,O):(O=h(O,L.children||[]),O.return=x,O)}function G(x,O,L,Q,oe){return O===null||O.tag!==7?(O=Ba(L,x.mode,Q,oe),O.return=x,O):(O=h(O,L),O.return=x,O)}function $(x,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Vf(""+O,x.mode,L),O.return=x,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case S:return L=ic(O.type,O.key,O.props,null,x.mode,L),bl(L,O),L.return=x,L;case j:return O=Pf(O,x.mode,L),O.return=x,O;case A:var Q=O._init;return O=Q(O._payload),$(x,O,L)}if(st(O)||P(O))return O=Ba(O,x.mode,L,null),O.return=x,O;if(typeof O.then=="function")return $(x,Tc(O),L);if(O.$$typeof===he)return $(x,lc(x,O),L);bc(x,O)}return null}function z(x,O,L,Q){var oe=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return oe!==null?null:T(x,O,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case S:return L.key===oe?R(x,O,L,Q):null;case j:return L.key===oe?U(x,O,L,Q):null;case A:return oe=L._init,L=oe(L._payload),z(x,O,L,Q)}if(st(L)||P(L))return oe!==null?null:G(x,O,L,Q,null);if(typeof L.then=="function")return z(x,O,Tc(L),Q);if(L.$$typeof===he)return z(x,O,lc(x,L),Q);bc(x,L)}return null}function B(x,O,L,Q,oe){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(L)||null,T(O,x,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:return x=x.get(Q.key===null?L:Q.key)||null,R(O,x,Q,oe);case j:return x=x.get(Q.key===null?L:Q.key)||null,U(O,x,Q,oe);case A:var Me=Q._init;return Q=Me(Q._payload),B(x,O,L,Q,oe)}if(st(Q)||P(Q))return x=x.get(L)||null,G(O,x,Q,oe,null);if(typeof Q.then=="function")return B(x,O,L,Tc(Q),oe);if(Q.$$typeof===he)return B(x,O,L,lc(O,Q),oe);bc(O,Q)}return null}function Ee(x,O,L,Q){for(var oe=null,Me=null,fe=O,pe=O=0,Gt=null;fe!==null&&pe<L.length;pe++){fe.index>pe?(Gt=fe,fe=null):Gt=fe.sibling;var Fe=z(x,fe,L[pe],Q);if(Fe===null){fe===null&&(fe=Gt);break}t&&fe&&Fe.alternate===null&&i(x,fe),O=d(Fe,O,pe),Me===null?oe=Fe:Me.sibling=Fe,Me=Fe,fe=Gt}if(pe===L.length)return s(x,fe),Ye&&Ha(x,pe),oe;if(fe===null){for(;pe<L.length;pe++)fe=$(x,L[pe],Q),fe!==null&&(O=d(fe,O,pe),Me===null?oe=fe:Me.sibling=fe,Me=fe);return Ye&&Ha(x,pe),oe}for(fe=l(fe);pe<L.length;pe++)Gt=B(fe,x,pe,L[pe],Q),Gt!==null&&(t&&Gt.alternate!==null&&fe.delete(Gt.key===null?pe:Gt.key),O=d(Gt,O,pe),Me===null?oe=Gt:Me.sibling=Gt,Me=Gt);return t&&fe.forEach(function(Ji){return i(x,Ji)}),Ye&&Ha(x,pe),oe}function ge(x,O,L,Q){if(L==null)throw Error(a(151));for(var oe=null,Me=null,fe=O,pe=O=0,Gt=null,Fe=L.next();fe!==null&&!Fe.done;pe++,Fe=L.next()){fe.index>pe?(Gt=fe,fe=null):Gt=fe.sibling;var Ji=z(x,fe,Fe.value,Q);if(Ji===null){fe===null&&(fe=Gt);break}t&&fe&&Ji.alternate===null&&i(x,fe),O=d(Ji,O,pe),Me===null?oe=Ji:Me.sibling=Ji,Me=Ji,fe=Gt}if(Fe.done)return s(x,fe),Ye&&Ha(x,pe),oe;if(fe===null){for(;!Fe.done;pe++,Fe=L.next())Fe=$(x,Fe.value,Q),Fe!==null&&(O=d(Fe,O,pe),Me===null?oe=Fe:Me.sibling=Fe,Me=Fe);return Ye&&Ha(x,pe),oe}for(fe=l(fe);!Fe.done;pe++,Fe=L.next())Fe=B(fe,x,pe,Fe.value,Q),Fe!==null&&(t&&Fe.alternate!==null&&fe.delete(Fe.key===null?pe:Fe.key),O=d(Fe,O,pe),Me===null?oe=Fe:Me.sibling=Fe,Me=Fe);return t&&fe.forEach(function(wA){return i(x,wA)}),Ye&&Ha(x,pe),oe}function tt(x,O,L,Q){if(typeof L=="object"&&L!==null&&L.type===F&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case S:e:{for(var oe=L.key;O!==null;){if(O.key===oe){if(oe=L.type,oe===F){if(O.tag===7){s(x,O.sibling),Q=h(O,L.props.children),Q.return=x,x=Q;break e}}else if(O.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===A&&Fy(oe)===O.type){s(x,O.sibling),Q=h(O,L.props),bl(Q,L),Q.return=x,x=Q;break e}s(x,O);break}else i(x,O);O=O.sibling}L.type===F?(Q=Ba(L.props.children,x.mode,Q,L.key),Q.return=x,x=Q):(Q=ic(L.type,L.key,L.props,null,x.mode,Q),bl(Q,L),Q.return=x,x=Q)}return v(x);case j:e:{for(oe=L.key;O!==null;){if(O.key===oe)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){s(x,O.sibling),Q=h(O,L.children||[]),Q.return=x,x=Q;break e}else{s(x,O);break}else i(x,O);O=O.sibling}Q=Pf(L,x.mode,Q),Q.return=x,x=Q}return v(x);case A:return oe=L._init,L=oe(L._payload),tt(x,O,L,Q)}if(st(L))return Ee(x,O,L,Q);if(P(L)){if(oe=P(L),typeof oe!="function")throw Error(a(150));return L=oe.call(L),ge(x,O,L,Q)}if(typeof L.then=="function")return tt(x,O,Tc(L),Q);if(L.$$typeof===he)return tt(x,O,lc(x,L),Q);bc(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(s(x,O.sibling),Q=h(O,L),Q.return=x,x=Q):(s(x,O),Q=Vf(L,x.mode,Q),Q.return=x,x=Q),v(x)):s(x,O)}return function(x,O,L,Q){try{Tl=0;var oe=tt(x,O,L,Q);return $s=null,oe}catch(fe){if(fe===fl||fe===cc)throw fe;var Me=Cn(29,fe,null,x.mode);return Me.lanes=Q,Me.return=x,Me}finally{}}}var Zs=Gy(!0),Yy=Gy(!1),Wn=W(null),Cr=null;function Ui(t){var i=t.alternate;ee(Lt,Lt.current&1),ee(Wn,t),Cr===null&&(i===null||Qs.current!==null||i.memoizedState!==null)&&(Cr=t)}function Qy(t){if(t.tag===22){if(ee(Lt,Lt.current),ee(Wn,t),Cr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Cr=t)}}else ji()}function ji(){ee(Lt,Lt.current),ee(Wn,Wn.current)}function ui(t){ne(Wn),Cr===t&&(Cr=null),ne(Lt)}var Lt=W(0);function wc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||nm(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function dd(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:E({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var md={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=Vn(),h=xi(l);h.payload=i,s!=null&&(h.callback=s),i=ki(t,h,l),i!==null&&(Pn(i,t,l),ml(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=Vn(),h=xi(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=ki(t,h,l),i!==null&&(Pn(i,t,l),ml(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Vn(),l=xi(s);l.tag=2,i!=null&&(l.callback=i),i=ki(t,l,s),i!==null&&(Pn(i,t,s),ml(i,t,s))}};function Ky(t,i,s,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!il(s,l)||!il(h,d):!0}function Wy(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&md.enqueueReplaceState(i,i.state,null)}function Xa(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=E({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var Sc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Xy(t){Sc(t)}function $y(t){console.error(t)}function Zy(t){Sc(t)}function Ac(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Jy(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function gd(t,i,s){return s=xi(s),s.tag=3,s.payload={element:null},s.callback=function(){Ac(t,i)},s}function e_(t){return t=xi(t),t.tag=3,t}function t_(t,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Jy(i,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Jy(i,s,l),typeof h!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function wS(t,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&ul(i,s,h,!0),s=Wn.current,s!==null){switch(s.tag){case 13:return Cr===null?jd():s.alternate===null&&Tt===0&&(Tt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Ff?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),Bd(t,l,h)),!1;case 22:return s.flags|=65536,l===Ff?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),Bd(t,l,h)),!1}throw Error(a(435,s.tag))}return Bd(t,l,h),jd(),!1}if(Ye)return i=Wn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Lf&&(t=Error(a(422),{cause:l}),ll(Gn(t,s)))):(l!==Lf&&(i=Error(a(423),{cause:l}),ll(Gn(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Gn(l,s),h=gd(t.stateNode,l,h),Qf(t,h),Tt!==4&&(Tt=2)),!1;var d=Error(a(520),{cause:l});if(d=Gn(d,s),Cl===null?Cl=[d]:Cl.push(d),Tt!==4&&(Tt=2),i===null)return!0;l=Gn(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=gd(s.stateNode,l,t),Qf(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gi===null||!Gi.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=e_(h),t_(h,t,s,l),Qf(s,h),!1}s=s.return}while(s!==null);return!1}var n_=Error(a(461)),Ht=!1;function en(t,i,s,l){i.child=t===null?Yy(i,null,s,l):Zs(i,t.child,s,l)}function r_(t,i,s,l,h){s=s.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Qa(i),l=Zf(t,i,s,v,d,h),T=Jf(),t!==null&&!Ht?(ed(t,i,h),ci(t,i,h)):(Ye&&T&&xf(i),i.flags|=1,en(t,i,l,h),i.child)}function i_(t,i,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!Mf(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,a_(t,i,d,l,h)):(t=ic(s.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!wd(t,h)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:il,s(v,l)&&t.ref===i.ref)return ci(t,i,h)}return i.flags|=1,t=ri(d,l),t.ref=i.ref,t.return=i,i.child=t}function a_(t,i,s,l,h){if(t!==null){var d=t.memoizedProps;if(il(d,l)&&t.ref===i.ref)if(Ht=!1,i.pendingProps=l=d,wd(t,h))(t.flags&131072)!==0&&(Ht=!0);else return i.lanes=t.lanes,ci(t,i,h)}return pd(t,i,s,l,h)}function s_(t,i,s){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return o_(t,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&uc(i,d!==null?d.cachePool:null),d!==null?ay(i,d):Wf(),Qy(i);else return i.lanes=i.childLanes=536870912,o_(t,i,d!==null?d.baseLanes|s:s,s)}else d!==null?(uc(i,d.cachePool),ay(i,d),ji(),i.memoizedState=null):(t!==null&&uc(i,null),Wf(),ji());return en(t,i,h,s),i.child}function o_(t,i,s,l){var h=Hf();return h=h===null?null:{parent:kt._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},t!==null&&uc(i,null),Wf(),Qy(i),t!==null&&ul(t,i,l,!0),null}function Rc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function pd(t,i,s,l,h){return Qa(i),s=Zf(t,i,s,l,void 0,h),l=Jf(),t!==null&&!Ht?(ed(t,i,h),ci(t,i,h)):(Ye&&l&&xf(i),i.flags|=1,en(t,i,s,h),i.child)}function l_(t,i,s,l,h,d){return Qa(i),i.updateQueue=null,s=oy(i,l,s,h),sy(t),l=Jf(),t!==null&&!Ht?(ed(t,i,d),ci(t,i,d)):(Ye&&l&&xf(i),i.flags|=1,en(t,i,s,d),i.child)}function u_(t,i,s,l,h){if(Qa(i),i.stateNode===null){var d=qs,v=s.contextType;typeof v=="object"&&v!==null&&(d=ln(v)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=md,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Gf(i),v=s.contextType,d.context=typeof v=="object"&&v!==null?ln(v):qs,d.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(dd(i,s,v,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&md.enqueueReplaceState(d,d.state,null),pl(i,l,d,h),gl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,R=Xa(s,T);d.props=R;var U=d.context,G=s.contextType;v=qs,typeof G=="object"&&G!==null&&(v=ln(G));var $=s.getDerivedStateFromProps;G=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||U!==v)&&Wy(i,d,l,v),Pi=!1;var z=i.memoizedState;d.state=z,pl(i,l,d,h),gl(),U=i.memoizedState,T||z!==U||Pi?(typeof $=="function"&&(dd(i,s,$,l),U=i.memoizedState),(R=Pi||Ky(i,s,R,l,z,U,v))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=U),d.props=l,d.state=U,d.context=v,l=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Yf(t,i),v=i.memoizedProps,G=Xa(s,v),d.props=G,$=i.pendingProps,z=d.context,U=s.contextType,R=qs,typeof U=="object"&&U!==null&&(R=ln(U)),T=s.getDerivedStateFromProps,(U=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==$||z!==R)&&Wy(i,d,l,R),Pi=!1,z=i.memoizedState,d.state=z,pl(i,l,d,h),gl();var B=i.memoizedState;v!==$||z!==B||Pi||t!==null&&t.dependencies!==null&&oc(t.dependencies)?(typeof T=="function"&&(dd(i,s,T,l),B=i.memoizedState),(G=Pi||Ky(i,s,G,l,z,B,R)||t!==null&&t.dependencies!==null&&oc(t.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,B,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,B,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=R,l=G):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Rc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Zs(i,t.child,null,h),i.child=Zs(i,null,s,h)):en(t,i,s,h),i.memoizedState=d.state,t=i.child):t=ci(t,i,h),t}function c_(t,i,s,l){return ol(),i.flags|=256,en(t,i,s,l),i.child}var yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _d(t){return{baseLanes:t,cachePool:$p()}}function vd(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=Xn),t}function h_(t,i,s){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Lt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ye){if(h?Ui(i):ji(),Ye){var T=Et,R;if(R=T){e:{for(R=T,T=Dr;R.nodeType!==8;){if(!T){T=null;break e}if(R=hr(R.nextSibling),R===null){T=null;break e}}T=R}T!==null?(i.memoizedState={dehydrated:T,treeContext:qa!==null?{id:ii,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},R=Cn(18,null,null,0),R.stateNode=T,R.return=i,i.child=R,En=i,Et=null,R=!0):R=!1}R||Ga(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return nm(T)?i.lanes=32:i.lanes=536870912,null;ui(i)}return T=l.children,l=l.fallback,h?(ji(),h=i.mode,T=Ic({mode:"hidden",children:T},h),l=Ba(l,h,s,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=_d(s),h.childLanes=vd(t,v,s),i.memoizedState=yd,l):(Ui(i),Ed(i,T))}if(R=t.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(d)i.flags&256?(Ui(i),i.flags&=-257,i=Td(t,i,s)):i.memoizedState!==null?(ji(),i.child=t.child,i.flags|=128,i=null):(ji(),h=l.fallback,T=i.mode,l=Ic({mode:"visible",children:l.children},T),h=Ba(h,T,s,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Zs(i,t.child,null,s),l=i.child,l.memoizedState=_d(s),l.childLanes=vd(t,v,s),i.memoizedState=yd,i=h);else if(Ui(i),nm(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var U=v.dgst;v=U,l=Error(a(419)),l.stack="",l.digest=v,ll({value:l,source:null,stack:null}),i=Td(t,i,s)}else if(Ht||ul(t,i,s,!1),v=(s&t.childLanes)!==0,Ht||v){if(v=ot,v!==null&&(l=s&-s,l=(l&42)!==0?1:He(l),l=(l&(v.suspendedLanes|s))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,Bs(t,l),Pn(v,t,l),n_;T.data==="$?"||jd(),i=Td(t,i,s)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=R.treeContext,Et=hr(T.nextSibling),En=i,Ye=!0,Fa=null,Dr=!1,t!==null&&(Qn[Kn++]=ii,Qn[Kn++]=ai,Qn[Kn++]=qa,ii=t.id,ai=t.overflow,qa=i),i=Ed(i,l.children),i.flags|=4096);return i}return h?(ji(),h=l.fallback,T=i.mode,R=t.child,U=R.sibling,l=ri(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,U!==null?h=ri(U,h):(h=Ba(h,T,s,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=_d(s):(R=T.cachePool,R!==null?(U=kt._currentValue,R=R.parent!==U?{parent:U,pool:U}:R):R=$p(),T={baseLanes:T.baseLanes|s,cachePool:R}),h.memoizedState=T,h.childLanes=vd(t,v,s),i.memoizedState=yd,l):(Ui(i),s=t.child,t=s.sibling,s=ri(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=s,i.memoizedState=null,s)}function Ed(t,i){return i=Ic({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ic(t,i){return t=Cn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Td(t,i,s){return Zs(i,t.child,null,s),t=Ed(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function f_(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),jf(t.return,i,s)}function bd(t,i,s,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function d_(t,i,s){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(en(t,i,l.children,s),l=Lt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&f_(t,s,i);else if(t.tag===19)f_(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ee(Lt,l),h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&wc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),bd(i,!1,h,s,d);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&wc(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}bd(i,!0,s,null,d);break;case"together":bd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ci(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Fi|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(ul(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=ri(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=ri(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function wd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&oc(t)))}function SS(t,i,s){switch(i.tag){case 3:qe(i,i.stateNode.containerInfo),Vi(i,kt,t.memoizedState.cache),ol();break;case 27:case 5:xn(i);break;case 4:qe(i,i.stateNode.containerInfo);break;case 10:Vi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ui(i),i.flags|=128,null):(s&i.child.childLanes)!==0?h_(t,i,s):(Ui(i),t=ci(t,i,s),t!==null?t.sibling:null);Ui(i);break;case 19:var h=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(ul(t,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return d_(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ee(Lt,Lt.current),l)break;return null;case 22:case 23:return i.lanes=0,s_(t,i,s);case 24:Vi(i,kt,t.memoizedState.cache)}return ci(t,i,s)}function m_(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ht=!0;else{if(!wd(t,s)&&(i.flags&128)===0)return Ht=!1,SS(t,i,s);Ht=(t.flags&131072)!==0}else Ht=!1,Ye&&(i.flags&1048576)!==0&&Fp(i,sc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Mf(l)?(t=Xa(l,t),i.tag=1,i=u_(null,i,l,t,s)):(i.tag=0,i=pd(null,i,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===Re){i.tag=11,i=r_(null,i,l,t,s);break e}else if(h===V){i.tag=14,i=i_(null,i,l,t,s);break e}}throw i=ht(l)||l,Error(a(306,i,""))}}return i;case 0:return pd(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=Xa(l,i.pendingProps),u_(t,i,l,h,s);case 3:e:{if(qe(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Yf(t,i),pl(i,l,null,s);var v=i.memoizedState;if(l=v.cache,Vi(i,kt,l),l!==d.cache&&zf(i,[kt],s,!0),gl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=c_(t,i,l,s);break e}else if(l!==h){h=Gn(Error(a(424)),i),ll(h),i=c_(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Et=hr(t.firstChild),En=i,Ye=!0,Fa=null,Dr=!0,s=Yy(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ol(),l===h){i=ci(t,i,s);break e}en(t,i,l,s)}i=i.child}return i;case 26:return Rc(t,i),t===null?(s=_v(i.type,null,i.pendingProps,null))?i.memoizedState=s:Ye||(s=i.type,t=i.pendingProps,l=Bc(me.current).createElement(s),l[vt]=i,l[mt]=t,nn(l,s,t),Ae(l),i.stateNode=l):i.memoizedState=_v(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return xn(i),t===null&&Ye&&(l=i.stateNode=gv(i.type,i.pendingProps,me.current),En=i,Dr=!0,h=Et,Ki(i.type)?(rm=h,Et=hr(l.firstChild)):Et=h),en(t,i,i.pendingProps.children,s),Rc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ye&&((h=l=Et)&&(l=ZS(l,i.type,i.pendingProps,Dr),l!==null?(i.stateNode=l,En=i,Et=hr(l.firstChild),Dr=!1,h=!0):h=!1),h||Ga(i)),xn(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Jd(h,d)?l=null:v!==null&&Jd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Zf(t,i,pS,null,null,s),Ul._currentValue=h),Rc(t,i),en(t,i,l,s),i.child;case 6:return t===null&&Ye&&((t=s=Et)&&(s=JS(s,i.pendingProps,Dr),s!==null?(i.stateNode=s,En=i,Et=null,t=!0):t=!1),t||Ga(i)),null;case 13:return h_(t,i,s);case 4:return qe(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Zs(i,null,l,s):en(t,i,l,s),i.child;case 11:return r_(t,i,i.type,i.pendingProps,s);case 7:return en(t,i,i.pendingProps,s),i.child;case 8:return en(t,i,i.pendingProps.children,s),i.child;case 12:return en(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Vi(i,i.type,l.value),en(t,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Qa(i),h=ln(h),l=l(h),i.flags|=1,en(t,i,l,s),i.child;case 14:return i_(t,i,i.type,i.pendingProps,s);case 15:return a_(t,i,i.type,i.pendingProps,s);case 19:return d_(t,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},t===null?(s=Ic(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=ri(t.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return s_(t,i,s);case 24:return Qa(i),l=ln(kt),t===null?(h=Hf(),h===null&&(h=ot,d=Bf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),i.memoizedState={parent:l,cache:h},Gf(i),Vi(i,kt,h)):((t.lanes&s)!==0&&(Yf(t,i),pl(i,null,null,s),gl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Vi(i,kt,l)):(l=d.cache,Vi(i,kt,l),l!==h.cache&&zf(i,[kt],s,!0))),en(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function hi(t){t.flags|=4}function g_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!wv(i)){if(i=Wn.current,i!==null&&((ze&4194048)===ze?Cr!==null:(ze&62914560)!==ze&&(ze&536870912)===0||i!==Cr))throw dl=Ff,Zp;t.flags|=8192}}function Dc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Di():536870912,t.lanes|=i,no|=i)}function wl(t,i){if(!Ye)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function yt(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function AS(t,i,s){var l=i.pendingProps;switch(kf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(i),null;case 1:return yt(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),oi(kt),Vt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(sl(i)?hi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Qp())),yt(i),null;case 26:return s=i.memoizedState,t===null?(hi(i),s!==null?(yt(i),g_(i,s)):(yt(i),i.flags&=-16777217)):s?s!==t.memoizedState?(hi(i),yt(i),g_(i,s)):(yt(i),i.flags&=-16777217):(t.memoizedProps!==l&&hi(i),yt(i),i.flags&=-16777217),null;case 27:An(i),s=me.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&hi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return yt(i),null}t=ce.current,sl(i)?Gp(i):(t=gv(h,l,s),i.stateNode=t,hi(i))}return yt(i),null;case 5:if(An(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&hi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return yt(i),null}if(t=ce.current,sl(i))Gp(i);else{switch(h=Bc(me.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[vt]=i,t[mt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(nn(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&hi(i)}}return yt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&hi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=me.current,sl(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,h=En,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[vt]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||lv(t.nodeValue,s)),t||Ga(i)}else t=Bc(t).createTextNode(l),t[vt]=i,i.stateNode=t}return yt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=sl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[vt]=i}else ol(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;yt(i),h=!1}else h=Qp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ui(i),i):(ui(i),null)}if(ui(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),Dc(i,i.updateQueue),yt(i),null;case 4:return Vt(),t===null&&Kd(i.stateNode.containerInfo),yt(i),null;case 10:return oi(i.type),yt(i),null;case 19:if(ne(Lt),h=i.memoizedState,h===null)return yt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)wl(h,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=wc(t),d!==null){for(i.flags|=128,wl(h,!1),t=d.updateQueue,i.updateQueue=t,Dc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Hp(s,t),s=s.sibling;return ee(Lt,Lt.current&1|2),i.child}t=t.sibling}h.tail!==null&&Kt()>Nc&&(i.flags|=128,l=!0,wl(h,!1),i.lanes=4194304)}else{if(!l)if(t=wc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Dc(i,t),wl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ye)return yt(i),null}else 2*Kt()-h.renderingStartTime>Nc&&s!==536870912&&(i.flags|=128,l=!0,wl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Kt(),i.sibling=null,t=Lt.current,ee(Lt,l?t&1|2:t&1),i):(yt(i),null);case 22:case 23:return ui(i),Xf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(yt(i),i.subtreeFlags&6&&(i.flags|=8192)):yt(i),s=i.updateQueue,s!==null&&Dc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&ne(Ka),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),oi(kt),yt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function RS(t,i){switch(kf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return oi(kt),Vt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return An(i),null;case 13:if(ui(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));ol()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ne(Lt),null;case 4:return Vt(),null;case 10:return oi(i.type),null;case 22:case 23:return ui(i),Xf(),t!==null&&ne(Ka),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return oi(kt),null;case 25:return null;default:return null}}function p_(t,i){switch(kf(i),i.tag){case 3:oi(kt),Vt();break;case 26:case 27:case 5:An(i);break;case 4:Vt();break;case 13:ui(i);break;case 19:ne(Lt);break;case 10:oi(i.type);break;case 22:case 23:ui(i),Xf(),t!==null&&ne(Ka);break;case 24:oi(kt)}}function Sl(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,v=s.inst;l=d(),v.destroy=l}s=s.next}while(s!==h)}}catch(T){it(i,i.return,T)}}function zi(t,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var R=s,U=T;try{U()}catch(G){it(h,R,G)}}}l=l.next}while(l!==d)}}catch(G){it(i,i.return,G)}}function y_(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{iy(i,s)}catch(l){it(t,t.return,l)}}}function __(t,i,s){s.props=Xa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){it(t,i,l)}}function Al(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){it(t,i,h)}}function Or(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){it(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){it(t,i,h)}else s.current=null}function v_(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){it(t,t.return,h)}}function Sd(t,i,s){try{var l=t.stateNode;QS(l,t.type,s,i),l[mt]=i}catch(h){it(t,t.return,h)}}function E_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ki(t.type)||t.tag===4}function Ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||E_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ki(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rd(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=zc));else if(l!==4&&(l===27&&Ki(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(Rd(t,i,s),t=t.sibling;t!==null;)Rd(t,i,s),t=t.sibling}function Cc(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&Ki(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Cc(t,i,s),t=t.sibling;t!==null;)Cc(t,i,s),t=t.sibling}function T_(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);nn(i,l,s),i[vt]=t,i[mt]=s}catch(d){it(t,t.return,d)}}var fi=!1,wt=!1,Id=!1,b_=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function IS(t,i){if(t=t.containerInfo,$d=Qc,t=Vp(t),Af(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var v=0,T=-1,R=-1,U=0,G=0,$=t,z=null;t:for(;;){for(var B;$!==s||h!==0&&$.nodeType!==3||(T=v+h),$!==d||l!==0&&$.nodeType!==3||(R=v+l),$.nodeType===3&&(v+=$.nodeValue.length),(B=$.firstChild)!==null;)z=$,$=B;for(;;){if($===t)break t;if(z===s&&++U===h&&(T=v),z===d&&++G===l&&(R=v),(B=$.nextSibling)!==null)break;$=z,z=$.parentNode}$=B}s=T===-1||R===-1?null:{start:T,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(Zd={focusedElem:t,selectionRange:s},Qc=!1,Ft=i;Ft!==null;)if(i=Ft,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Ft=t;else for(;Ft!==null;){switch(i=Ft,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var Ee=Xa(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Ee,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){it(s,s.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)tm(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":tm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Ft=t;break}Ft=i.return}}function w_(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Bi(t,s),l&4&&Sl(5,s);break;case 1:if(Bi(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(v){it(s,s.return,v)}else{var h=Xa(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){it(s,s.return,v)}}l&64&&y_(s),l&512&&Al(s,s.return);break;case 3:if(Bi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{iy(t,i)}catch(v){it(s,s.return,v)}}break;case 27:i===null&&l&4&&T_(s);case 26:case 5:Bi(t,s),i===null&&l&4&&v_(s),l&512&&Al(s,s.return);break;case 12:Bi(t,s);break;case 13:Bi(t,s),l&4&&R_(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=kS.bind(null,s),eA(t,s))));break;case 22:if(l=s.memoizedState!==null||fi,!l){i=i!==null&&i.memoizedState!==null||wt,h=fi;var d=wt;fi=l,(wt=i)&&!d?qi(t,s,(s.subtreeFlags&8772)!==0):Bi(t,s),fi=h,wt=d}break;case 30:break;default:Bi(t,s)}}function S_(t){var i=t.alternate;i!==null&&(t.alternate=null,S_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ar(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gt=null,bn=!1;function di(t,i,s){for(s=s.child;s!==null;)A_(t,i,s),s=s.sibling}function A_(t,i,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(dt,s)}catch{}switch(s.tag){case 26:wt||Or(s,i),di(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:wt||Or(s,i);var l=gt,h=bn;Ki(s.type)&&(gt=s.stateNode,bn=!1),di(t,i,s),Pl(s.stateNode),gt=l,bn=h;break;case 5:wt||Or(s,i);case 6:if(l=gt,h=bn,gt=null,di(t,i,s),gt=l,bn=h,gt!==null)if(bn)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(s.stateNode)}catch(d){it(s,i,d)}else try{gt.removeChild(s.stateNode)}catch(d){it(s,i,d)}break;case 18:gt!==null&&(bn?(t=gt,dv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),ql(t)):dv(gt,s.stateNode));break;case 4:l=gt,h=bn,gt=s.stateNode.containerInfo,bn=!0,di(t,i,s),gt=l,bn=h;break;case 0:case 11:case 14:case 15:wt||zi(2,s,i),wt||zi(4,s,i),di(t,i,s);break;case 1:wt||(Or(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&__(s,i,l)),di(t,i,s);break;case 21:di(t,i,s);break;case 22:wt=(l=wt)||s.memoizedState!==null,di(t,i,s),wt=l;break;default:di(t,i,s)}}function R_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ql(t)}catch(s){it(i,i.return,s)}}function DS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new b_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new b_),i;default:throw Error(a(435,t.tag))}}function Dd(t,i){var s=DS(t);i.forEach(function(l){var h=LS.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function On(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Ki(T.type)){gt=T.stateNode,bn=!1;break e}break;case 5:gt=T.stateNode,bn=!1;break e;case 3:case 4:gt=T.stateNode.containerInfo,bn=!0;break e}T=T.return}if(gt===null)throw Error(a(160));A_(d,v,h),gt=null,bn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)I_(i,t),i=i.sibling}var cr=null;function I_(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:On(i,t),Nn(t),l&4&&(zi(3,t,t.return),Sl(3,t),zi(5,t,t.return));break;case 1:On(i,t),Nn(t),l&512&&(wt||s===null||Or(s,s.return)),l&64&&fi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=cr;if(On(i,t),Nn(t),l&512&&(wt||s===null||Or(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ir]||d[vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),nn(d,l,s),d[vt]=t,Ae(d),l=d;break e;case"link":var v=Tv("link","href",h).get(l+(s.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),nn(d,l,s),h.head.appendChild(d);break;case"meta":if(v=Tv("meta","content",h).get(l+(s.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(T,1);break t}}d=h.createElement(l),nn(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[vt]=t,Ae(d),l=d}t.stateNode=l}else bv(h,t.type,t.stateNode);else t.stateNode=Ev(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?bv(h,t.type,t.stateNode):Ev(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Sd(t,t.memoizedProps,s.memoizedProps)}break;case 27:On(i,t),Nn(t),l&512&&(wt||s===null||Or(s,s.return)),s!==null&&l&4&&Sd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(On(i,t),Nn(t),l&512&&(wt||s===null||Or(s,s.return)),t.flags&32){h=t.stateNode;try{Bn(h,"")}catch(B){it(t,t.return,B)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Sd(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Id=!0);break;case 6:if(On(i,t),Nn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(B){it(t,t.return,B)}}break;case 3:if(Fc=null,h=cr,cr=qc(i.containerInfo),On(i,t),cr=h,Nn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ql(i.containerInfo)}catch(B){it(t,t.return,B)}Id&&(Id=!1,D_(t));break;case 4:l=cr,cr=qc(t.stateNode.containerInfo),On(i,t),Nn(t),cr=l;break;case 12:On(i,t),Nn(t);break;case 13:On(i,t),Nn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Pd=Kt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dd(t,l)));break;case 22:h=t.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,U=fi,G=wt;if(fi=U||h,wt=G||R,On(i,t),wt=G,fi=U,Nn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||R||fi||wt||$a(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){R=s=i;try{if(d=R.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=R.stateNode;var $=R.memoizedProps.style,z=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){it(R,R.return,B)}}}else if(i.tag===6){if(s===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(B){it(R,R.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Dd(t,s))));break;case 19:On(i,t),Nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dd(t,l)));break;case 30:break;case 21:break;default:On(i,t),Nn(t)}}function Nn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(E_(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=Ad(t);Cc(t,d,h);break;case 5:var v=s.stateNode;s.flags&32&&(Bn(v,""),s.flags&=-33);var T=Ad(t);Cc(t,T,v);break;case 3:case 4:var R=s.stateNode.containerInfo,U=Ad(t);Rd(t,U,R);break;default:throw Error(a(161))}}catch(G){it(t,t.return,G)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function D_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;D_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Bi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)w_(t,i.alternate,i),i=i.sibling}function $a(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:zi(4,i,i.return),$a(i);break;case 1:Or(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&__(i,i.return,s),$a(i);break;case 27:Pl(i.stateNode);case 26:case 5:Or(i,i.return),$a(i);break;case 22:i.memoizedState===null&&$a(i);break;case 30:$a(i);break;default:$a(i)}t=t.sibling}}function qi(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:qi(h,d,s),Sl(4,d);break;case 1:if(qi(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){it(l,l.return,U)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)ry(R[h],T)}catch(U){it(l,l.return,U)}}s&&v&64&&y_(d),Al(d,d.return);break;case 27:T_(d);case 26:case 5:qi(h,d,s),s&&l===null&&v&4&&v_(d),Al(d,d.return);break;case 12:qi(h,d,s);break;case 13:qi(h,d,s),s&&v&4&&R_(h,d);break;case 22:d.memoizedState===null&&qi(h,d,s),Al(d,d.return);break;case 30:break;default:qi(h,d,s)}i=i.sibling}}function Cd(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&cl(s))}function Od(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&cl(t))}function Nr(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)C_(t,i,s,l),i=i.sibling}function C_(t,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Nr(t,i,s,l),h&2048&&Sl(9,i);break;case 1:Nr(t,i,s,l);break;case 3:Nr(t,i,s,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&cl(t)));break;case 12:if(h&2048){Nr(t,i,s,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){it(i,i.return,R)}}else Nr(t,i,s,l);break;case 13:Nr(t,i,s,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Nr(t,i,s,l):Rl(t,i):d._visibility&2?Nr(t,i,s,l):(d._visibility|=2,Js(t,i,s,l,(i.subtreeFlags&10256)!==0)),h&2048&&Cd(v,i);break;case 24:Nr(t,i,s,l),h&2048&&Od(i.alternate,i);break;default:Nr(t,i,s,l)}}function Js(t,i,s,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=s,R=l,U=v.flags;switch(v.tag){case 0:case 11:case 15:Js(d,v,T,R,h),Sl(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?Js(d,v,T,R,h):Rl(d,v):(G._visibility|=2,Js(d,v,T,R,h)),h&&U&2048&&Cd(v.alternate,v);break;case 24:Js(d,v,T,R,h),h&&U&2048&&Od(v.alternate,v);break;default:Js(d,v,T,R,h)}i=i.sibling}}function Rl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,h=l.flags;switch(l.tag){case 22:Rl(s,l),h&2048&&Cd(l.alternate,l);break;case 24:Rl(s,l),h&2048&&Od(l.alternate,l);break;default:Rl(s,l)}i=i.sibling}}var Il=8192;function eo(t){if(t.subtreeFlags&Il)for(t=t.child;t!==null;)O_(t),t=t.sibling}function O_(t){switch(t.tag){case 26:eo(t),t.flags&Il&&t.memoizedState!==null&&dA(cr,t.memoizedState,t.memoizedProps);break;case 5:eo(t);break;case 3:case 4:var i=cr;cr=qc(t.stateNode.containerInfo),eo(t),cr=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Il,Il=16777216,eo(t),Il=i):eo(t));break;default:eo(t)}}function N_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Dl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Ft=l,V_(l,t)}N_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)M_(t),t=t.sibling}function M_(t){switch(t.tag){case 0:case 11:case 15:Dl(t),t.flags&2048&&zi(9,t,t.return);break;case 3:Dl(t);break;case 12:Dl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Oc(t)):Dl(t);break;default:Dl(t)}}function Oc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Ft=l,V_(l,t)}N_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:zi(8,i,i.return),Oc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Oc(i));break;default:Oc(i)}t=t.sibling}}function V_(t,i){for(;Ft!==null;){var s=Ft;switch(s.tag){case 0:case 11:case 15:zi(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ft=l;else e:for(s=t;Ft!==null;){l=Ft;var h=l.sibling,d=l.return;if(S_(l),l===s){Ft=null;break e}if(h!==null){h.return=d,Ft=h;break e}Ft=d}}}var CS={getCacheForType:function(t){var i=ln(kt),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},OS=typeof WeakMap=="function"?WeakMap:Map,We=0,ot=null,Ve=null,ze=0,Xe=0,Mn=null,Hi=!1,to=!1,Nd=!1,mi=0,Tt=0,Fi=0,Za=0,Md=0,Xn=0,no=0,Cl=null,wn=null,Vd=!1,Pd=0,Nc=1/0,Mc=null,Gi=null,tn=0,Yi=null,ro=null,io=0,xd=0,kd=null,P_=null,Ol=0,Ld=null;function Vn(){if((We&2)!==0&&ze!==0)return ze&-ze;if(H.T!==null){var t=Gs;return t!==0?t:Fd()}return vr()}function x_(){Xn===0&&(Xn=(ze&536870912)===0||Ye?Sa():536870912);var t=Wn.current;return t!==null&&(t.flags|=32),Xn}function Pn(t,i,s){(t===ot&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(ao(t,0),Qi(t,ze,Xn,!1)),Un(t,s),((We&2)===0||t!==ot)&&(t===ot&&((We&2)===0&&(Za|=s),Tt===4&&Qi(t,ze,Xn,!1)),Mr(t))}function k_(t,i,s){if((We&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&t.expiredLanes)===0||yr(t,i),h=l?VS(t,i):zd(t,i,!0),d=l;do{if(h===0){to&&!l&&Qi(t,i,0,!1);break}else{if(s=t.current.alternate,d&&!NS(s)){h=zd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=Cl;var R=T.current.memoizedState.isDehydrated;if(R&&(ao(T,v).flags|=256),v=zd(T,v,!1),v!==2){if(Nd&&!R){T.errorRecoveryDisabledLanes|=d,Za|=d,h=4;break e}d=wn,wn=h,d!==null&&(wn===null?wn=d:wn.push.apply(wn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){ao(t,0),Qi(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Qi(l,i,Xn,!Hi);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=Pd+300-Kt(),10<h)){if(Qi(l,i,Xn,!Hi),Yr(l,0,!0)!==0)break e;l.timeoutHandle=hv(L_.bind(null,l,s,wn,Mc,Vd,i,Xn,Za,no,Hi,d,2,-0,0),h);break e}L_(l,s,wn,Mc,Vd,i,Xn,Za,no,Hi,d,0,-0,0)}}break}while(!0);Mr(t)}function L_(t,i,s,l,h,d,v,T,R,U,G,$,z,B){if(t.timeoutHandle=-1,$=i.subtreeFlags,($&8192||($&16785408)===16785408)&&(Ll={stylesheets:null,count:0,unsuspend:fA},O_(i),$=mA(),$!==null)){t.cancelPendingCommit=$(F_.bind(null,t,i,d,s,l,h,v,T,R,G,1,z,B)),Qi(t,d,v,!U);return}F_(t,i,d,s,l,h,v,T,R)}function NS(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!Dn(d(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qi(t,i,s,l){i&=~Md,i&=~Za,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-At(h),v=1<<d;l[d]=-1,h&=~v}s!==0&&ut(t,s,i)}function Vc(){return(We&6)===0?(Nl(0),!1):!0}function Ud(){if(Ve!==null){if(Xe===0)var t=Ve.return;else t=Ve,si=Ya=null,td(t),$s=null,Tl=0,t=Ve;for(;t!==null;)p_(t.alternate,t),t=t.return;Ve=null}}function ao(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,WS(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Ud(),ot=t,Ve=s=ri(t.current,null),ze=i,Xe=0,Mn=null,Hi=!1,to=yr(t,i),Nd=!1,no=Xn=Md=Za=Fi=Tt=0,wn=Cl=null,Vd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-At(l),d=1<<h;i|=t[h],l&=~d}return mi=i,tc(),s}function U_(t,i){Oe=null,H.H=Ec,i===fl||i===cc?(i=ty(),Xe=3):i===Zp?(i=ty(),Xe=4):Xe=i===n_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Mn=i,Ve===null&&(Tt=1,Ac(t,Gn(i,t.current)))}function j_(){var t=H.H;return H.H=Ec,t===null?Ec:t}function z_(){var t=H.A;return H.A=CS,t}function jd(){Tt=4,Hi||(ze&4194048)!==ze&&Wn.current!==null||(to=!0),(Fi&134217727)===0&&(Za&134217727)===0||ot===null||Qi(ot,ze,Xn,!1)}function zd(t,i,s){var l=We;We|=2;var h=j_(),d=z_();(ot!==t||ze!==i)&&(Mc=null,ao(t,i)),i=!1;var v=Tt;e:do try{if(Xe!==0&&Ve!==null){var T=Ve,R=Mn;switch(Xe){case 8:Ud(),v=6;break e;case 3:case 2:case 9:case 6:Wn.current===null&&(i=!0);var U=Xe;if(Xe=0,Mn=null,so(t,T,R,U),s&&to){v=0;break e}break;default:U=Xe,Xe=0,Mn=null,so(t,T,R,U)}}MS(),v=Tt;break}catch(G){U_(t,G)}while(!0);return i&&t.shellSuspendCounter++,si=Ya=null,We=l,H.H=h,H.A=d,Ve===null&&(ot=null,ze=0,tc()),v}function MS(){for(;Ve!==null;)B_(Ve)}function VS(t,i){var s=We;We|=2;var l=j_(),h=z_();ot!==t||ze!==i?(Mc=null,Nc=Kt()+500,ao(t,i)):to=yr(t,i);e:do try{if(Xe!==0&&Ve!==null){i=Ve;var d=Mn;t:switch(Xe){case 1:Xe=0,Mn=null,so(t,i,d,1);break;case 2:case 9:if(Jp(d)){Xe=0,Mn=null,q_(i);break}i=function(){Xe!==2&&Xe!==9||ot!==t||(Xe=7),Mr(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Jp(d)?(Xe=0,Mn=null,q_(i)):(Xe=0,Mn=null,so(t,i,d,7));break;case 5:var v=null;switch(Ve.tag){case 26:v=Ve.memoizedState;case 5:case 27:var T=Ve;if(!v||wv(v)){Xe=0,Mn=null;var R=T.sibling;if(R!==null)Ve=R;else{var U=T.return;U!==null?(Ve=U,Pc(U)):Ve=null}break t}}Xe=0,Mn=null,so(t,i,d,5);break;case 6:Xe=0,Mn=null,so(t,i,d,6);break;case 8:Ud(),Tt=6;break e;default:throw Error(a(462))}}PS();break}catch(G){U_(t,G)}while(!0);return si=Ya=null,H.H=l,H.A=h,We=s,Ve!==null?0:(ot=null,ze=0,tc(),Tt)}function PS(){for(;Ve!==null&&!nr();)B_(Ve)}function B_(t){var i=m_(t.alternate,t,mi);t.memoizedProps=t.pendingProps,i===null?Pc(t):Ve=i}function q_(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=l_(s,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=l_(s,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:td(i);default:p_(s,i),i=Ve=Hp(i,mi),i=m_(s,i,mi)}t.memoizedProps=t.pendingProps,i===null?Pc(t):Ve=i}function so(t,i,s,l){si=Ya=null,td(i),$s=null,Tl=0;var h=i.return;try{if(wS(t,h,i,s,ze)){Tt=1,Ac(t,Gn(s,t.current)),Ve=null;return}}catch(d){if(h!==null)throw Ve=h,d;Tt=1,Ac(t,Gn(s,t.current)),Ve=null;return}i.flags&32768?(Ye||l===1?t=!0:to||(ze&536870912)!==0?t=!1:(Hi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),H_(i,t)):Pc(i)}function Pc(t){var i=t;do{if((i.flags&32768)!==0){H_(i,Hi);return}t=i.return;var s=AS(i.alternate,i,mi);if(s!==null){Ve=s;return}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=t}while(i!==null);Tt===0&&(Tt=5)}function H_(t,i){do{var s=RS(t.alternate,t);if(s!==null){s.flags&=32767,Ve=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=s}while(t!==null);Tt=6,Ve=null}function F_(t,i,s,l,h,d,v,T,R){t.cancelPendingCommit=null;do xc();while(tn!==0);if((We&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=Of,Rt(t,s,d,v,T,R),t===ot&&(Ve=ot=null,ze=0),ro=i,Yi=t,io=s,xd=d,kd=h,P_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,US(Hr,function(){return W_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=re.p,re.p=2,v=We,We|=4;try{IS(t,i,s)}finally{We=v,re.p=h,H.T=l}}tn=1,G_(),Y_(),Q_()}}function G_(){if(tn===1){tn=0;var t=Yi,i=ro,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var l=re.p;re.p=2;var h=We;We|=4;try{I_(i,t);var d=Zd,v=Vp(t.containerInfo),T=d.focusedElem,R=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Mp(T.ownerDocument.documentElement,T)){if(R!==null&&Af(T)){var U=R.start,G=R.end;if(G===void 0&&(G=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min(G,T.value.length);else{var $=T.ownerDocument||document,z=$&&$.defaultView||window;if(z.getSelection){var B=z.getSelection(),Ee=T.textContent.length,ge=Math.min(R.start,Ee),tt=R.end===void 0?ge:Math.min(R.end,Ee);!B.extend&&ge>tt&&(v=tt,tt=ge,ge=v);var x=Np(T,ge),O=Np(T,tt);if(x&&O&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var L=$.createRange();L.setStart(x.node,x.offset),B.removeAllRanges(),ge>tt?(B.addRange(L),B.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),B.addRange(L))}}}}for($=[],B=T;B=B.parentNode;)B.nodeType===1&&$.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var Q=$[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Qc=!!$d,Zd=$d=null}finally{We=h,re.p=l,H.T=s}}t.current=i,tn=2}}function Y_(){if(tn===2){tn=0;var t=Yi,i=ro,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var l=re.p;re.p=2;var h=We;We|=4;try{w_(t,i.alternate,i)}finally{We=h,re.p=l,H.T=s}}tn=3}}function Q_(){if(tn===4||tn===3){tn=0,Qt();var t=Yi,i=ro,s=io,l=P_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?tn=5:(tn=0,ro=Yi=null,K_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Gi=null),Wt(s),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(dt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=H.T,h=re.p,re.p=2,H.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{H.T=i,re.p=h}}(io&3)!==0&&xc(),Mr(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===Ld?Ol++:(Ol=0,Ld=t):Ol=0,Nl(0)}}function K_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,cl(i)))}function xc(t){return G_(),Y_(),Q_(),W_()}function W_(){if(tn!==5)return!1;var t=Yi,i=xd;xd=0;var s=Wt(io),l=H.T,h=re.p;try{re.p=32>s?32:s,H.T=null,s=kd,kd=null;var d=Yi,v=io;if(tn=0,ro=Yi=null,io=0,(We&6)!==0)throw Error(a(331));var T=We;if(We|=4,M_(d.current),C_(d,d.current,v,s),We=T,Nl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(dt,d)}catch{}return!0}finally{re.p=h,H.T=l,K_(t,i)}}function X_(t,i,s){i=Gn(s,i),i=gd(t.stateNode,i,2),t=ki(t,i,2),t!==null&&(Un(t,2),Mr(t))}function it(t,i,s){if(t.tag===3)X_(t,t,s);else for(;i!==null;){if(i.tag===3){X_(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gi===null||!Gi.has(l))){t=Gn(s,t),s=e_(2),l=ki(i,s,2),l!==null&&(t_(s,l,i,t),Un(l,2),Mr(l));break}}i=i.return}}function Bd(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new OS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(Nd=!0,h.add(s),t=xS.bind(null,t,i,s),i.then(t,t))}function xS(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ot===t&&(ze&s)===s&&(Tt===4||Tt===3&&(ze&62914560)===ze&&300>Kt()-Pd?(We&2)===0&&ao(t,0):Md|=s,no===ze&&(no=0)),Mr(t)}function $_(t,i){i===0&&(i=Di()),t=Bs(t,i),t!==null&&(Un(t,i),Mr(t))}function kS(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),$_(t,s)}function LS(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),$_(t,s)}function US(t,i){return tr(t,i)}var kc=null,oo=null,qd=!1,Lc=!1,Hd=!1,Ja=0;function Mr(t){t!==oo&&t.next===null&&(oo===null?kc=oo=t:oo=oo.next=t),Lc=!0,qd||(qd=!0,zS())}function Nl(t,i){if(!Hd&&Lc){Hd=!0;do for(var s=!1,l=kc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-At(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,tv(l,d))}else d=ze,d=Yr(l,l===ot?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||yr(l,d)||(s=!0,tv(l,d));l=l.next}while(s);Hd=!1}}function jS(){Z_()}function Z_(){Lc=qd=!1;var t=0;Ja!==0&&(KS()&&(t=Ja),Ja=0);for(var i=Kt(),s=null,l=kc;l!==null;){var h=l.next,d=J_(l,i);d===0?(l.next=null,s===null?kc=h:s.next=h,h===null&&(oo=s)):(s=l,(t!==0||(d&3)!==0)&&(Lc=!0)),l=h}Nl(t)}function J_(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-At(d),T=1<<v,R=h[v];R===-1?((T&s)===0||(T&l)!==0)&&(h[v]=Qr(T,i)):R<=i&&(t.expiredLanes|=T),d&=~T}if(i=ot,s=ze,s=Yr(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&nt(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||yr(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&nt(l),Wt(s)){case 2:case 8:s=Ii;break;case 32:s=Hr;break;case 268435456:s=Fr;break;default:s=Hr}return l=ev.bind(null,t),s=tr(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&nt(l),t.callbackPriority=2,t.callbackNode=null,2}function ev(t,i){if(tn!==0&&tn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(xc()&&t.callbackNode!==s)return null;var l=ze;return l=Yr(t,t===ot?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(k_(t,l,i),J_(t,Kt()),t.callbackNode!=null&&t.callbackNode===s?ev.bind(null,t):null)}function tv(t,i){if(xc())return null;k_(t,i,!0)}function zS(){XS(function(){(We&6)!==0?tr(Ri,jS):Z_()})}function Fd(){return Ja===0&&(Ja=Sa()),Ja}function nv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Cs(""+t)}function rv(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function BS(t,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var d=nv((h[mt]||null).action),v=l.submitter;v&&(i=(i=v[mt]||null)?nv(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new Os("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ja!==0){var R=v?rv(h,v):new FormData(h);cd(s,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(T.preventDefault(),R=v?rv(h,v):new FormData(h),cd(s,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var Gd=0;Gd<Cf.length;Gd++){var Yd=Cf[Gd],qS=Yd.toLowerCase(),HS=Yd[0].toUpperCase()+Yd.slice(1);ur(qS,"on"+HS)}ur(kp,"onAnimationEnd"),ur(Lp,"onAnimationIteration"),ur(Up,"onAnimationStart"),ur("dblclick","onDoubleClick"),ur("focusin","onFocus"),ur("focusout","onBlur"),ur(sS,"onTransitionRun"),ur(oS,"onTransitionStart"),ur(lS,"onTransitionCancel"),ur(jp,"onTransitionEnd"),or("onMouseEnter",["mouseout","mouseover"]),or("onMouseLeave",["mouseout","mouseover"]),or("onPointerEnter",["pointerout","pointerover"]),or("onPointerLeave",["pointerout","pointerover"]),yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function iv(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],R=T.instance,U=T.currentTarget;if(T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=U;try{d(h)}catch(G){Sc(G)}h.currentTarget=null,d=R}else for(v=0;v<l.length;v++){if(T=l[v],R=T.instance,U=T.currentTarget,T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=U;try{d(h)}catch(G){Sc(G)}h.currentTarget=null,d=R}}}}function Pe(t,i){var s=i[Kr];s===void 0&&(s=i[Kr]=new Set);var l=t+"__bubble";s.has(l)||(av(i,t,2,!1),s.add(l))}function Qd(t,i,s){var l=0;i&&(l|=4),av(s,t,l,i)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function Kd(t){if(!t[Uc]){t[Uc]=!0,$t.forEach(function(s){s!=="selectionchange"&&(FS.has(s)||Qd(s,!1,t),Qd(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Uc]||(i[Uc]=!0,Qd("selectionchange",!1,i))}}function av(t,i,s,l){switch(Cv(i)){case 2:var h=yA;break;case 8:h=_A;break;default:h=lm}s=h.bind(null,i,s,t),h=void 0,!Hn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function Wd(t,i,s,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=sr(T),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=d=v;continue e}T=T.parentNode}}l=l.return}zu(function(){var U=d,G=qn(s),$=[];e:{var z=zp.get(t);if(z!==void 0){var B=Os,Ee=t;switch(t){case"keypress":if(wr(s)===0)break e;case"keydown":case"keyup":B=ks;break;case"focusin":Ee="focus",B=Vs;break;case"focusout":Ee="blur",B=Vs;break;case"beforeblur":case"afterblur":B=Vs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Tf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Ku;break;case kp:case Lp:case Up:B=Ps;break;case jp:B=Xu;break;case"scroll":case"scrollend":B=Bu;break;case"wheel":B=Ls;break;case"copy":case"cut":case"paste":B=xs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=nl;break;case"toggle":case"beforetoggle":B=Zu}var ge=(i&4)!==0,tt=!ge&&(t==="scroll"||t==="scrollend"),x=ge?z!==null?z+"Capture":null:z;ge=[];for(var O=U,L;O!==null;){var Q=O;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||x===null||(Q=Ma(O,x),Q!=null&&ge.push(Vl(O,Q,L))),tt)break;O=O.return}0<ge.length&&(z=new B(z,Ee,null,s,G),$.push({event:z,listeners:ge}))}}if((i&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",z&&s!==$r&&(Ee=s.relatedTarget||s.fromElement)&&(sr(Ee)||Ee[Xt]))break e;if((B||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,B?(Ee=s.relatedTarget||s.toElement,B=U,Ee=Ee?sr(Ee):null,Ee!==null&&(tt=u(Ee),ge=Ee.tag,Ee!==tt||ge!==5&&ge!==27&&ge!==6)&&(Ee=null)):(B=null,Ee=U),B!==Ee)){if(ge=Fn,Q="onMouseLeave",x="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ge=nl,Q="onPointerLeave",x="onPointerEnter",O="pointer"),tt=B==null?z:Te(B),L=Ee==null?z:Te(Ee),z=new ge(Q,O+"leave",B,s,G),z.target=tt,z.relatedTarget=L,Q=null,sr(G)===U&&(ge=new ge(x,O+"enter",Ee,s,G),ge.target=L,ge.relatedTarget=tt,Q=ge),tt=Q,B&&Ee)t:{for(ge=B,x=Ee,O=0,L=ge;L;L=lo(L))O++;for(L=0,Q=x;Q;Q=lo(Q))L++;for(;0<O-L;)ge=lo(ge),O--;for(;0<L-O;)x=lo(x),L--;for(;O--;){if(ge===x||x!==null&&ge===x.alternate)break t;ge=lo(ge),x=lo(x)}ge=null}else ge=null;B!==null&&sv($,z,B,ge,!1),Ee!==null&&tt!==null&&sv($,tt,Ee,ge,!0)}}e:{if(z=U?Te(U):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var oe=Ap;else if(xt(z))if(Rp)oe=rS;else{oe=tS;var Me=eS}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&Wo(U.elementType)&&(oe=Ap):oe=nS;if(oe&&(oe=oe(t,U))){ni($,oe,s,G);break e}Me&&Me(t,z,U),t==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&Ni(z,"number",z.value)}switch(Me=U?Te(U):window,t){case"focusin":(xt(Me)||Me.contentEditable==="true")&&(Us=Me,Rf=U,al=null);break;case"focusout":al=Rf=Us=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,Pp($,s,G);break;case"selectionchange":if(aS)break;case"keydown":case"keyup":Pp($,s,G)}var fe;if(Rr)e:{switch(t){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Ue?q(t,s)&&(pe="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(pe="onCompositionStart");pe&&(_&&s.locale!=="ko"&&(Ue||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Ue&&(fe=$o()):(br=G,Mi="value"in br?br.value:br.textContent,Ue=!0)),Me=jc(U,pe),0<Me.length&&(pe=new el(pe,t,null,s,G),$.push({event:pe,listeners:Me}),fe?pe.data=fe:(fe=te(s),fe!==null&&(pe.data=fe)))),(fe=g?Pt(t,s):je(t,s))&&(pe=jc(U,"onBeforeInput"),0<pe.length&&(Me=new el("onBeforeInput","beforeinput",null,s,G),$.push({event:Me,listeners:pe}),Me.data=fe)),BS($,t,U,s,G)}iv($,i)})}function Vl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function jc(t,i){for(var s=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ma(t,s),h!=null&&l.unshift(Vl(t,h,d)),h=Ma(t,i),h!=null&&l.push(Vl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function sv(t,i,s,l,h){for(var d=i._reactName,v=[];s!==null&&s!==l;){var T=s,R=T.alternate,U=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||U===null||(R=U,h?(U=Ma(s,d),U!=null&&v.unshift(Vl(s,U,R))):h||(U=Ma(s,d),U!=null&&v.push(Vl(s,U,R)))),s=s.return}v.length!==0&&t.push({event:i,listeners:v})}var GS=/\r\n?/g,YS=/\u0000|\uFFFD/g;function ov(t){return(typeof t=="string"?t:""+t).replace(GS,`
`).replace(YS,"")}function lv(t,i){return i=ov(i),ov(t)===i}function zc(){}function et(t,i,s,l,h,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Bn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Bn(t,""+l);break;case"className":Er(t,"class",l);break;case"tabIndex":Er(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Er(t,s,l);break;case"style":Ko(t,l,d);break;case"data":if(i!=="object"){Er(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Cs(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&et(t,i,"name",h.name,h,null),et(t,i,"formEncType",h.formEncType,h,null),et(t,i,"formMethod",h.formMethod,h,null),et(t,i,"formTarget",h.formTarget,h,null)):(et(t,i,"encType",h.encType,h,null),et(t,i,"method",h.method,h,null),et(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Cs(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=zc);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Cs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),Oi(t,"popover",l);break;case"xlinkActuate":Zt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Zt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Zt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Zt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Zt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Zt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Zt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Zt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Zt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Oi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=vf.get(s)||s,Oi(t,s,l))}}function Xd(t,i,s,l,h,d){switch(s){case"style":Ko(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Bn(t,l):(typeof l=="number"||typeof l=="bigint")&&Bn(t,""+l);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=zc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zt.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),d=t[mt]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Oi(t,s,l)}}}function nn(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:et(t,i,d,v,s,null)}}h&&et(t,i,"srcSet",s.srcSet,s,null),l&&et(t,i,"src",s.src,s,null);return;case"input":Pe("invalid",t);var T=d=v=h=null,R=null,U=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":h=G;break;case"type":v=G;break;case"checked":R=G;break;case"defaultChecked":U=G;break;case"value":d=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,i));break;default:et(t,i,l,G,s,null)}}Ca(t,d,T,R,U,v,h,!1),Ds(t);return;case"select":Pe("invalid",t),l=v=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:et(t,i,h,T,s,null)}i=d,s=v,t.multiple=!!l,i!=null?Xr(t,!!l,i,!1):s!=null&&Xr(t,!!l,s,!0);return;case"textarea":Pe("invalid",t),d=h=l=null;for(v in s)if(s.hasOwnProperty(v)&&(T=s[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:et(t,i,v,T,s,null)}Oa(t,l,h,d),Ds(t);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(l=s[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,i,R,l,s,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Pe(Ml[l],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in s)if(s.hasOwnProperty(U)&&(l=s[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:et(t,i,U,l,s,null)}return;default:if(Wo(i)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&Xd(t,i,G,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&et(t,i,T,l,s,null))}function QS(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,R=null,U=null,G=null;for(B in s){var $=s[B];if(s.hasOwnProperty(B)&&$!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=$;default:l.hasOwnProperty(B)||et(t,i,B,null,l,$)}}for(var z in l){var B=l[z];if($=s[z],l.hasOwnProperty(z)&&(B!=null||$!=null))switch(z){case"type":d=B;break;case"name":h=B;break;case"checked":U=B;break;case"defaultChecked":G=B;break;case"value":v=B;break;case"defaultValue":T=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,i));break;default:B!==$&&et(t,i,z,B,l,$)}}In(t,v,T,R,U,G,d,h);return;case"select":B=v=T=z=null;for(d in s)if(R=s[d],s.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":B=R;default:l.hasOwnProperty(d)||et(t,i,d,null,l,R)}for(h in l)if(d=l[h],R=s[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":z=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==R&&et(t,i,h,d,l,R)}i=T,s=v,l=B,z!=null?Xr(t,!!s,z,!1):!!l!=!!s&&(i!=null?Xr(t,!!s,i,!0):Xr(t,!!s,s?[]:"",!1));return;case"textarea":B=z=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:et(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=s[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&et(t,i,v,h,l,d)}Ze(t,z,B);return;case"option":for(var Ee in s)if(z=s[Ee],s.hasOwnProperty(Ee)&&z!=null&&!l.hasOwnProperty(Ee))switch(Ee){case"selected":t.selected=!1;break;default:et(t,i,Ee,null,l,z)}for(R in l)if(z=l[R],B=s[R],l.hasOwnProperty(R)&&z!==B&&(z!=null||B!=null))switch(R){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:et(t,i,R,z,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in s)z=s[ge],s.hasOwnProperty(ge)&&z!=null&&!l.hasOwnProperty(ge)&&et(t,i,ge,null,l,z);for(U in l)if(z=l[U],B=s[U],l.hasOwnProperty(U)&&z!==B&&(z!=null||B!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,i));break;default:et(t,i,U,z,l,B)}return;default:if(Wo(i)){for(var tt in s)z=s[tt],s.hasOwnProperty(tt)&&z!==void 0&&!l.hasOwnProperty(tt)&&Xd(t,i,tt,void 0,l,z);for(G in l)z=l[G],B=s[G],!l.hasOwnProperty(G)||z===B||z===void 0&&B===void 0||Xd(t,i,G,z,l,B);return}}for(var x in s)z=s[x],s.hasOwnProperty(x)&&z!=null&&!l.hasOwnProperty(x)&&et(t,i,x,null,l,z);for($ in l)z=l[$],B=s[$],!l.hasOwnProperty($)||z===B||z==null&&B==null||et(t,i,$,z,l,B)}var $d=null,Zd=null;function Bc(t){return t.nodeType===9?t:t.ownerDocument}function uv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Jd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var em=null;function KS(){var t=window.event;return t&&t.type==="popstate"?t===em?!1:(em=t,!0):(em=null,!1)}var hv=typeof setTimeout=="function"?setTimeout:void 0,WS=typeof clearTimeout=="function"?clearTimeout:void 0,fv=typeof Promise=="function"?Promise:void 0,XS=typeof queueMicrotask=="function"?queueMicrotask:typeof fv<"u"?function(t){return fv.resolve(null).then(t).catch($S)}:hv;function $S(t){setTimeout(function(){throw t})}function Ki(t){return t==="head"}function dv(t,i){var s=i,l=0,h=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var v=t.ownerDocument;if(s&1&&Pl(v.documentElement),s&2&&Pl(v.body),s&4)for(s=v.head,Pl(s),v=s.firstChild;v;){var T=v.nextSibling,R=v.nodeName;v[ir]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=T}}if(h===0){t.removeChild(d),ql(i);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);ql(i)}function tm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":tm(s),ar(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function ZS(t,i,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ir])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=hr(t.nextSibling),t===null)break}return null}function JS(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=hr(t.nextSibling),t===null))return null;return t}function nm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function eA(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function hr(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var rm=null;function mv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function gv(t,i,s){switch(i=Bc(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Pl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ar(t)}var $n=new Map,pv=new Set;function qc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gi=re.d;re.d={f:tA,r:nA,D:rA,C:iA,L:aA,m:sA,X:lA,S:oA,M:uA};function tA(){var t=gi.f(),i=Vc();return t||i}function nA(t){var i=zn(t);i!==null&&i.tag===5&&i.type==="form"?ky(i):gi.r(t)}var uo=typeof document>"u"?null:document;function yv(t,i,s){var l=uo;if(l&&typeof i=="string"&&i){var h=It(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),pv.has(h)||(pv.add(h),t={rel:t,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),nn(i,"link",t),Ae(i),l.head.appendChild(i)))}}function rA(t){gi.D(t),yv("dns-prefetch",t,null)}function iA(t,i){gi.C(t,i),yv("preconnect",t,i)}function aA(t,i,s){gi.L(t,i,s);var l=uo;if(l&&t&&i){var h='link[rel="preload"][as="'+It(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+It(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+It(s.imageSizes)+'"]')):h+='[href="'+It(t)+'"]';var d=h;switch(i){case"style":d=co(t);break;case"script":d=ho(t)}$n.has(d)||(t=E({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),$n.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(xl(d))||i==="script"&&l.querySelector(kl(d))||(i=l.createElement("link"),nn(i,"link",t),Ae(i),l.head.appendChild(i)))}}function sA(t,i){gi.m(t,i);var s=uo;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+It(l)+'"][href="'+It(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ho(t)}if(!$n.has(d)&&(t=E({rel:"modulepreload",href:t},i),$n.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(kl(d)))return}l=s.createElement("link"),nn(l,"link",t),Ae(l),s.head.appendChild(l)}}}function oA(t,i,s){gi.S(t,i,s);var l=uo;if(l&&t){var h=Ne(l).hoistableStyles,d=co(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(xl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},s),(s=$n.get(d))&&im(t,s);var R=v=l.createElement("link");Ae(R),nn(R,"link",t),R._p=new Promise(function(U,G){R.onload=U,R.onerror=G}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Hc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function lA(t,i){gi.X(t,i);var s=uo;if(s&&t){var l=Ne(s).hoistableScripts,h=ho(t),d=l.get(h);d||(d=s.querySelector(kl(h)),d||(t=E({src:t,async:!0},i),(i=$n.get(h))&&am(t,i),d=s.createElement("script"),Ae(d),nn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function uA(t,i){gi.M(t,i);var s=uo;if(s&&t){var l=Ne(s).hoistableScripts,h=ho(t),d=l.get(h);d||(d=s.querySelector(kl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=$n.get(h))&&am(t,i),d=s.createElement("script"),Ae(d),nn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function _v(t,i,s,l){var h=(h=me.current)?qc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=co(s.href),s=Ne(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=co(s.href);var d=Ne(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(xl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),$n.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},$n.set(t,s),d||cA(h,t,s,v.state))),i&&l===null)throw Error(a(528,""));return v}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ho(s),s=Ne(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function co(t){return'href="'+It(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function vv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function cA(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),nn(i,"link",s),Ae(i),t.head.appendChild(i))}function ho(t){return'[src="'+It(t)+'"]'}function kl(t){return"script[async]"+t}function Ev(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+It(s.href)+'"]');if(l)return i.instance=l,Ae(l),l;var h=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ae(l),nn(l,"style",h),Hc(l,s.precedence,t),i.instance=l;case"stylesheet":h=co(s.href);var d=t.querySelector(xl(h));if(d)return i.state.loading|=4,i.instance=d,Ae(d),d;l=vv(s),(h=$n.get(h))&&im(l,h),d=(t.ownerDocument||t).createElement("link"),Ae(d);var v=d;return v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),nn(d,"link",l),i.state.loading|=4,Hc(d,s.precedence,t),i.instance=d;case"script":return d=ho(s.src),(h=t.querySelector(kl(d)))?(i.instance=h,Ae(h),h):(l=s,(h=$n.get(d))&&(l=E({},s),am(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ae(h),nn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Hc(l,s.precedence,t));return i.instance}function Hc(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function im(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function am(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Fc=null;function Tv(t,i,s){if(Fc===null){var l=new Map,h=Fc=new Map;h.set(s,l)}else h=Fc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[ir]||d[vt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function bv(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function hA(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function wv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ll=null;function fA(){}function dA(t,i,s){if(Ll===null)throw Error(a(475));var l=Ll;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=co(s.href),d=t.querySelector(xl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Gc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,Ae(d);return}d=t.ownerDocument||t,s=vv(s),(h=$n.get(h))&&im(s,h),d=d.createElement("link"),Ae(d);var v=d;v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),nn(d,"link",s),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Gc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function mA(){if(Ll===null)throw Error(a(475));var t=Ll;return t.stylesheets&&t.count===0&&sm(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&sm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Gc(){if(this.count--,this.count===0){if(this.stylesheets)sm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yc=null;function sm(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yc=new Map,i.forEach(gA,t),Yc=null,Gc.call(t))}function gA(t,i){if(!(i.state.loading&4)){var s=Yc.get(t);if(s)var l=s.get(null);else{s=new Map,Yc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=s.get(v)||l,d===l&&s.set(null,h),s.set(v,h),this.count++,l=Gc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ul={$$typeof:he,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function pA(t,i,s,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rr(0),this.hiddenUpdates=rr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Sv(t,i,s,l,h,d,v,T,R,U,G,$){return t=new pA(t,i,s,v,T,R,U,$),i=1,d===!0&&(i|=24),d=Cn(3,null,null,i),t.current=d,d.stateNode=t,i=Bf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},Gf(d),t}function Av(t){return t?(t=qs,t):qs}function Rv(t,i,s,l,h,d){h=Av(h),l.context===null?l.context=h:l.pendingContext=h,l=xi(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=ki(t,l,i),s!==null&&(Pn(s,t,i),ml(s,t,i))}function Iv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function om(t,i){Iv(t,i),(t=t.alternate)&&Iv(t,i)}function Dv(t){if(t.tag===13){var i=Bs(t,67108864);i!==null&&Pn(i,t,67108864),om(t,67108864)}}var Qc=!0;function yA(t,i,s,l){var h=H.T;H.T=null;var d=re.p;try{re.p=2,lm(t,i,s,l)}finally{re.p=d,H.T=h}}function _A(t,i,s,l){var h=H.T;H.T=null;var d=re.p;try{re.p=8,lm(t,i,s,l)}finally{re.p=d,H.T=h}}function lm(t,i,s,l){if(Qc){var h=um(l);if(h===null)Wd(t,i,l,Kc,s),Ov(t,l);else if(EA(h,t,i,s,l))l.stopPropagation();else if(Ov(t,l),i&4&&-1<vA.indexOf(t)){for(;h!==null;){var d=zn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Rn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var R=1<<31-At(v);T.entanglements[1]|=R,v&=~R}Mr(d),(We&6)===0&&(Nc=Kt()+500,Nl(0))}}break;case 13:T=Bs(d,2),T!==null&&Pn(T,d,2),Vc(),om(d,2)}if(d=um(l),d===null&&Wd(t,i,l,Kc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else Wd(t,i,l,null,s)}}function um(t){return t=qn(t),cm(t)}var Kc=null;function cm(t){if(Kc=null,t=sr(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=f(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Kc=t,null}function Cv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case Ri:return 2;case Ii:return 8;case Hr:case Fo:return 32;case Fr:return 268435456;default:return 32}default:return 32}}var hm=!1,Wi=null,Xi=null,$i=null,jl=new Map,zl=new Map,Zi=[],vA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ov(t,i){switch(t){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":jl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(i.pointerId)}}function Bl(t,i,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=zn(i),i!==null&&Dv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function EA(t,i,s,l,h){switch(i){case"focusin":return Wi=Bl(Wi,t,i,s,l,h),!0;case"dragenter":return Xi=Bl(Xi,t,i,s,l,h),!0;case"mouseover":return $i=Bl($i,t,i,s,l,h),!0;case"pointerover":var d=h.pointerId;return jl.set(d,Bl(jl.get(d)||null,t,i,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,zl.set(d,Bl(zl.get(d)||null,t,i,s,l,h)),!0}return!1}function Nv(t){var i=sr(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=f(s),i!==null){t.blockedOn=i,Ci(t.priority,function(){if(s.tag===13){var l=Vn();l=He(l);var h=Bs(s,l);h!==null&&Pn(h,s,l),om(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=um(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);$r=l,s.target.dispatchEvent(l),$r=null}else return i=zn(s),i!==null&&Dv(i),t.blockedOn=s,!1;i.shift()}return!0}function Mv(t,i,s){Wc(t)&&s.delete(i)}function TA(){hm=!1,Wi!==null&&Wc(Wi)&&(Wi=null),Xi!==null&&Wc(Xi)&&(Xi=null),$i!==null&&Wc($i)&&($i=null),jl.forEach(Mv),zl.forEach(Mv)}function Xc(t,i){t.blockedOn===i&&(t.blockedOn=null,hm||(hm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,TA)))}var $c=null;function Vv(t){$c!==t&&($c=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){$c===t&&($c=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(cm(l||s)===null)continue;break}var d=zn(s);d!==null&&(t.splice(i,3),i-=3,cd(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function ql(t){function i(R){return Xc(R,t)}Wi!==null&&Xc(Wi,t),Xi!==null&&Xc(Xi,t),$i!==null&&Xc($i,t),jl.forEach(i),zl.forEach(i);for(var s=0;s<Zi.length;s++){var l=Zi[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Zi.length&&(s=Zi[0],s.blockedOn===null);)Nv(s),s.blockedOn===null&&Zi.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],v=h[mt]||null;if(typeof d=="function")v||Vv(s);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[mt]||null)T=v.formAction;else if(cm(h)!==null)continue}else T=v.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),Vv(s)}}}function fm(t){this._internalRoot=t}Zc.prototype.render=fm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=Vn();Rv(s,l,t,i,null,null)},Zc.prototype.unmount=fm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Rv(t.current,2,null,t,null,null),Vc(),i[Xt]=null}};function Zc(t){this._internalRoot=t}Zc.prototype.unstable_scheduleHydration=function(t){if(t){var i=vr();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Zi.length&&i!==0&&i<Zi[s].priority;s++);Zi.splice(s,0,t),s===0&&Nv(t)}};var Pv=e.version;if(Pv!=="19.1.1")throw Error(a(527,Pv,"19.1.1"));re.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var bA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{dt=Jc.inject(bA),Ge=Jc}catch{}}return Fl.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",h=Xy,d=$y,v=Zy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=Sv(t,1,!1,null,null,s,l,h,d,v,T,null),t[Xt]=i.current,Kd(t),new fm(i)},Fl.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=Xy,v=$y,T=Zy,R=null,U=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks),s.formState!==void 0&&(U=s.formState)),i=Sv(t,1,!0,i,s??null,l,h,d,v,T,R,U),i.context=Av(null),s=i.current,l=Vn(),l=He(l),h=xi(l),h.callback=null,ki(s,h,l),s=l,i.current.lanes=s,Un(i,s),Mr(i),t[Xt]=i.current,Kd(t),new Zc(i)},Fl.version="19.1.1",Fl}var Fv;function VA(){if(Fv)return gm.exports;Fv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gm.exports=MA(),gm.exports}var PA=VA();const xA=QT(PA);function KT(r){var e,n,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(n=KT(r[e]))&&(a&&(a+=" "),a+=n)}else for(n in r)r[n]&&(a&&(a+=" "),a+=n);return a}function Hh(){for(var r,e,n=0,a="",o=arguments.length;n<o;n++)(r=arguments[n])&&(e=KT(r))&&(a&&(a+=" "),a+=e);return a}const kA=(r,e,n,a)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const o=Object.getOwnPropertyDescriptor(r,n),u=Object.getOwnPropertyDescriptor(e,n);!LA(o,u)&&a||Object.defineProperty(r,n,u)},LA=function(r,e){return r===void 0||r.configurable||r.writable===e.writable&&r.enumerable===e.enumerable&&r.configurable===e.configurable&&(r.writable||r.value===e.value)},UA=(r,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(r)&&Object.setPrototypeOf(r,n)},jA=(r,e)=>`/* Wrapped ${r}*/
${e}`,zA=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),BA=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),qA=(r,e,n)=>{const a=n===""?"":`with ${n.trim()}() `,o=jA.bind(null,a,e.toString());Object.defineProperty(o,"name",BA);const{writable:u,enumerable:f,configurable:m}=zA;Object.defineProperty(r,"toString",{value:o,writable:u,enumerable:f,configurable:m})};function HA(r,e,{ignoreNonConfigurable:n=!1}={}){const{name:a}=r;for(const o of Reflect.ownKeys(e))kA(r,e,o,n);return UA(r,e),qA(r,e,a),r}const FA=new WeakMap,Gv=new WeakMap;function WT(r,{cacheKey:e,cache:n=new Map,maxAge:a}={}){if(a===0)return r;if(typeof a=="number"){if(a>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(a<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const o=function(...u){const f=e?e(u):u[0],m=n.get(f);if(m)return m.data;const p=r.apply(this,u),y=typeof a=="function"?a(...u):a;if(n.set(f,{data:p,maxAge:y?Date.now()+y:Number.POSITIVE_INFINITY}),y&&y>0&&y!==Number.POSITIVE_INFINITY){const E=setTimeout(()=>{n.delete(f)},y);E.unref?.();const w=Gv.get(r)??new Set;w.add(E),Gv.set(r,w)}return p};return HA(o,r,{ignoreNonConfigurable:!0}),FA.set(o,n),o}function GA(r){return typeof r=="string"}function YA(r,e,n){return n.indexOf(r)===e}function QA(r){return r.toLowerCase()===r}function Yv(r){return r.indexOf(",")===-1?r:r.split(",")}function Um(r){if(!r)return r;if(r==="C"||r==="posix"||r==="POSIX")return"en-US";if(r.indexOf(".")!==-1){var e=r.split(".")[0],n=e===void 0?"":e;return Um(n)}if(r.indexOf("@")!==-1){var a=r.split("@")[0],n=a===void 0?"":a;return Um(n)}if(r.indexOf("-")===-1||!QA(r))return r;var o=r.split("-"),u=o[0],f=o[1],m=f===void 0?"":f;return"".concat(u,"-").concat(m.toUpperCase())}function KA(r){var e=r===void 0?{}:r,n=e.useFallbackLocale,a=n===void 0?!0:n,o=e.fallbackLocale,u=o===void 0?"en-US":o,f=[];if(typeof navigator<"u"){for(var m=navigator.languages||[],p=[],y=0,E=m;y<E.length;y++){var w=E[y];p=p.concat(Yv(w))}var S=navigator.language,j=S&&Yv(S);f=f.concat(p,j)}return a&&f.push(u),f.filter(GA).map(Um).filter(YA)}var WA=WT(KA,{cacheKey:JSON.stringify});function XA(r){return WA(r)[0]||null}var XT=WT(XA,{cacheKey:JSON.stringify});function Si(r,e,n){return function(o,u=n){const f=r(o)+u;return e(f)}}function Tu(r){return function(n){return new Date(r(n).getTime()-1)}}function bu(r,e){return function(a){return[r(a),e(a)]}}function pt(r){if(r instanceof Date)return r.getFullYear();if(typeof r=="number")return r;const e=Number.parseInt(r,10);if(typeof r=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${r}.`)}function _a(r){if(r instanceof Date)return r.getMonth();throw new Error(`Failed to get month from date: ${r}.`)}function Fh(r){if(r instanceof Date)return r.getDate();throw new Error(`Failed to get year from date: ${r}.`)}function Po(r){const e=pt(r),n=e+(-e+1)%100,a=new Date;return a.setFullYear(n,0,1),a.setHours(0,0,0,0),a}const $A=Si(pt,Po,-100),$T=Si(pt,Po,100),Ag=Tu($T),ZA=Si(pt,Ag,-100),ZT=bu(Po,Ag);function va(r){const e=pt(r),n=e+(-e+1)%10,a=new Date;return a.setFullYear(n,0,1),a.setHours(0,0,0,0),a}const JT=Si(pt,va,-10),Rg=Si(pt,va,10),Gh=Tu(Rg),e0=Si(pt,Gh,-10),t0=bu(va,Gh);function xo(r){const e=pt(r),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}const n0=Si(pt,xo,-1),Ig=Si(pt,xo,1),Yh=Tu(Ig),r0=Si(pt,Yh,-1),JA=bu(xo,Yh);function Dg(r,e){return function(a,o=e){const u=pt(a),f=_a(a)+o,m=new Date;return m.setFullYear(u,f,1),m.setHours(0,0,0,0),r(m)}}function fs(r){const e=pt(r),n=_a(r),a=new Date;return a.setFullYear(e,n,1),a.setHours(0,0,0,0),a}const i0=Dg(fs,-1),Cg=Dg(fs,1),wu=Tu(Cg),a0=Dg(wu,-1),e1=bu(fs,wu);function t1(r,e){return function(a,o=e){const u=pt(a),f=_a(a),m=Fh(a)+o,p=new Date;return p.setFullYear(u,f,m),p.setHours(0,0,0,0),r(p)}}function Su(r){const e=pt(r),n=_a(r),a=Fh(r),o=new Date;return o.setFullYear(e,n,a),o.setHours(0,0,0,0),o}const n1=t1(Su,1),Og=Tu(n1),r1=bu(Su,Og);function s0(r){return Fh(wu(r))}var an={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},i1={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Ng=[0,1,2,3,4,5,6],vm=new Map;function a1(r){return function(n,a){var o=n||XT();vm.has(o)||vm.set(o,new Map);var u=vm.get(o);return u.has(r)||u.set(r,new Intl.DateTimeFormat(o||void 0,r).format),u.get(r)(a)}}function s1(r){var e=new Date(r);return new Date(e.setHours(12))}function ds(r){return function(e,n){return a1(r)(e,s1(n))}}var o1={day:"numeric"},l1={day:"numeric",month:"long",year:"numeric"},u1={month:"long"},c1={month:"long",year:"numeric"},h1={weekday:"short"},f1={weekday:"long"},d1={year:"numeric"},m1=ds(o1),g1=ds(l1),p1=ds(u1),o0=ds(c1),y1=ds(h1),_1=ds(f1),Qh=ds(d1),v1=Ng[0],E1=Ng[5],Qv=Ng[6];function ou(r,e){e===void 0&&(e=an.ISO_8601);var n=r.getDay();switch(e){case an.ISO_8601:return(n+6)%7;case an.ISLAMIC:return(n+1)%7;case an.HEBREW:case an.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function T1(r){var e=Po(r);return pt(e)}function b1(r){var e=va(r);return pt(e)}function jm(r,e){e===void 0&&(e=an.ISO_8601);var n=pt(r),a=_a(r),o=r.getDate()-ou(r,e);return new Date(n,a,o)}function w1(r,e){e===void 0&&(e=an.ISO_8601);var n=e===an.GREGORY?an.GREGORY:an.ISO_8601,a=jm(r,e),o=pt(r)+1,u,f;do u=new Date(o,0,n===an.ISO_8601?4:1),f=jm(u,e),o-=1;while(r<f);return Math.round((a.getTime()-f.getTime())/(864e5*7))+1}function rs(r,e){switch(r){case"century":return Po(e);case"decade":return va(e);case"year":return xo(e);case"month":return fs(e);case"day":return Su(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function S1(r,e){switch(r){case"century":return $A(e);case"decade":return JT(e);case"year":return n0(e);case"month":return i0(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function l0(r,e){switch(r){case"century":return $T(e);case"decade":return Rg(e);case"year":return Ig(e);case"month":return Cg(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function A1(r,e){switch(r){case"decade":return JT(e,-100);case"year":return n0(e,-10);case"month":return i0(e,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function R1(r,e){switch(r){case"decade":return Rg(e,100);case"year":return Ig(e,10);case"month":return Cg(e,12);default:throw new Error("Invalid rangeType: ".concat(r))}}function u0(r,e){switch(r){case"century":return Ag(e);case"decade":return Gh(e);case"year":return Yh(e);case"month":return wu(e);case"day":return Og(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function I1(r,e){switch(r){case"century":return ZA(e);case"decade":return e0(e);case"year":return r0(e);case"month":return a0(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function D1(r,e){switch(r){case"decade":return e0(e,-100);case"year":return r0(e,-10);case"month":return a0(e,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function Kv(r,e){switch(r){case"century":return ZT(e);case"decade":return t0(e);case"year":return JA(e);case"month":return e1(e);case"day":return r1(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function C1(r,e,n){var a=[e,n].sort(function(o,u){return o.getTime()-u.getTime()});return[rs(r,a[0]),u0(r,a[1])]}function c0(r,e,n){return n.map(function(a){return(e||Qh)(r,a)}).join("  ")}function O1(r,e,n){return c0(r,e,ZT(n))}function h0(r,e,n){return c0(r,e,t0(n))}function N1(r){return r.getDay()===new Date().getDay()}function f0(r,e){e===void 0&&(e=an.ISO_8601);var n=r.getDay();switch(e){case an.ISLAMIC:case an.HEBREW:return n===E1||n===Qv;case an.ISO_8601:case an.GREGORY:return n===Qv||n===v1;default:throw new Error("Unsupported calendar type.")}}var Vr="react-calendar__navigation";function M1(r){var e=r.activeStartDate,n=r.drillUp,a=r.formatMonthYear,o=a===void 0?o0:a,u=r.formatYear,f=u===void 0?Qh:u,m=r.locale,p=r.maxDate,y=r.minDate,E=r.navigationAriaLabel,w=E===void 0?"":E,S=r.navigationAriaLive,j=r.navigationLabel,F=r.next2AriaLabel,J=F===void 0?"":F,Y=r.next2Label,ie=Y===void 0?"":Y,le=r.nextAriaLabel,he=le===void 0?"":le,Re=r.nextLabel,ye=Re===void 0?"":Re,Ie=r.prev2AriaLabel,V=Ie===void 0?"":Ie,A=r.prev2Label,I=A===void 0?"":A,N=r.prevAriaLabel,M=N===void 0?"":N,P=r.prevLabel,D=P===void 0?"":P,ht=r.setActiveStartDate,st=r.showDoubleView,H=r.view,re=r.views,ue=re.indexOf(H)>0,Ce=H!=="century",C=S1(H,e),W=Ce?A1(H,e):void 0,ne=l0(H,e),ee=Ce?R1(H,e):void 0,ce=(function(){if(C.getFullYear()<0)return!0;var nt=I1(H,e);return y&&y>=nt})(),Se=Ce&&(function(){if(W.getFullYear()<0)return!0;var nt=D1(H,e);return y&&y>=nt})(),me=p&&p<ne,ft=Ce&&p&&p<ee;function qe(){ht(C,"prev")}function Vt(){ht(W,"prev2")}function xn(){ht(ne,"next")}function An(){ht(ee,"next2")}function kn(nt){var nr=(function(){switch(H){case"century":return O1(m,f,nt);case"decade":return h0(m,f,nt);case"year":return f(m,nt);case"month":return o(m,nt);default:throw new Error("Invalid view: ".concat(H,"."))}})();return j?j({date:nt,label:nr,locale:m||XT()||void 0,view:H}):nr}function tr(){var nt="".concat(Vr,"__label");return K.jsxs("button",{"aria-label":w,"aria-live":S,className:nt,disabled:!ue,onClick:n,style:{flexGrow:1},type:"button",children:[K.jsx("span",{className:"".concat(nt,"__labelText ").concat(nt,"__labelText--from"),children:kn(e)}),st?K.jsxs(K.Fragment,{children:[K.jsx("span",{className:"".concat(nt,"__divider"),children:"  "}),K.jsx("span",{className:"".concat(nt,"__labelText ").concat(nt,"__labelText--to"),children:kn(ne)})]}):null]})}return K.jsxs("div",{className:Vr,children:[I!==null&&Ce?K.jsx("button",{"aria-label":V,className:"".concat(Vr,"__arrow ").concat(Vr,"__prev2-button"),disabled:Se,onClick:Vt,type:"button",children:I}):null,D!==null&&K.jsx("button",{"aria-label":M,className:"".concat(Vr,"__arrow ").concat(Vr,"__prev-button"),disabled:ce,onClick:qe,type:"button",children:D}),tr(),ye!==null&&K.jsx("button",{"aria-label":he,className:"".concat(Vr,"__arrow ").concat(Vr,"__next-button"),disabled:me,onClick:xn,type:"button",children:ye}),ie!==null&&Ce?K.jsx("button",{"aria-label":J,className:"".concat(Vr,"__arrow ").concat(Vr,"__next2-button"),disabled:ft,onClick:An,type:"button",children:ie}):null]})}var _o=function(){return _o=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},_o.apply(this,arguments)},V1=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n};function Wv(r){return"".concat(r,"%")}function Mg(r){var e=r.children,n=r.className,a=r.count,o=r.direction,u=r.offset,f=r.style,m=r.wrap,p=V1(r,["children","className","count","direction","offset","style","wrap"]);return K.jsx("div",_o({className:n,style:_o({display:"flex",flexDirection:o,flexWrap:m?"wrap":"nowrap"},f)},p,{children:at.Children.map(e,function(y,E){var w=u&&E===0?Wv(100*u/a):null;return at.cloneElement(y,_o(_o({},y.props),{style:{flexBasis:Wv(100/a),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:w,marginInlineStart:w,marginInlineEnd:0}}))})}))}function P1(r,e,n){return e&&e>r?e:n&&n<r?n:r}function lu(r,e){return e[0]<=r&&e[1]>=r}function x1(r,e){return r[0]<=e[0]&&r[1]>=e[1]}function d0(r,e){return lu(r[0],e)||lu(r[1],e)}function Xv(r,e,n){var a=d0(e,r),o=[];if(a){o.push(n);var u=lu(r[0],e),f=lu(r[1],e);u&&o.push("".concat(n,"Start")),f&&o.push("".concat(n,"End")),u&&f&&o.push("".concat(n,"BothEnds"))}return o}function k1(r){return Array.isArray(r)?r[0]!==null&&r[1]!==null:r!==null}function L1(r){if(!r)throw new Error("args is required");var e=r.value,n=r.date,a=r.hover,o="react-calendar__tile",u=[o];if(!n)return u;var f=new Date,m=(function(){if(Array.isArray(n))return n;var j=r.dateType;if(!j)throw new Error("dateType is required when date is not an array of two dates");return Kv(j,n)})();if(lu(f,m)&&u.push("".concat(o,"--now")),!e||!k1(e))return u;var p=(function(){if(Array.isArray(e))return e;var j=r.valueType;if(!j)throw new Error("valueType is required when value is not an array of two dates");return Kv(j,e)})();x1(p,m)?u.push("".concat(o,"--active")):d0(p,m)&&u.push("".concat(o,"--hasActive"));var y=Xv(p,m,"".concat(o,"--range"));u.push.apply(u,y);var E=Array.isArray(e)?e:[e];if(a&&E.length===1){var w=a>p[0]?[p[0],a]:[a,p[0]],S=Xv(w,m,"".concat(o,"--hover"));u.push.apply(u,S)}return u}function Kh(r){for(var e=r.className,n=r.count,a=n===void 0?3:n,o=r.dateTransform,u=r.dateType,f=r.end,m=r.hover,p=r.offset,y=r.renderTile,E=r.start,w=r.step,S=w===void 0?1:w,j=r.value,F=r.valueType,J=[],Y=E;Y<=f;Y+=S){var ie=o(Y);J.push(y({classes:L1({date:ie,dateType:u,hover:m,value:j,valueType:F}),date:ie}))}return K.jsx(Mg,{className:e,count:a,offset:p,wrap:!0,children:J})}function Wh(r){var e=r.activeStartDate,n=r.children,a=r.classes,o=r.date,u=r.formatAbbr,f=r.locale,m=r.maxDate,p=r.maxDateTransform,y=r.minDate,E=r.minDateTransform,w=r.onClick,S=r.onMouseOver,j=r.style,F=r.tileClassName,J=r.tileContent,Y=r.tileDisabled,ie=r.view,le=at.useMemo(function(){var Re={activeStartDate:e,date:o,view:ie};return typeof F=="function"?F(Re):F},[e,o,F,ie]),he=at.useMemo(function(){var Re={activeStartDate:e,date:o,view:ie};return typeof J=="function"?J(Re):J},[e,o,J,ie]);return K.jsxs("button",{className:Hh(a,le),disabled:y&&E(y)>o||m&&p(m)<o||Y?.({activeStartDate:e,date:o,view:ie}),onClick:w?function(Re){return w(o,Re)}:void 0,onFocus:S?function(){return S(o)}:void 0,onMouseOver:S?function(){return S(o)}:void 0,style:j,type:"button",children:[u?K.jsx("abbr",{"aria-label":u(f,o),children:n}):n,he]})}var zm=function(){return zm=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},zm.apply(this,arguments)},U1=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n},$v="react-calendar__century-view__decades__decade";function j1(r){var e=r.classes,n=e===void 0?[]:e,a=r.currentCentury,o=r.formatYear,u=o===void 0?Qh:o,f=U1(r,["classes","currentCentury","formatYear"]),m=f.date,p=f.locale,y=[];return n&&y.push.apply(y,n),y.push($v),Po(m).getFullYear()!==a&&y.push("".concat($v,"--neighboringCentury")),K.jsx(Wh,zm({},f,{classes:y,maxDateTransform:Gh,minDateTransform:va,view:"century",children:h0(p,u,m)}))}var Bm=function(){return Bm=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Bm.apply(this,arguments)},Zv=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n};function z1(r){var e=r.activeStartDate,n=r.hover,a=r.showNeighboringCentury,o=r.value,u=r.valueType,f=Zv(r,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),m=T1(e),p=m+(a?119:99);return K.jsx(Kh,{className:"react-calendar__century-view__decades",dateTransform:va,dateType:"decade",end:p,hover:n,renderTile:function(y){var E=y.date,w=Zv(y,["date"]);return K.jsx(j1,Bm({},f,w,{activeStartDate:e,currentCentury:m,date:E}),E.getTime())},start:m,step:10,value:o,valueType:u})}var qm=function(){return qm=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},qm.apply(this,arguments)};function B1(r){function e(){return K.jsx(z1,qm({},r))}return K.jsx("div",{className:"react-calendar__century-view",children:e()})}var Hm=function(){return Hm=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Hm.apply(this,arguments)},q1=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n},Jv="react-calendar__decade-view__years__year";function H1(r){var e=r.classes,n=e===void 0?[]:e,a=r.currentDecade,o=r.formatYear,u=o===void 0?Qh:o,f=q1(r,["classes","currentDecade","formatYear"]),m=f.date,p=f.locale,y=[];return n&&y.push.apply(y,n),y.push(Jv),va(m).getFullYear()!==a&&y.push("".concat(Jv,"--neighboringDecade")),K.jsx(Wh,Hm({},f,{classes:y,maxDateTransform:Yh,minDateTransform:xo,view:"decade",children:u(p,m)}))}var Fm=function(){return Fm=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Fm.apply(this,arguments)},eE=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n};function F1(r){var e=r.activeStartDate,n=r.hover,a=r.showNeighboringDecade,o=r.value,u=r.valueType,f=eE(r,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),m=b1(e),p=m+(a?11:9);return K.jsx(Kh,{className:"react-calendar__decade-view__years",dateTransform:xo,dateType:"year",end:p,hover:n,renderTile:function(y){var E=y.date,w=eE(y,["date"]);return K.jsx(H1,Fm({},f,w,{activeStartDate:e,currentDecade:m,date:E}),E.getTime())},start:m,value:o,valueType:u})}var Gm=function(){return Gm=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Gm.apply(this,arguments)};function G1(r){function e(){return K.jsx(F1,Gm({},r))}return K.jsx("div",{className:"react-calendar__decade-view",children:e()})}var Ym=function(){return Ym=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Ym.apply(this,arguments)},Y1=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n},tE=function(r,e,n){if(n||arguments.length===2)for(var a=0,o=e.length,u;a<o;a++)(u||!(a in e))&&(u||(u=Array.prototype.slice.call(e,0,a)),u[a]=e[a]);return r.concat(u||Array.prototype.slice.call(e))},Q1="react-calendar__year-view__months__month";function K1(r){var e=r.classes,n=e===void 0?[]:e,a=r.formatMonth,o=a===void 0?p1:a,u=r.formatMonthYear,f=u===void 0?o0:u,m=Y1(r,["classes","formatMonth","formatMonthYear"]),p=m.date,y=m.locale;return K.jsx(Wh,Ym({},m,{classes:tE(tE([],n,!0),[Q1],!1),formatAbbr:f,maxDateTransform:wu,minDateTransform:fs,view:"year",children:o(y,p)}))}var Qm=function(){return Qm=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Qm.apply(this,arguments)},nE=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n};function W1(r){var e=r.activeStartDate,n=r.hover,a=r.value,o=r.valueType,u=nE(r,["activeStartDate","hover","value","valueType"]),f=0,m=11,p=pt(e);return K.jsx(Kh,{className:"react-calendar__year-view__months",dateTransform:function(y){var E=new Date;return E.setFullYear(p,y,1),fs(E)},dateType:"month",end:m,hover:n,renderTile:function(y){var E=y.date,w=nE(y,["date"]);return K.jsx(K1,Qm({},u,w,{activeStartDate:e,date:E}),E.getTime())},start:f,value:a,valueType:o})}var Km=function(){return Km=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Km.apply(this,arguments)};function X1(r){function e(){return K.jsx(W1,Km({},r))}return K.jsx("div",{className:"react-calendar__year-view",children:e()})}var Wm=function(){return Wm=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Wm.apply(this,arguments)},$1=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n},Em="react-calendar__month-view__days__day";function Z1(r){var e=r.calendarType,n=r.classes,a=n===void 0?[]:n,o=r.currentMonthIndex,u=r.formatDay,f=u===void 0?m1:u,m=r.formatLongDate,p=m===void 0?g1:m,y=$1(r,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),E=y.date,w=y.locale,S=[];return a&&S.push.apply(S,a),S.push(Em),f0(E,e)&&S.push("".concat(Em,"--weekend")),E.getMonth()!==o&&S.push("".concat(Em,"--neighboringMonth")),K.jsx(Wh,Wm({},y,{classes:S,formatAbbr:p,maxDateTransform:Og,minDateTransform:Su,view:"month",children:f(w,E)}))}var Xm=function(){return Xm=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Xm.apply(this,arguments)},rE=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n};function J1(r){var e=r.activeStartDate,n=r.calendarType,a=r.hover,o=r.showFixedNumberOfWeeks,u=r.showNeighboringMonth,f=r.value,m=r.valueType,p=rE(r,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),y=pt(e),E=_a(e),w=o||u,S=ou(e,n),j=w?0:S,F=(w?-S:0)+1,J=(function(){if(o)return F+42-1;var Y=s0(e);if(u){var ie=new Date;ie.setFullYear(y,E,Y),ie.setHours(0,0,0,0);var le=7-ou(ie,n)-1;return Y+le}return Y})();return K.jsx(Kh,{className:"react-calendar__month-view__days",count:7,dateTransform:function(Y){var ie=new Date;return ie.setFullYear(y,E,Y),Su(ie)},dateType:"day",hover:a,end:J,renderTile:function(Y){var ie=Y.date,le=rE(Y,["date"]);return K.jsx(Z1,Xm({},p,le,{activeStartDate:e,calendarType:n,currentMonthIndex:E,date:ie}),ie.getTime())},offset:j,start:F,value:f,valueType:m})}var m0="react-calendar__month-view__weekdays",Tm="".concat(m0,"__weekday");function eR(r){for(var e=r.calendarType,n=r.formatShortWeekday,a=n===void 0?y1:n,o=r.formatWeekday,u=o===void 0?_1:o,f=r.locale,m=r.onMouseLeave,p=new Date,y=fs(p),E=pt(y),w=_a(y),S=[],j=1;j<=7;j+=1){var F=new Date(E,w,j-ou(y,e)),J=u(f,F);S.push(K.jsx("div",{className:Hh(Tm,N1(F)&&"".concat(Tm,"--current"),f0(F,e)&&"".concat(Tm,"--weekend")),children:K.jsx("abbr",{"aria-label":J,title:J,children:a(f,F).replace(".","")})},j))}return K.jsx(Mg,{className:m0,count:7,onFocus:m,onMouseOver:m,children:S})}var Th=function(){return Th=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Th.apply(this,arguments)},iE=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n},aE="react-calendar__tile";function tR(r){var e=r.onClickWeekNumber,n=r.weekNumber,a=K.jsx("span",{children:n});if(e){var o=r.date,u=r.onClickWeekNumber,f=r.weekNumber,m=iE(r,["date","onClickWeekNumber","weekNumber"]);return K.jsx("button",Th({},m,{className:aE,onClick:function(p){return u(f,o,p)},type:"button",children:a}))}else{r.date,r.onClickWeekNumber,r.weekNumber;var m=iE(r,["date","onClickWeekNumber","weekNumber"]);return K.jsx("div",Th({},m,{className:aE,children:a}))}}function nR(r){var e=r.activeStartDate,n=r.calendarType,a=r.onClickWeekNumber,o=r.onMouseLeave,u=r.showFixedNumberOfWeeks,f=(function(){if(u)return 6;var y=s0(e),E=ou(e,n),w=y-(7-E);return 1+Math.ceil(w/7)})(),m=(function(){for(var y=pt(e),E=_a(e),w=Fh(e),S=[],j=0;j<f;j+=1)S.push(jm(new Date(y,E,w+j*7),n));return S})(),p=m.map(function(y){return w1(y,n)});return K.jsx(Mg,{className:"react-calendar__month-view__weekNumbers",count:f,direction:"column",onFocus:o,onMouseOver:o,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:p.map(function(y,E){var w=m[E];if(!w)throw new Error("date is not defined");return K.jsx(tR,{date:w,onClickWeekNumber:a,weekNumber:y},y)})})}var $m=function(){return $m=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},$m.apply(this,arguments)},rR=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n};function iR(r){if(r)for(var e=0,n=Object.entries(i1);e<n.length;e++){var a=n[e],o=a[0],u=a[1];if(u.includes(r))return o}return an.ISO_8601}function aR(r){var e=r.activeStartDate,n=r.locale,a=r.onMouseLeave,o=r.showFixedNumberOfWeeks,u=r.calendarType,f=u===void 0?iR(n):u,m=r.formatShortWeekday,p=r.formatWeekday,y=r.onClickWeekNumber,E=r.showWeekNumbers,w=rR(r,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function S(){return K.jsx(eR,{calendarType:f,formatShortWeekday:m,formatWeekday:p,locale:n,onMouseLeave:a})}function j(){return E?K.jsx(nR,{activeStartDate:e,calendarType:f,onClickWeekNumber:y,onMouseLeave:a,showFixedNumberOfWeeks:o}):null}function F(){return K.jsx(J1,$m({calendarType:f},w))}var J="react-calendar__month-view";return K.jsx("div",{className:Hh(J,E?"".concat(J,"--weekNumbers"):""),children:K.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[j(),K.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[S(),F()]})]})})}var vo=function(){return vo=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},vo.apply(this,arguments)},eh="react-calendar",ch=["century","decade","year","month"],sR=["decade","year","month","day"],Vg=new Date;Vg.setFullYear(1,0,1);Vg.setHours(0,0,0,0);var oR=new Date(864e13);function Kl(r){return r instanceof Date?r:new Date(r)}function g0(r,e){return ch.slice(ch.indexOf(r),ch.indexOf(e)+1)}function lR(r,e,n){var a=g0(e,n);return a.indexOf(r)!==-1}function Pg(r,e,n){return r&&lR(r,e,n)?r:n}function p0(r){var e=ch.indexOf(r);return sR[e]}function uR(r,e){var n=Array.isArray(r)?r[e]:r;if(!n)return null;var a=Kl(n);if(Number.isNaN(a.getTime()))throw new Error("Invalid date: ".concat(r));return a}function y0(r,e){var n=r.value,a=r.minDate,o=r.maxDate,u=r.maxDetail,f=uR(n,e);if(!f)return null;var m=p0(u),p=(function(){switch(e){case 0:return rs(m,f);case 1:return u0(m,f);default:throw new Error("Invalid index value: ".concat(e))}})();return P1(p,a,o)}var xg=function(r){return y0(r,0)},_0=function(r){return y0(r,1)},cR=function(r){return[xg,_0].map(function(e){return e(r)})};function v0(r){var e=r.maxDate,n=r.maxDetail,a=r.minDate,o=r.minDetail,u=r.value,f=r.view,m=Pg(f,o,n),p=xg({value:u,minDate:a,maxDate:e,maxDetail:n})||new Date;return rs(m,p)}function hR(r){var e=r.activeStartDate,n=r.defaultActiveStartDate,a=r.defaultValue,o=r.defaultView,u=r.maxDate,f=r.maxDetail,m=r.minDate,p=r.minDetail,y=r.value,E=r.view,w=Pg(E,p,f),S=e||n;return S?rs(w,S):v0({maxDate:u,maxDetail:f,minDate:m,minDetail:p,value:y||a,view:E||o})}function bm(r){return r&&(!Array.isArray(r)||r.length===1)}function th(r,e){return r instanceof Date&&e instanceof Date&&r.getTime()===e.getTime()}var fR=at.forwardRef(function(e,n){var a=e.activeStartDate,o=e.allowPartialRange,u=e.calendarType,f=e.className,m=e.defaultActiveStartDate,p=e.defaultValue,y=e.defaultView,E=e.formatDay,w=e.formatLongDate,S=e.formatMonth,j=e.formatMonthYear,F=e.formatShortWeekday,J=e.formatWeekday,Y=e.formatYear,ie=e.goToRangeStartOnSelect,le=ie===void 0?!0:ie,he=e.inputRef,Re=e.locale,ye=e.maxDate,Ie=ye===void 0?oR:ye,V=e.maxDetail,A=V===void 0?"month":V,I=e.minDate,N=I===void 0?Vg:I,M=e.minDetail,P=M===void 0?"century":M,D=e.navigationAriaLabel,ht=e.navigationAriaLive,st=e.navigationLabel,H=e.next2AriaLabel,re=e.next2Label,ue=e.nextAriaLabel,Ce=e.nextLabel,C=e.onActiveStartDateChange,W=e.onChange,ne=e.onClickDay,ee=e.onClickDecade,ce=e.onClickMonth,Se=e.onClickWeekNumber,me=e.onClickYear,ft=e.onDrillDown,qe=e.onDrillUp,Vt=e.onViewChange,xn=e.prev2AriaLabel,An=e.prev2Label,kn=e.prevAriaLabel,tr=e.prevLabel,nt=e.returnValue,nr=nt===void 0?"start":nt,Qt=e.selectRange,Kt=e.showDoubleView,Es=e.showFixedNumberOfWeeks,Ri=e.showNavigation,Ii=Ri===void 0?!0:Ri,Hr=e.showNeighboringCentury,Fo=e.showNeighboringDecade,Fr=e.showNeighboringMonth,ba=Fr===void 0?!0:Fr,Ts=e.showWeekNumbers,dt=e.tileClassName,Ge=e.tileContent,pn=e.tileDisabled,At=e.value,wa=e.view,bs=at.useState(m),Gr=bs[0],Ln=bs[1],pr=at.useState(null),Rn=pr[0],Yr=pr[1],yr=at.useState(Array.isArray(p)?p.map(function(Te){return Te!==null?Kl(Te):null}):p!=null?Kl(p):null),Qr=yr[0],Sa=yr[1],Di=at.useState(y),rr=Di[0],Un=Di[1],Rt=a||Gr||hR({activeStartDate:a,defaultActiveStartDate:m,defaultValue:p,defaultView:y,maxDate:Ie,maxDetail:A,minDate:N,minDetail:P,value:At,view:wa}),ut=(function(){var Te=(function(){return Qt&&bm(Qr)?Qr:At!==void 0?At:Qr})();return Te?Array.isArray(Te)?Te.map(function(Ne){return Ne!==null?Kl(Ne):null}):Te!==null?Kl(Te):null:null})(),_r=p0(A),He=Pg(wa||rr,P,A),Wt=g0(P,A),vr=Qt?Rn:null,Ci=Wt.indexOf(He)<Wt.length-1,rt=Wt.indexOf(He)>0,vt=at.useCallback(function(Te){var Ne=(function(){switch(nr){case"start":return xg;case"end":return _0;case"range":return cR;default:throw new Error("Invalid returnValue.")}})();return Ne({maxDate:Ie,maxDetail:A,minDate:N,value:Te})},[Ie,A,N,nr]),mt=at.useCallback(function(Te,Ne){Ln(Te);var Ae={action:Ne,activeStartDate:Te,value:ut,view:He};C&&!th(Rt,Te)&&C(Ae)},[Rt,C,ut,He]),Xt=at.useCallback(function(Te,Ne){var Ae=(function(){switch(He){case"century":return ee;case"decade":return me;case"year":return ce;case"month":return ne;default:throw new Error("Invalid view: ".concat(He,"."))}})();Ae&&Ae(Te,Ne)},[ne,ee,ce,me,He]),Kr=at.useCallback(function(Te,Ne){if(Ci){Xt(Te,Ne);var Ae=Wt[Wt.indexOf(He)+1];if(!Ae)throw new Error("Attempted to drill down from the lowest view.");Ln(Te),Un(Ae);var $t={action:"drillDown",activeStartDate:Te,value:ut,view:Ae};C&&!th(Rt,Te)&&C($t),Vt&&He!==Ae&&Vt($t),ft&&ft($t)}},[Rt,Ci,C,Xt,ft,Vt,ut,He,Wt]),Aa=at.useCallback(function(){if(rt){var Te=Wt[Wt.indexOf(He)-1];if(!Te)throw new Error("Attempted to drill up from the highest view.");var Ne=rs(Te,Rt);Ln(Ne),Un(Te);var Ae={action:"drillUp",activeStartDate:Ne,value:ut,view:Te};C&&!th(Rt,Ne)&&C(Ae),Vt&&He!==Te&&Vt(Ae),qe&&qe(Ae)}},[Rt,rt,C,qe,Vt,ut,He,Wt]),jn=at.useCallback(function(Te,Ne){var Ae=ut;Xt(Te,Ne);var $t=Qt&&!bm(Ae),zt;if(Qt)if($t)zt=rs(_r,Te);else{if(!Ae)throw new Error("previousValue is required");if(Array.isArray(Ae))throw new Error("previousValue must not be an array");zt=C1(_r,Ae,Te)}else zt=vt(Te);var yn=!Qt||$t||le?v0({maxDate:Ie,maxDetail:A,minDate:N,minDetail:P,value:zt,view:He}):null;Ne.persist(),Ln(yn),Sa(zt);var or={action:"onChange",activeStartDate:yn,value:zt,view:He};if(C&&!th(Rt,yn)&&C(or),W)if(Qt){var Ss=bm(zt);if(!Ss)W(zt||null,Ne);else if(o){if(Array.isArray(zt))throw new Error("value must not be an array");W([zt||null,null],Ne)}}else W(zt||null,Ne)},[Rt,o,vt,le,Ie,A,N,P,C,W,Xt,Qt,ut,_r,He]);function ws(Te){Yr(Te)}function ir(){Yr(null)}at.useImperativeHandle(n,function(){return{activeStartDate:Rt,drillDown:Kr,drillUp:Aa,onChange:jn,setActiveStartDate:mt,value:ut,view:He}},[Rt,Kr,Aa,jn,mt,ut,He]);function ar(Te){var Ne=Te?l0(He,Rt):rs(He,Rt),Ae=Ci?Kr:jn,$t={activeStartDate:Ne,hover:vr,locale:Re,maxDate:Ie,minDate:N,onClick:Ae,onMouseOver:Qt?ws:void 0,tileClassName:dt,tileContent:Ge,tileDisabled:pn,value:ut,valueType:_r};switch(He){case"century":return K.jsx(B1,vo({formatYear:Y,showNeighboringCentury:Hr},$t));case"decade":return K.jsx(G1,vo({formatYear:Y,showNeighboringDecade:Fo},$t));case"year":return K.jsx(X1,vo({formatMonth:S,formatMonthYear:j},$t));case"month":return K.jsx(aR,vo({calendarType:u,formatDay:E,formatLongDate:w,formatShortWeekday:F,formatWeekday:J,onClickWeekNumber:Se,onMouseLeave:Qt?ir:void 0,showFixedNumberOfWeeks:typeof Es<"u"?Es:Kt,showNeighboringMonth:ba,showWeekNumbers:Ts},$t));default:throw new Error("Invalid view: ".concat(He,"."))}}function sr(){return Ii?K.jsx(M1,{activeStartDate:Rt,drillUp:Aa,formatMonthYear:j,formatYear:Y,locale:Re,maxDate:Ie,minDate:N,navigationAriaLabel:D,navigationAriaLive:ht,navigationLabel:st,next2AriaLabel:H,next2Label:re,nextAriaLabel:ue,nextLabel:Ce,prev2AriaLabel:xn,prev2Label:An,prevAriaLabel:kn,prevLabel:tr,setActiveStartDate:mt,showDoubleView:Kt,view:He,views:Wt}):null}var zn=Array.isArray(ut)?ut:[ut];return K.jsxs("div",{className:Hh(eh,Qt&&zn.length===1&&"".concat(eh,"--selectRange"),Kt&&"".concat(eh,"--doubleView"),f),ref:he,children:[sr(),K.jsxs("div",{className:"".concat(eh,"__viewContainer"),onBlur:Qt?ir:void 0,onMouseLeave:Qt?ir:void 0,children:[ar(),Kt?ar(!0):null]})]})});const E0=6048e5,dR=864e5,T0=6e4,b0=36e5,sE=Symbol.for("constructDateFrom");function vi(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&sE in r?r[sE](e):r instanceof Date?new r.constructor(e):new Date(e)}function dn(r,e){return vi(e||r,r)}let mR={};function Xh(){return mR}function uu(r,e){const n=Xh(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=dn(r,e?.in),u=o.getDay(),f=(u<a?7:0)+u-a;return o.setDate(o.getDate()-f),o.setHours(0,0,0,0),o}function bh(r,e){return uu(r,{...e,weekStartsOn:1})}function w0(r,e){const n=dn(r,e?.in),a=n.getFullYear(),o=vi(n,0);o.setFullYear(a+1,0,4),o.setHours(0,0,0,0);const u=bh(o),f=vi(n,0);f.setFullYear(a,0,4),f.setHours(0,0,0,0);const m=bh(f);return n.getTime()>=u.getTime()?a+1:n.getTime()>=m.getTime()?a:a-1}function oE(r){const e=dn(r),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+r-+n}function gR(r,...e){const n=vi.bind(null,e.find(a=>typeof a=="object"));return e.map(n)}function lE(r,e){const n=dn(r,e?.in);return n.setHours(0,0,0,0),n}function pR(r,e,n){const[a,o]=gR(n?.in,r,e),u=lE(a),f=lE(o),m=+u-oE(u),p=+f-oE(f);return Math.round((m-p)/dR)}function yR(r,e){const n=w0(r,e),a=vi(r,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),bh(a)}function _R(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function vR(r){return!(!_R(r)&&typeof r!="number"||isNaN(+dn(r)))}function ER(r,e){const n=dn(r,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const TR={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bR=(r,e,n)=>{let a;const o=TR[r];return typeof o=="string"?a=o:e===1?a=o.one:a=o.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function wm(r){return(e={})=>{const n=e.width?String(e.width):r.defaultWidth;return r.formats[n]||r.formats[r.defaultWidth]}}const wR={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},SR={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},AR={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},RR={date:wm({formats:wR,defaultWidth:"full"}),time:wm({formats:SR,defaultWidth:"full"}),dateTime:wm({formats:AR,defaultWidth:"full"})},IR={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},DR=(r,e,n,a)=>IR[r];function Gl(r){return(e,n)=>{const a=n?.context?String(n.context):"standalone";let o;if(a==="formatting"&&r.formattingValues){const f=r.defaultFormattingWidth||r.defaultWidth,m=n?.width?String(n.width):f;o=r.formattingValues[m]||r.formattingValues[f]}else{const f=r.defaultWidth,m=n?.width?String(n.width):r.defaultWidth;o=r.values[m]||r.values[f]}const u=r.argumentCallback?r.argumentCallback(e):e;return o[u]}}const CR={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},OR={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},NR={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},MR={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},VR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},PR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xR=(r,e)=>{const n=Number(r),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},kR={ordinalNumber:xR,era:Gl({values:CR,defaultWidth:"wide"}),quarter:Gl({values:OR,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Gl({values:NR,defaultWidth:"wide"}),day:Gl({values:MR,defaultWidth:"wide"}),dayPeriod:Gl({values:VR,defaultWidth:"wide",formattingValues:PR,defaultFormattingWidth:"wide"})};function Yl(r){return(e,n={})=>{const a=n.width,o=a&&r.matchPatterns[a]||r.matchPatterns[r.defaultMatchWidth],u=e.match(o);if(!u)return null;const f=u[0],m=a&&r.parsePatterns[a]||r.parsePatterns[r.defaultParseWidth],p=Array.isArray(m)?UR(m,w=>w.test(f)):LR(m,w=>w.test(f));let y;y=r.valueCallback?r.valueCallback(p):p,y=n.valueCallback?n.valueCallback(y):y;const E=e.slice(f.length);return{value:y,rest:E}}}function LR(r,e){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&e(r[n]))return n}function UR(r,e){for(let n=0;n<r.length;n++)if(e(r[n]))return n}function jR(r){return(e,n={})=>{const a=e.match(r.matchPattern);if(!a)return null;const o=a[0],u=e.match(r.parsePattern);if(!u)return null;let f=r.valueCallback?r.valueCallback(u[0]):u[0];f=n.valueCallback?n.valueCallback(f):f;const m=e.slice(o.length);return{value:f,rest:m}}}const zR=/^(\d+)(th|st|nd|rd)?/i,BR=/\d+/i,qR={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},HR={any:[/^b/i,/^(a|c)/i]},FR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},GR={any:[/1/i,/2/i,/3/i,/4/i]},YR={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},QR={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},KR={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},WR={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},XR={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$R={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ZR={ordinalNumber:jR({matchPattern:zR,parsePattern:BR,valueCallback:r=>parseInt(r,10)}),era:Yl({matchPatterns:qR,defaultMatchWidth:"wide",parsePatterns:HR,defaultParseWidth:"any"}),quarter:Yl({matchPatterns:FR,defaultMatchWidth:"wide",parsePatterns:GR,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Yl({matchPatterns:YR,defaultMatchWidth:"wide",parsePatterns:QR,defaultParseWidth:"any"}),day:Yl({matchPatterns:KR,defaultMatchWidth:"wide",parsePatterns:WR,defaultParseWidth:"any"}),dayPeriod:Yl({matchPatterns:XR,defaultMatchWidth:"any",parsePatterns:$R,defaultParseWidth:"any"})},JR={code:"en-US",formatDistance:bR,formatLong:RR,formatRelative:DR,localize:kR,match:ZR,options:{weekStartsOn:0,firstWeekContainsDate:1}};function eI(r,e){const n=dn(r,e?.in);return pR(n,ER(n))+1}function tI(r,e){const n=dn(r,e?.in),a=+bh(n)-+yR(n);return Math.round(a/E0)+1}function S0(r,e){const n=dn(r,e?.in),a=n.getFullYear(),o=Xh(),u=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,f=vi(e?.in||r,0);f.setFullYear(a+1,0,u),f.setHours(0,0,0,0);const m=uu(f,e),p=vi(e?.in||r,0);p.setFullYear(a,0,u),p.setHours(0,0,0,0);const y=uu(p,e);return+n>=+m?a+1:+n>=+y?a:a-1}function nI(r,e){const n=Xh(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=S0(r,e),u=vi(e?.in||r,0);return u.setFullYear(o,0,a),u.setHours(0,0,0,0),uu(u,e)}function rI(r,e){const n=dn(r,e?.in),a=+uu(n,e)-+nI(n,e);return Math.round(a/E0)+1}function $e(r,e){const n=r<0?"-":"",a=Math.abs(r).toString().padStart(e,"0");return n+a}const ea={y(r,e){const n=r.getFullYear(),a=n>0?n:1-n;return $e(e==="yy"?a%100:a,e.length)},M(r,e){const n=r.getMonth();return e==="M"?String(n+1):$e(n+1,2)},d(r,e){return $e(r.getDate(),e.length)},a(r,e){const n=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(r,e){return $e(r.getHours()%12||12,e.length)},H(r,e){return $e(r.getHours(),e.length)},m(r,e){return $e(r.getMinutes(),e.length)},s(r,e){return $e(r.getSeconds(),e.length)},S(r,e){const n=e.length,a=r.getMilliseconds(),o=Math.trunc(a*Math.pow(10,n-3));return $e(o,e.length)}},fo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},uE={G:function(r,e,n){const a=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(r,e,n){if(e==="yo"){const a=r.getFullYear(),o=a>0?a:1-a;return n.ordinalNumber(o,{unit:"year"})}return ea.y(r,e)},Y:function(r,e,n,a){const o=S0(r,a),u=o>0?o:1-o;if(e==="YY"){const f=u%100;return $e(f,2)}return e==="Yo"?n.ordinalNumber(u,{unit:"year"}):$e(u,e.length)},R:function(r,e){const n=w0(r);return $e(n,e.length)},u:function(r,e){const n=r.getFullYear();return $e(n,e.length)},Q:function(r,e,n){const a=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return $e(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(r,e,n){const a=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return $e(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(r,e,n){const a=r.getMonth();switch(e){case"M":case"MM":return ea.M(r,e);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(r,e,n){const a=r.getMonth();switch(e){case"L":return String(a+1);case"LL":return $e(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(r,e,n,a){const o=rI(r,a);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):$e(o,e.length)},I:function(r,e,n){const a=tI(r);return e==="Io"?n.ordinalNumber(a,{unit:"week"}):$e(a,e.length)},d:function(r,e,n){return e==="do"?n.ordinalNumber(r.getDate(),{unit:"date"}):ea.d(r,e)},D:function(r,e,n){const a=eI(r);return e==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):$e(a,e.length)},E:function(r,e,n){const a=r.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(r,e,n,a){const o=r.getDay(),u=(o-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return $e(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(r,e,n,a){const o=r.getDay(),u=(o-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return $e(u,e.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(r,e,n){const a=r.getDay(),o=a===0?7:a;switch(e){case"i":return String(o);case"ii":return $e(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(r,e,n){const o=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(r,e,n){const a=r.getHours();let o;switch(a===12?o=fo.noon:a===0?o=fo.midnight:o=a/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(r,e,n){const a=r.getHours();let o;switch(a>=17?o=fo.evening:a>=12?o=fo.afternoon:a>=4?o=fo.morning:o=fo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(r,e,n){if(e==="ho"){let a=r.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return ea.h(r,e)},H:function(r,e,n){return e==="Ho"?n.ordinalNumber(r.getHours(),{unit:"hour"}):ea.H(r,e)},K:function(r,e,n){const a=r.getHours()%12;return e==="Ko"?n.ordinalNumber(a,{unit:"hour"}):$e(a,e.length)},k:function(r,e,n){let a=r.getHours();return a===0&&(a=24),e==="ko"?n.ordinalNumber(a,{unit:"hour"}):$e(a,e.length)},m:function(r,e,n){return e==="mo"?n.ordinalNumber(r.getMinutes(),{unit:"minute"}):ea.m(r,e)},s:function(r,e,n){return e==="so"?n.ordinalNumber(r.getSeconds(),{unit:"second"}):ea.s(r,e)},S:function(r,e){return ea.S(r,e)},X:function(r,e,n){const a=r.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return hE(a);case"XXXX":case"XX":return es(a);case"XXXXX":case"XXX":default:return es(a,":")}},x:function(r,e,n){const a=r.getTimezoneOffset();switch(e){case"x":return hE(a);case"xxxx":case"xx":return es(a);case"xxxxx":case"xxx":default:return es(a,":")}},O:function(r,e,n){const a=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+cE(a,":");case"OOOO":default:return"GMT"+es(a,":")}},z:function(r,e,n){const a=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+cE(a,":");case"zzzz":default:return"GMT"+es(a,":")}},t:function(r,e,n){const a=Math.trunc(+r/1e3);return $e(a,e.length)},T:function(r,e,n){return $e(+r,e.length)}};function cE(r,e=""){const n=r>0?"-":"+",a=Math.abs(r),o=Math.trunc(a/60),u=a%60;return u===0?n+String(o):n+String(o)+e+$e(u,2)}function hE(r,e){return r%60===0?(r>0?"-":"+")+$e(Math.abs(r)/60,2):es(r,e)}function es(r,e=""){const n=r>0?"-":"+",a=Math.abs(r),o=$e(Math.trunc(a/60),2),u=$e(a%60,2);return n+o+e+u}const fE=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},A0=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},iI=(r,e)=>{const n=r.match(/(P+)(p+)?/)||[],a=n[1],o=n[2];if(!o)return fE(r,e);let u;switch(a){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;case"PPPP":default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",fE(a,e)).replace("{{time}}",A0(o,e))},aI={p:A0,P:iI},sI=/^D+$/,oI=/^Y+$/,lI=["D","DD","YY","YYYY"];function uI(r){return sI.test(r)}function cI(r){return oI.test(r)}function hI(r,e,n){const a=fI(r,e,n);if(console.warn(a),lI.includes(r))throw new RangeError(a)}function fI(r,e,n){const a=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const dI=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,mI=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,gI=/^'([^]*?)'?$/,pI=/''/g,yI=/[a-zA-Z]/;function dE(r,e,n){const a=Xh(),o=a.locale??JR,u=a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,f=a.weekStartsOn??a.locale?.options?.weekStartsOn??0,m=dn(r,n?.in);if(!vR(m))throw new RangeError("Invalid time value");let p=e.match(mI).map(E=>{const w=E[0];if(w==="p"||w==="P"){const S=aI[w];return S(E,o.formatLong)}return E}).join("").match(dI).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const w=E[0];if(w==="'")return{isToken:!1,value:_I(E)};if(uE[w])return{isToken:!0,value:E};if(w.match(yI))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:E}});o.localize.preprocessor&&(p=o.localize.preprocessor(m,p));const y={firstWeekContainsDate:u,weekStartsOn:f,locale:o};return p.map(E=>{if(!E.isToken)return E.value;const w=E.value;(cI(w)||uI(w))&&hI(w,e,String(r));const S=uE[w[0]];return S(m,w,o.localize,y)}).join("")}function _I(r){const e=r.match(gI);return e?e[1].replace(pI,"'"):r}function vI(r,e,n){const a=+dn(r,n?.in),[o,u]=[+dn(e.start,n?.in),+dn(e.end,n?.in)].sort((f,m)=>f-m);return a>=o&&a<=u}function nh(r,e){const n=()=>vi(e?.in,NaN),o=wI(r);let u;if(o.date){const y=SI(o.date,2);u=AI(y.restDateString,y.year)}if(!u||isNaN(+u))return n();const f=+u;let m=0,p;if(o.time&&(m=RI(o.time),isNaN(m)))return n();if(o.timezone){if(p=II(o.timezone),isNaN(p))return n()}else{const y=new Date(f+m),E=dn(0,e?.in);return E.setFullYear(y.getUTCFullYear(),y.getUTCMonth(),y.getUTCDate()),E.setHours(y.getUTCHours(),y.getUTCMinutes(),y.getUTCSeconds(),y.getUTCMilliseconds()),E}return dn(f+m+p,e?.in)}const rh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},EI=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,TI=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,bI=/^([+-])(\d{2})(?::?(\d{2}))?$/;function wI(r){const e={},n=r.split(rh.dateTimeDelimiter);let a;if(n.length>2)return e;if(/:/.test(n[0])?a=n[0]:(e.date=n[0],a=n[1],rh.timeZoneDelimiter.test(e.date)&&(e.date=r.split(rh.timeZoneDelimiter)[0],a=r.substr(e.date.length,r.length))),a){const o=rh.timezone.exec(a);o?(e.time=a.replace(o[1],""),e.timezone=o[1]):e.time=a}return e}function SI(r,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),a=r.match(n);if(!a)return{year:NaN,restDateString:""};const o=a[1]?parseInt(a[1]):null,u=a[2]?parseInt(a[2]):null;return{year:u===null?o:u*100,restDateString:r.slice((a[1]||a[2]).length)}}function AI(r,e){if(e===null)return new Date(NaN);const n=r.match(EI);if(!n)return new Date(NaN);const a=!!n[4],o=Ql(n[1]),u=Ql(n[2])-1,f=Ql(n[3]),m=Ql(n[4]),p=Ql(n[5])-1;if(a)return MI(e,m,p)?DI(e,m,p):new Date(NaN);{const y=new Date(0);return!OI(e,u,f)||!NI(e,o)?new Date(NaN):(y.setUTCFullYear(e,u,Math.max(o,f)),y)}}function Ql(r){return r?parseInt(r):1}function RI(r){const e=r.match(TI);if(!e)return NaN;const n=Sm(e[1]),a=Sm(e[2]),o=Sm(e[3]);return VI(n,a,o)?n*b0+a*T0+o*1e3:NaN}function Sm(r){return r&&parseFloat(r.replace(",","."))||0}function II(r){if(r==="Z")return 0;const e=r.match(bI);if(!e)return 0;const n=e[1]==="+"?-1:1,a=parseInt(e[2]),o=e[3]&&parseInt(e[3])||0;return PI(a,o)?n*(a*b0+o*T0):NaN}function DI(r,e,n){const a=new Date(0);a.setUTCFullYear(r,0,4);const o=a.getUTCDay()||7,u=(e-1)*7+n+1-o;return a.setUTCDate(a.getUTCDate()+u),a}const CI=[31,null,31,30,31,30,31,31,30,31,30,31];function R0(r){return r%400===0||r%4===0&&r%100!==0}function OI(r,e,n){return e>=0&&e<=11&&n>=1&&n<=(CI[e]||(R0(r)?29:28))}function NI(r,e){return e>=1&&e<=(R0(r)?366:365)}function MI(r,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function VI(r,e,n){return r===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&r>=0&&r<25}function PI(r,e){return e>=0&&e<=59}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=()=>{};var mE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},kI=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},D0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let S=(m&15)<<2|y>>6,j=y&63;p||(j=64,f||(S=64)),a.push(n[E],n[w],n[S],n[j])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(I0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):kI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||w==null)throw new LI;const S=u<<2|m>>4;if(a.push(S),y!==64){const j=m<<4&240|y>>2;if(a.push(j),w!==64){const F=y<<6&192|w;a.push(F)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class LI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UI=function(r){const e=I0(r);return D0.encodeByteArray(e,!0)},wh=function(r){return UI(r).replace(/\./g,"")},C0=function(r){try{return D0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=()=>jI().__FIREBASE_DEFAULTS__,BI=()=>{if(typeof process>"u"||typeof mE>"u")return;const r=mE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},qI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&C0(r[1]);return e&&JSON.parse(e)},$h=()=>{try{return xI()||zI()||BI()||qI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},O0=r=>$h()?.emulatorHosts?.[r],HI=r=>{const e=O0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},N0=()=>$h()?.config,M0=r=>$h()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function V0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[wh(JSON.stringify(n)),wh(JSON.stringify(f)),""].join(".")}const tu={};function YI(){const r={prod:[],emulator:[]};for(const e of Object.keys(tu))tu[e]?r.emulator.push(e):r.prod.push(e);return r}function QI(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let gE=!1;function P0(r,e){if(typeof window>"u"||typeof document>"u"||!ko(window.location.host)||tu[r]===e||tu[r]||gE)return;tu[r]=e;function n(S){return`__firebase__banner__${S}`}const a="__firebase__banner",u=YI().prod.length>0;function f(){const S=document.getElementById(a);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,j){S.setAttribute("width","24"),S.setAttribute("id",j),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{gE=!0,f()},S}function E(S,j){S.setAttribute("id",j),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function w(){const S=QI(a),j=n("text"),F=document.getElementById(j)||document.createElement("span"),J=n("learnmore"),Y=document.getElementById(J)||document.createElement("a"),ie=n("preprendIcon"),le=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const he=S.element;m(he),E(Y,J);const Re=y();p(le,ie),he.append(le,F,Y,Re),document.body.appendChild(he)}u?(F.innerText="Preview backend disconnected.",le.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(le.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function WI(){const r=$h()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $I(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function ZI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JI(){const r=mn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function eD(){return!WI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tD(){try{return typeof indexedDB=="object"}catch{return!1}}function nD(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="FirebaseError";class Ai extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=rD,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Au.prototype.create)}}class Au{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?iD(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ai(o,m,a)}}function iD(r,e){return r.replace(aD,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const aD=/\{\$([^}]+)}/g;function sD(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ss(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],f=e[o];if(pE(u)&&pE(f)){if(!ss(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function pE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Wl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Xl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function oD(r,e){const n=new lD(r,e);return n.subscribe.bind(n)}class lD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");uD(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Am),o.error===void 0&&(o.error=Am),o.complete===void 0&&(o.complete=Am);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uD(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Am(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(r){return r&&r._delegate?r._delegate:r}class os{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new FI;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fD(e))try{this.getOrInitializeService({instanceIdentifier:ts})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ts){return this.instances.has(e)}getOptions(e=ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:hD(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ts){return this.component?this.component.multipleInstances?e:ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hD(r){return r===ts?void 0:r}function fD(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xe||(xe={}));const mD={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},gD=xe.INFO,pD={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},yD=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=pD[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kg{constructor(e){this.name=e,this._logLevel=gD,this._logHandler=yD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const _D=(r,e)=>e.some(n=>r instanceof n);let yE,_E;function vD(){return yE||(yE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ED(){return _E||(_E=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x0=new WeakMap,Zm=new WeakMap,k0=new WeakMap,Rm=new WeakMap,Lg=new WeakMap;function TD(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(oa(r.result)),o()},f=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&x0.set(n,r)}).catch(()=>{}),Lg.set(e,r),e}function bD(r){if(Zm.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Zm.set(r,e)}let Jm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Zm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||k0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oa(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function wD(r){Jm=r(Jm)}function SD(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(Im(this),e,...n);return k0.set(a,e.sort?e.sort():[e]),oa(a)}:ED().includes(r)?function(...e){return r.apply(Im(this),e),oa(x0.get(this))}:function(...e){return oa(r.apply(Im(this),e))}}function AD(r){return typeof r=="function"?SD(r):(r instanceof IDBTransaction&&bD(r),_D(r,vD())?new Proxy(r,Jm):r)}function oa(r){if(r instanceof IDBRequest)return TD(r);if(Rm.has(r))return Rm.get(r);const e=AD(r);return e!==r&&(Rm.set(r,e),Lg.set(e,r)),e}const Im=r=>Lg.get(r);function RD(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=oa(f);return a&&f.addEventListener("upgradeneeded",p=>{a(oa(f.result),p.oldVersion,p.newVersion,oa(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const ID=["get","getKey","getAll","getAllKeys","count"],DD=["put","add","delete","clear"],Dm=new Map;function vE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Dm.get(e))return Dm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=DD.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||ID.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Dm.set(e,u),u}wD(r=>({...r,get:(e,n,a)=>vE(e,n)||r.get(e,n,a),has:(e,n)=>!!vE(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OD(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function OD(r){return r.getComponent()?.type==="VERSION"}const eg="@firebase/app",EE="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new kg("@firebase/app"),ND="@firebase/app-compat",MD="@firebase/analytics-compat",VD="@firebase/analytics",PD="@firebase/app-check-compat",xD="@firebase/app-check",kD="@firebase/auth",LD="@firebase/auth-compat",UD="@firebase/database",jD="@firebase/data-connect",zD="@firebase/database-compat",BD="@firebase/functions",qD="@firebase/functions-compat",HD="@firebase/installations",FD="@firebase/installations-compat",GD="@firebase/messaging",YD="@firebase/messaging-compat",QD="@firebase/performance",KD="@firebase/performance-compat",WD="@firebase/remote-config",XD="@firebase/remote-config-compat",$D="@firebase/storage",ZD="@firebase/storage-compat",JD="@firebase/firestore",eC="@firebase/ai",tC="@firebase/firestore-compat",nC="firebase",rC="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="[DEFAULT]",iC={[eg]:"fire-core",[ND]:"fire-core-compat",[VD]:"fire-analytics",[MD]:"fire-analytics-compat",[xD]:"fire-app-check",[PD]:"fire-app-check-compat",[kD]:"fire-auth",[LD]:"fire-auth-compat",[UD]:"fire-rtdb",[jD]:"fire-data-connect",[zD]:"fire-rtdb-compat",[BD]:"fire-fn",[qD]:"fire-fn-compat",[HD]:"fire-iid",[FD]:"fire-iid-compat",[GD]:"fire-fcm",[YD]:"fire-fcm-compat",[QD]:"fire-perf",[KD]:"fire-perf-compat",[WD]:"fire-rc",[XD]:"fire-rc-compat",[$D]:"fire-gcs",[ZD]:"fire-gcs-compat",[JD]:"fire-fst",[tC]:"fire-fst-compat",[eC]:"fire-vertex","fire-js":"fire-js",[nC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Map,aC=new Map,ng=new Map;function TE(r,e){try{r.container.addComponent(e)}catch(n){Ei.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Io(r){const e=r.name;if(ng.has(e))return Ei.debug(`There were multiple attempts to register component ${e}.`),!1;ng.set(e,r);for(const n of Sh.values())TE(n,r);for(const n of aC.values())TE(n,r);return!0}function Ug(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Zn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},la=new Au("app","Firebase",sC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw la.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=rC;function L0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a={name:tg,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw la.create("bad-app-name",{appName:String(o)});if(n||(n=N0()),!n)throw la.create("no-options");const u=Sh.get(o);if(u){if(ss(n,u.options)&&ss(a,u.config))return u;throw la.create("duplicate-app",{appName:o})}const f=new dD(o);for(const p of ng.values())f.addComponent(p);const m=new oC(n,a,f);return Sh.set(o,m),m}function U0(r=tg){const e=Sh.get(r);if(!e&&r===tg&&N0())return L0();if(!e)throw la.create("no-app",{appName:r});return e}function ua(r,e,n){let a=iC[r]??r;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${a}" with version "${e}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ei.warn(f.join(" "));return}Io(new os(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="firebase-heartbeat-database",uC=1,cu="firebase-heartbeat-store";let Cm=null;function j0(){return Cm||(Cm=RD(lC,uC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(cu)}catch(n){console.warn(n)}}}}).catch(r=>{throw la.create("idb-open",{originalErrorMessage:r.message})})),Cm}async function cC(r){try{const n=(await j0()).transaction(cu),a=await n.objectStore(cu).get(z0(r));return await n.done,a}catch(e){if(e instanceof Ai)Ei.warn(e.message);else{const n=la.create("idb-get",{originalErrorMessage:e?.message});Ei.warn(n.message)}}}async function bE(r,e){try{const a=(await j0()).transaction(cu,"readwrite");await a.objectStore(cu).put(e,z0(r)),await a.done}catch(n){if(n instanceof Ai)Ei.warn(n.message);else{const a=la.create("idb-set",{originalErrorMessage:n?.message});Ei.warn(a.message)}}}function z0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=1024,fC=30;class dC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gC(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=wE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>fC){const o=pC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ei.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=wE(),{heartbeatsToSend:n,unsentEntries:a}=mC(this._heartbeatsCache.heartbeats),o=wh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ei.warn(e),""}}}function wE(){return new Date().toISOString().substring(0,10)}function mC(r,e=hC){const n=[];let a=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),SE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),SE(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class gC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tD()?nD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return bE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return bE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function SE(r){return wh(JSON.stringify({version:2,heartbeats:r})).length}function pC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(r){Io(new os("platform-logger",e=>new CD(e),"PRIVATE")),Io(new os("heartbeat",e=>new dC(e),"PRIVATE")),ua(eg,EE,r),ua(eg,EE,"esm2020"),ua("fire-js","")}yC("");function B0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _C=B0,q0=new Au("auth","Firebase",B0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new kg("@firebase/auth");function vC(r,...e){Ah.logLevel<=xe.WARN&&Ah.warn(`Auth (${Lo}): ${r}`,...e)}function hh(r,...e){Ah.logLevel<=xe.ERROR&&Ah.error(`Auth (${Lo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(r,...e){throw jg(r,...e)}function xr(r,...e){return jg(r,...e)}function H0(r,e,n){const a={..._C(),[e]:n};return new Au("auth","Firebase",a).create(e,{appName:r.name})}function _i(r){return H0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jg(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return q0.create(r,...e)}function _e(r,e,...n){if(!r)throw jg(e,...n)}function pi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw hh(e),new Error(e)}function Ti(r,e){r||pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(){return typeof self<"u"&&self.location?.href||""}function EC(){return AE()==="http:"||AE()==="https:"}function AE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EC()||$I()||"connection"in navigator)?navigator.onLine:!0}function bC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ti(n>e,"Short delay should be less than long delay!"),this.isMobile=KI()||ZI()}get(){return TC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(r,e){Ti(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AC=new Iu(3e4,6e4);function Ea(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ta(r,e,n,a,o={}){return G0(r,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const m=Ru({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:p,...u};return XI()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&ko(r.emulatorConfig.host)&&(y.credentials="include"),F0.fetch()(await Y0(r,r.config.apiHost,n,m),y)})}async function G0(r,e,n){r._canInitEmulator=!1;const a={...wC,...e};try{const o=new IC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw ih(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw ih(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw ih(r,"user-disabled",f);const E=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw H0(r,E,y);mr(r,E)}}catch(o){if(o instanceof Ai)throw o;mr(r,"network-request-failed",{message:String(o)})}}async function Du(r,e,n,a,o={}){const u=await Ta(r,e,n,a,o);return"mfaPendingCredential"in u&&mr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Y0(r,e,n,a){const o=`${e}${n}?${a}`,u=r,f=u.config.emulator?zg(r.config,o):`${r.config.apiScheme}://${o}`;return SC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function RC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class IC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(xr(this.auth,"network-request-failed")),AC.get())})}}function ih(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=xr(r,e,a);return o.customData._tokenResponse=n,o}function RE(r){return r!==void 0&&r.enterprise!==void 0}class DC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return RC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function CC(r,e){return Ta(r,"GET","/v2/recaptchaConfig",Ea(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(r,e){return Ta(r,"POST","/v1/accounts:delete",e)}async function Rh(r,e){return Ta(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NC(r,e=!1){const n=gn(r),a=await n.getIdToken(e),o=Bg(a);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:a,authTime:nu(Om(o.auth_time)),issuedAtTime:nu(Om(o.iat)),expirationTime:nu(Om(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Om(r){return Number(r)*1e3}function Bg(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{const o=C0(n);return o?JSON.parse(o):(hh("Failed to decode base64 JWT payload"),null)}catch(o){return hh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function IE(r){const e=Bg(r);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Ai&&MC(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function MC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nu(this.lastLoginAt),this.creationTime=nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(r){const e=r.auth,n=await r.getIdToken(),a=await hu(r,Rh(e,{idToken:n}));_e(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?Q0(o.providerUserInfo):[],f=xC(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new ig(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function PC(r){const e=gn(r);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xC(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Q0(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(r,e){const n=await G0(r,{},async()=>{const a=Ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await Y0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return r.emulatorConfig&&ko(r.emulatorConfig.host)&&(p.credentials="include"),F0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LC(r,e){return Ta(r,"POST","/v2/accounts:revokeToken",Ea(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=IE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await kC(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,f=new To;return a&&(_e(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(_e(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(r,e){_e(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class fr{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new VC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ig(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await hu(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return NC(this,e)}reload(){return PC(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(_i(this.auth));const e=await this.getIdToken();return await hu(this,OC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:w,emailVerified:S,isAnonymous:j,providerData:F,stsTokenManager:J}=n;_e(w&&J,e,"internal-error");const Y=To.fromJSON(this.name,J);_e(typeof w=="string",e,"internal-error"),ta(a,e.name),ta(o,e.name),_e(typeof S=="boolean",e,"internal-error"),_e(typeof j=="boolean",e,"internal-error"),ta(u,e.name),ta(f,e.name),ta(m,e.name),ta(p,e.name),ta(y,e.name),ta(E,e.name);const ie=new fr({uid:w,auth:e,email:o,emailVerified:S,displayName:a,isAnonymous:j,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:Y,createdAt:y,lastLoginAt:E});return F&&Array.isArray(F)&&(ie.providerData=F.map(le=>({...le}))),p&&(ie._redirectEventId=p),ie}static async _fromIdTokenResponse(e,n,a=!1){const o=new To;o.updateFromServerResponse(n);const u=new fr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Ih(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Q0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new To;m.updateFromIdToken(a);const p=new fr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ig(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;function yi(r){Ti(r instanceof Function,"Expected a class definition");let e=DE.get(r);return e?(Ti(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,DE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}K0.type="NONE";const CE=K0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(r,e,n){return`firebase:${r}:${e}:${n}`}class bo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=fh(this.userKey,o.apiKey,u),this.fullPersistenceKey=fh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Rh(this.auth,{idToken:e}).catch(()=>{});return n?fr._fromGetAccountInfoResponse(this.auth,n,e):null}return fr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new bo(yi(CE),e,a);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||yi(CE);const f=fh(a,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let w;if(typeof E=="string"){const S=await Rh(e,{idToken:E}).catch(()=>{});if(!S)break;w=await fr._fromGetAccountInfoResponse(e,S,E)}else w=fr._fromJSON(e,E);y!==u&&(m=w),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new bo(u,e,a):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new bo(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Z0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(W0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eb(e))return"Blackberry";if(tb(e))return"Webos";if(X0(e))return"Safari";if((e.includes("chrome/")||$0(e))&&!e.includes("edge/"))return"Chrome";if(J0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function W0(r=mn()){return/firefox\//i.test(r)}function X0(r=mn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $0(r=mn()){return/crios\//i.test(r)}function Z0(r=mn()){return/iemobile/i.test(r)}function J0(r=mn()){return/android/i.test(r)}function eb(r=mn()){return/blackberry/i.test(r)}function tb(r=mn()){return/webos/i.test(r)}function qg(r=mn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function UC(r=mn()){return qg(r)&&!!window.navigator?.standalone}function jC(){return JI()&&document.documentMode===10}function nb(r=mn()){return qg(r)||J0(r)||tb(r)||eb(r)||/windows phone/i.test(r)||Z0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(r,e=[]){let n;switch(r){case"Browser":n=OE(mn());break;case"Worker":n=`${OE(mn())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BC(r,e={}){return Ta(r,"GET","/v2/passwordPolicy",Ea(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=6;class HC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??qC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NE(this),this.idTokenSubscription=new NE(this),this.beforeStateQueue=new zC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Rh(this,{idToken:e}),a=await fr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(_i(this));const n=e?gn(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(_i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(_i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BC(this),n=new HC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Au("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await LC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yi(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&vC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ms(r){return gn(r)}class NE{constructor(e){this.auth=e,this.observer=null,this.addObserver=oD(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GC(r){Zh=r}function ib(r){return Zh.loadJS(r)}function YC(){return Zh.recaptchaEnterpriseScript}function QC(){return Zh.gapiScript}function KC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class WC{constructor(){this.enterprise=new XC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class XC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const $C="recaptcha-enterprise",ab="NO_RECAPTCHA";class ZC{constructor(e){this.type=$C,this.auth=ms(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{CC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new DC(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;RE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(ab)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{a(this.auth).then(m=>{if(!n&&RE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=YC();p.length!==0&&(p+=m),ib(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function ME(r,e,n,a=!1,o=!1){const u=new ZC(r);let f;if(o)f=ab;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function ag(r,e,n,a,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await ME(r,e,n,n==="getOobCode");return a(r,u)}else return a(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await ME(r,e,n,n==="getOobCode");return a(r,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(r,e){const n=Ug(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ss(u,e??{}))return o;mr(o,"already-initialized")}return n.initialize({options:e})}function eO(r,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(yi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function tO(r,e,n){const a=ms(r);_e(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=sb(e),{host:f,port:m}=nO(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){_e(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_e(ss(y,a.config.emulator)&&ss(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,ko(f)?(V0(`${u}//${f}${p}`),P0("Auth",!0)):rO()}function sb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function nO(r){const e=sb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:VE(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:VE(f)}}}function VE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function rO(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pi("not implemented")}_getIdTokenResponse(e){return pi("not implemented")}_linkToIdToken(e,n){return pi("not implemented")}_getReauthenticationResolver(e){return pi("not implemented")}}async function iO(r,e){return Ta(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(r,e){return Du(r,"POST","/v1/accounts:signInWithPassword",Ea(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(r,e){return Du(r,"POST","/v1/accounts:signInWithEmailLink",Ea(r,e))}async function oO(r,e){return Du(r,"POST","/v1/accounts:signInWithEmailLink",Ea(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends Hg{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new fu(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new fu(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ag(e,n,"signInWithPassword",aO);case"emailLink":return sO(e,{email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ag(e,a,"signUpPassword",iO);case"emailLink":return oO(e,{idToken:n,email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(r,e){return Du(r,"POST","/v1/accounts:signInWithIdp",Ea(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="http://localhost";class ls extends Hg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ls(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=n;if(!a||!o)return null;const f=new ls(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return wo(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,wo(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wo(e,n)}buildRequest(){const e={requestUri:lO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ru(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cO(r){const e=Wl(Xl(r)).link,n=e?Wl(Xl(e)).deep_link_id:null,a=Wl(Xl(r)).deep_link_id;return(a?Wl(Xl(a)).link:null)||a||n||e||r}class Fg{constructor(e){const n=Wl(Xl(e)),a=n.apiKey??null,o=n.oobCode??null,u=uO(n.mode??null);_e(a&&o&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=cO(e);try{return new Fg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.providerId=Uo.PROVIDER_ID}static credential(e,n){return fu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=Fg.parseLink(n);return _e(a,"argument-error"),fu._fromEmailAndCode(e,a.code,a.tenantId)}}Uo.PROVIDER_ID="password";Uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends ob{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends Cu{constructor(){super("facebook.com")}static credential(e){return ls._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return na.credential(e.oauthAccessToken)}catch{return null}}}na.FACEBOOK_SIGN_IN_METHOD="facebook.com";na.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends Cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ls._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return ra.credential(n,a)}catch{return null}}}ra.GOOGLE_SIGN_IN_METHOD="google.com";ra.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends Cu{constructor(){super("github.com")}static credential(e){return ls._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch{return null}}}ia.GITHUB_SIGN_IN_METHOD="github.com";ia.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends Cu{constructor(){super("twitter.com")}static credential(e,n){return ls._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return aa.credential(n,a)}catch{return null}}}aa.TWITTER_SIGN_IN_METHOD="twitter.com";aa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(r,e){return Du(r,"POST","/v1/accounts:signUp",Ea(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await fr._fromIdTokenResponse(e,a,o),f=PE(a);return new us({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=PE(a);return new us({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function PE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends Ai{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Dh(e,n,a,o)}}function lb(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(r,u,e,a):u})}async function fO(r,e,n=!1){const a=await hu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return us._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dO(r,e,n=!1){const{auth:a}=r;if(Zn(a.app))return Promise.reject(_i(a));const o="reauthenticate";try{const u=await hu(r,lb(a,o,e,r),n);_e(u.idToken,a,"internal-error");const f=Bg(u.idToken);_e(f,a,"internal-error");const{sub:m}=f;return _e(r.uid===m,a,"user-mismatch"),us._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&mr(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ub(r,e,n=!1){if(Zn(r.app))return Promise.reject(_i(r));const a="signIn",o=await lb(r,a,e),u=await us._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}async function mO(r,e){return ub(ms(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cb(r){const e=ms(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gO(r,e,n){if(Zn(r.app))return Promise.reject(_i(r));const a=ms(r),f=await ag(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hO).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&cb(r),p}),m=await us._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(m.user),m}function pO(r,e,n){return Zn(r.app)?Promise.reject(_i(r)):mO(gn(r),Uo.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&cb(r),a})}function yO(r,e,n,a){return gn(r).onIdTokenChanged(e,n,a)}function _O(r,e,n){return gn(r).beforeAuthStateChanged(e,n)}function vO(r,e,n,a){return gn(r).onAuthStateChanged(e,n,a)}function EO(r){return gn(r).signOut()}const Ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=1e3,bO=10;class fb extends hb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);jC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,bO):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},TO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fb.type="LOCAL";const wO=fb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db extends hb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}db.type="SESSION";const mb=db;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Jh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await SO(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Gg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(w){const S=w;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return window}function RO(r){kr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}async function IO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DO(){return navigator?.serviceWorker?.controller||null}function CO(){return gb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="firebaseLocalStorageDb",OO=1,Oh="firebaseLocalStorage",yb="fbase_key";class Ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ef(r,e){return r.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function NO(){const r=indexedDB.deleteDatabase(pb);return new Ou(r).toPromise()}function sg(){const r=indexedDB.open(pb,OO);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Oh,{keyPath:yb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Oh)?e(a):(a.close(),await NO(),e(await sg()))})})}async function xE(r,e,n){const a=ef(r,!0).put({[yb]:e,value:n});return new Ou(a).toPromise()}async function MO(r,e){const n=ef(r,!1).get(e),a=await new Ou(n).toPromise();return a===void 0?null:a.value}function kE(r,e){const n=ef(r,!0).delete(e);return new Ou(n).toPromise()}const VO=800,PO=3;class _b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>PO)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jh._getInstance(CO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await IO(),!this.activeServiceWorker)return;this.sender=new AO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sg();return await xE(e,Ch,"1"),await kE(e,Ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>xE(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>MO(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ef(o,!1).getAll();return new Ou(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_b.type="LOCAL";const xO=_b;new Iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(r,e){return e?yi(e):(_e(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg extends Hg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function LO(r){return ub(r.auth,new Yg(r),r.bypassAuthState)}function UO(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),dO(n,new Yg(r),r.bypassAuthState)}async function jO(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),fO(n,new Yg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LO;case"linkViaPopup":case"linkViaRedirect":return jO;case"reauthViaPopup":case"reauthViaRedirect":return UO;default:mr(this.auth,"internal-error")}}resolve(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new Iu(2e3,1e4);class Eo extends vb{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Eo.currentPopupAction&&Eo.currentPopupAction.cancel(),Eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Ti(this.filter.length===1,"Popup operations only handle one event");const e=Gg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zO.get())};e()}}Eo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO="pendingRedirect",dh=new Map;class qO extends vb{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=dh.get(this.auth._key());if(!e){try{const a=await HO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}dh.set(this.auth._key(),e)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HO(r,e){const n=YO(e),a=GO(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function FO(r,e){dh.set(r._key(),e)}function GO(r){return yi(r._redirectPersistence)}function YO(r){return fh(BO,r.config.apiKey,r.name)}async function QO(r,e,n=!1){if(Zn(r.app))return Promise.reject(_i(r));const a=ms(r),o=kO(a,e),f=await new qO(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=600*1e3;class WO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Eb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(xr(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KO&&this.cachedEventUids.clear(),this.cachedEventUids.has(LE(e))}saveEventToCache(e){this.cachedEventUids.add(LE(e)),this.lastProcessedEventTime=Date.now()}}function LE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Eb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function XO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Eb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $O(r,e={}){return Ta(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JO=/^https?/;async function e2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await $O(r);for(const n of e)try{if(t2(n))return}catch{}mr(r,"unauthorized-domain")}function t2(r){const e=rg(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!JO.test(n))return!1;if(ZO.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=new Iu(3e4,6e4);function UE(){const r=kr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function r2(r){return new Promise((e,n)=>{function a(){UE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UE(),n(xr(r,"network-request-failed"))},timeout:n2.get()})}if(kr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(kr().gapi?.load)a();else{const o=KC("iframefcb");return kr()[o]=()=>{gapi.load?a():n(xr(r,"network-request-failed"))},ib(`${QC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw mh=null,e})}let mh=null;function i2(r){return mh=mh||r2(r),mh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=new Iu(5e3,15e3),s2="__/auth/iframe",o2="emulator/auth/iframe",l2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c2(r){const e=r.config;_e(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?zg(e,o2):`https://${r.config.authDomain}/${s2}`,a={apiKey:e.apiKey,appName:r.name,v:Lo},o=u2.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${Ru(a).slice(1)}`}async function h2(r){const e=await i2(r),n=kr().gapi;return _e(n,r,"internal-error"),e.open({where:document.body,url:c2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:l2,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=xr(r,"network-request-failed"),m=kr().setTimeout(()=>{u(f)},a2.get());function p(){kr().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},d2=500,m2=600,g2="_blank",p2="http://localhost";class jE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function y2(r,e,n,a=d2,o=m2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p={...f2,width:a.toString(),height:o.toString(),top:u,left:f},y=mn().toLowerCase();n&&(m=$0(y)?g2:n),W0(y)&&(e=e||p2,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[j,F])=>`${S}${j}=${F},`,"");if(UC(y)&&m!=="_self")return _2(e||"",m),new jE(null);const w=window.open(e||"",m,E);_e(w,r,"popup-blocked");try{w.focus()}catch{}return new jE(w)}function _2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="__/auth/handler",E2="emulator/auth/handler",T2=encodeURIComponent("fac");async function zE(r,e,n,a,o,u){_e(r.config.authDomain,r,"auth-domain-config-required"),_e(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:Lo,eventId:o};if(e instanceof ob){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",sD(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof Cu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${T2}=${encodeURIComponent(p)}`:"";return`${b2(r)}?${Ru(m).slice(1)}${y}`}function b2({config:r}){return r.emulator?zg(r,E2):`https://${r.authDomain}/${v2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="webStorageSupport";class w2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mb,this._completeRedirectFn=QO,this._overrideRedirectResult=FO}async _openPopup(e,n,a,o){Ti(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await zE(e,n,a,rg(),o);return y2(e,u,Gg())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await zE(e,n,a,rg(),o);return RO(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ti(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await h2(e),a=new WO(e);return n.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nm,{type:Nm},o=>{const u=o?.[0]?.[Nm];u!==void 0&&n(!!u),mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=e2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nb()||X0()||qg()}}const S2=w2;var BE="@firebase/auth",qE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I2(r){Io(new os("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;_e(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rb(r)},y=new FC(a,o,u,p);return eO(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Io(new os("auth-internal",e=>{const n=ms(e.getProvider("auth").getImmediate());return(a=>new A2(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ua(BE,qE,R2(r)),ua(BE,qE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=300,C2=M0("authIdTokenMaxAge")||D2;let HE=null;const O2=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>C2)return;const o=n?.token;HE!==o&&(HE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function N2(r=U0()){const e=Ug(r,"auth");if(e.isInitialized())return e.getImmediate();const n=JC(r,{popupRedirectResolver:S2,persistence:[xO,wO,mb]}),a=M0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=O2(u.toString());_O(n,f,()=>f(n.currentUser)),yO(n,m=>f(m))}}const o=O0("auth");return o&&tO(n,`http://${o}`),n}function M2(){return document.getElementsByTagName("head")?.[0]??document}GC({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=xr("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",M2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I2("Browser");var V2="firebase",P2="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ua(V2,P2,"app");var FE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ca,Tb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,A){function I(){}I.prototype=A.prototype,V.D=A.prototype,V.prototype=new I,V.prototype.constructor=V,V.C=function(N,M,P){for(var D=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)D[ht-2]=arguments[ht];return A.prototype[M].apply(N,D)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,A,I){I||(I=0);var N=Array(16);if(typeof A=="string")for(var M=0;16>M;++M)N[M]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(M=0;16>M;++M)N[M]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=V.g[0],I=V.g[1],M=V.g[2];var P=V.g[3],D=A+(P^I&(M^P))+N[0]+3614090360&4294967295;A=I+(D<<7&4294967295|D>>>25),D=P+(M^A&(I^M))+N[1]+3905402710&4294967295,P=A+(D<<12&4294967295|D>>>20),D=M+(I^P&(A^I))+N[2]+606105819&4294967295,M=P+(D<<17&4294967295|D>>>15),D=I+(A^M&(P^A))+N[3]+3250441966&4294967295,I=M+(D<<22&4294967295|D>>>10),D=A+(P^I&(M^P))+N[4]+4118548399&4294967295,A=I+(D<<7&4294967295|D>>>25),D=P+(M^A&(I^M))+N[5]+1200080426&4294967295,P=A+(D<<12&4294967295|D>>>20),D=M+(I^P&(A^I))+N[6]+2821735955&4294967295,M=P+(D<<17&4294967295|D>>>15),D=I+(A^M&(P^A))+N[7]+4249261313&4294967295,I=M+(D<<22&4294967295|D>>>10),D=A+(P^I&(M^P))+N[8]+1770035416&4294967295,A=I+(D<<7&4294967295|D>>>25),D=P+(M^A&(I^M))+N[9]+2336552879&4294967295,P=A+(D<<12&4294967295|D>>>20),D=M+(I^P&(A^I))+N[10]+4294925233&4294967295,M=P+(D<<17&4294967295|D>>>15),D=I+(A^M&(P^A))+N[11]+2304563134&4294967295,I=M+(D<<22&4294967295|D>>>10),D=A+(P^I&(M^P))+N[12]+1804603682&4294967295,A=I+(D<<7&4294967295|D>>>25),D=P+(M^A&(I^M))+N[13]+4254626195&4294967295,P=A+(D<<12&4294967295|D>>>20),D=M+(I^P&(A^I))+N[14]+2792965006&4294967295,M=P+(D<<17&4294967295|D>>>15),D=I+(A^M&(P^A))+N[15]+1236535329&4294967295,I=M+(D<<22&4294967295|D>>>10),D=A+(M^P&(I^M))+N[1]+4129170786&4294967295,A=I+(D<<5&4294967295|D>>>27),D=P+(I^M&(A^I))+N[6]+3225465664&4294967295,P=A+(D<<9&4294967295|D>>>23),D=M+(A^I&(P^A))+N[11]+643717713&4294967295,M=P+(D<<14&4294967295|D>>>18),D=I+(P^A&(M^P))+N[0]+3921069994&4294967295,I=M+(D<<20&4294967295|D>>>12),D=A+(M^P&(I^M))+N[5]+3593408605&4294967295,A=I+(D<<5&4294967295|D>>>27),D=P+(I^M&(A^I))+N[10]+38016083&4294967295,P=A+(D<<9&4294967295|D>>>23),D=M+(A^I&(P^A))+N[15]+3634488961&4294967295,M=P+(D<<14&4294967295|D>>>18),D=I+(P^A&(M^P))+N[4]+3889429448&4294967295,I=M+(D<<20&4294967295|D>>>12),D=A+(M^P&(I^M))+N[9]+568446438&4294967295,A=I+(D<<5&4294967295|D>>>27),D=P+(I^M&(A^I))+N[14]+3275163606&4294967295,P=A+(D<<9&4294967295|D>>>23),D=M+(A^I&(P^A))+N[3]+4107603335&4294967295,M=P+(D<<14&4294967295|D>>>18),D=I+(P^A&(M^P))+N[8]+1163531501&4294967295,I=M+(D<<20&4294967295|D>>>12),D=A+(M^P&(I^M))+N[13]+2850285829&4294967295,A=I+(D<<5&4294967295|D>>>27),D=P+(I^M&(A^I))+N[2]+4243563512&4294967295,P=A+(D<<9&4294967295|D>>>23),D=M+(A^I&(P^A))+N[7]+1735328473&4294967295,M=P+(D<<14&4294967295|D>>>18),D=I+(P^A&(M^P))+N[12]+2368359562&4294967295,I=M+(D<<20&4294967295|D>>>12),D=A+(I^M^P)+N[5]+4294588738&4294967295,A=I+(D<<4&4294967295|D>>>28),D=P+(A^I^M)+N[8]+2272392833&4294967295,P=A+(D<<11&4294967295|D>>>21),D=M+(P^A^I)+N[11]+1839030562&4294967295,M=P+(D<<16&4294967295|D>>>16),D=I+(M^P^A)+N[14]+4259657740&4294967295,I=M+(D<<23&4294967295|D>>>9),D=A+(I^M^P)+N[1]+2763975236&4294967295,A=I+(D<<4&4294967295|D>>>28),D=P+(A^I^M)+N[4]+1272893353&4294967295,P=A+(D<<11&4294967295|D>>>21),D=M+(P^A^I)+N[7]+4139469664&4294967295,M=P+(D<<16&4294967295|D>>>16),D=I+(M^P^A)+N[10]+3200236656&4294967295,I=M+(D<<23&4294967295|D>>>9),D=A+(I^M^P)+N[13]+681279174&4294967295,A=I+(D<<4&4294967295|D>>>28),D=P+(A^I^M)+N[0]+3936430074&4294967295,P=A+(D<<11&4294967295|D>>>21),D=M+(P^A^I)+N[3]+3572445317&4294967295,M=P+(D<<16&4294967295|D>>>16),D=I+(M^P^A)+N[6]+76029189&4294967295,I=M+(D<<23&4294967295|D>>>9),D=A+(I^M^P)+N[9]+3654602809&4294967295,A=I+(D<<4&4294967295|D>>>28),D=P+(A^I^M)+N[12]+3873151461&4294967295,P=A+(D<<11&4294967295|D>>>21),D=M+(P^A^I)+N[15]+530742520&4294967295,M=P+(D<<16&4294967295|D>>>16),D=I+(M^P^A)+N[2]+3299628645&4294967295,I=M+(D<<23&4294967295|D>>>9),D=A+(M^(I|~P))+N[0]+4096336452&4294967295,A=I+(D<<6&4294967295|D>>>26),D=P+(I^(A|~M))+N[7]+1126891415&4294967295,P=A+(D<<10&4294967295|D>>>22),D=M+(A^(P|~I))+N[14]+2878612391&4294967295,M=P+(D<<15&4294967295|D>>>17),D=I+(P^(M|~A))+N[5]+4237533241&4294967295,I=M+(D<<21&4294967295|D>>>11),D=A+(M^(I|~P))+N[12]+1700485571&4294967295,A=I+(D<<6&4294967295|D>>>26),D=P+(I^(A|~M))+N[3]+2399980690&4294967295,P=A+(D<<10&4294967295|D>>>22),D=M+(A^(P|~I))+N[10]+4293915773&4294967295,M=P+(D<<15&4294967295|D>>>17),D=I+(P^(M|~A))+N[1]+2240044497&4294967295,I=M+(D<<21&4294967295|D>>>11),D=A+(M^(I|~P))+N[8]+1873313359&4294967295,A=I+(D<<6&4294967295|D>>>26),D=P+(I^(A|~M))+N[15]+4264355552&4294967295,P=A+(D<<10&4294967295|D>>>22),D=M+(A^(P|~I))+N[6]+2734768916&4294967295,M=P+(D<<15&4294967295|D>>>17),D=I+(P^(M|~A))+N[13]+1309151649&4294967295,I=M+(D<<21&4294967295|D>>>11),D=A+(M^(I|~P))+N[4]+4149444226&4294967295,A=I+(D<<6&4294967295|D>>>26),D=P+(I^(A|~M))+N[11]+3174756917&4294967295,P=A+(D<<10&4294967295|D>>>22),D=M+(A^(P|~I))+N[2]+718787259&4294967295,M=P+(D<<15&4294967295|D>>>17),D=I+(P^(M|~A))+N[9]+3951481745&4294967295,V.g[0]=V.g[0]+A&4294967295,V.g[1]=V.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+P&4294967295}a.prototype.u=function(V,A){A===void 0&&(A=V.length);for(var I=A-this.blockSize,N=this.B,M=this.h,P=0;P<A;){if(M==0)for(;P<=I;)o(this,V,P),P+=this.blockSize;if(typeof V=="string"){for(;P<A;)if(N[M++]=V.charCodeAt(P++),M==this.blockSize){o(this,N),M=0;break}}else for(;P<A;)if(N[M++]=V[P++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=A},a.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var A=1;A<V.length-8;++A)V[A]=0;var I=8*this.o;for(A=V.length-8;A<V.length;++A)V[A]=I&255,I/=256;for(this.u(V),V=Array(16),A=I=0;4>A;++A)for(var N=0;32>N;N+=8)V[I++]=this.g[A]>>>N&255;return V};function u(V,A){var I=m;return Object.prototype.hasOwnProperty.call(I,V)?I[V]:I[V]=A(V)}function f(V,A){this.h=A;for(var I=[],N=!0,M=V.length-1;0<=M;M--){var P=V[M]|0;N&&P==A||(I[M]=P,N=!1)}this.g=I}var m={};function p(V){return-128<=V&&128>V?u(V,function(A){return new f([A|0],0>A?-1:0)}):new f([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return w;if(0>V)return Y(y(-V));for(var A=[],I=1,N=0;V>=I;N++)A[N]=V/I|0,I*=4294967296;return new f(A,0)}function E(V,A){if(V.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(V.charAt(0)=="-")return Y(E(V.substring(1),A));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=y(Math.pow(A,8)),N=w,M=0;M<V.length;M+=8){var P=Math.min(8,V.length-M),D=parseInt(V.substring(M,M+P),A);8>P?(P=y(Math.pow(A,P)),N=N.j(P).add(y(D))):(N=N.j(I),N=N.add(y(D)))}return N}var w=p(0),S=p(1),j=p(16777216);r=f.prototype,r.m=function(){if(J(this))return-Y(this).m();for(var V=0,A=1,I=0;I<this.g.length;I++){var N=this.i(I);V+=(0<=N?N:4294967296+N)*A,A*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(F(this))return"0";if(J(this))return"-"+Y(this).toString(V);for(var A=y(Math.pow(V,6)),I=this,N="";;){var M=Re(I,A).g;I=ie(I,M.j(A));var P=((0<I.g.length?I.g[0]:I.h)>>>0).toString(V);if(I=M,F(I))return P+N;for(;6>P.length;)P="0"+P;N=P+N}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function F(V){if(V.h!=0)return!1;for(var A=0;A<V.g.length;A++)if(V.g[A]!=0)return!1;return!0}function J(V){return V.h==-1}r.l=function(V){return V=ie(this,V),J(V)?-1:F(V)?0:1};function Y(V){for(var A=V.g.length,I=[],N=0;N<A;N++)I[N]=~V.g[N];return new f(I,~V.h).add(S)}r.abs=function(){return J(this)?Y(this):this},r.add=function(V){for(var A=Math.max(this.g.length,V.g.length),I=[],N=0,M=0;M<=A;M++){var P=N+(this.i(M)&65535)+(V.i(M)&65535),D=(P>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);N=D>>>16,P&=65535,D&=65535,I[M]=D<<16|P}return new f(I,I[I.length-1]&-2147483648?-1:0)};function ie(V,A){return V.add(Y(A))}r.j=function(V){if(F(this)||F(V))return w;if(J(this))return J(V)?Y(this).j(Y(V)):Y(Y(this).j(V));if(J(V))return Y(this.j(Y(V)));if(0>this.l(j)&&0>V.l(j))return y(this.m()*V.m());for(var A=this.g.length+V.g.length,I=[],N=0;N<2*A;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<V.g.length;M++){var P=this.i(N)>>>16,D=this.i(N)&65535,ht=V.i(M)>>>16,st=V.i(M)&65535;I[2*N+2*M]+=D*st,le(I,2*N+2*M),I[2*N+2*M+1]+=P*st,le(I,2*N+2*M+1),I[2*N+2*M+1]+=D*ht,le(I,2*N+2*M+1),I[2*N+2*M+2]+=P*ht,le(I,2*N+2*M+2)}for(N=0;N<A;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=A;N<2*A;N++)I[N]=0;return new f(I,0)};function le(V,A){for(;(V[A]&65535)!=V[A];)V[A+1]+=V[A]>>>16,V[A]&=65535,A++}function he(V,A){this.g=V,this.h=A}function Re(V,A){if(F(A))throw Error("division by zero");if(F(V))return new he(w,w);if(J(V))return A=Re(Y(V),A),new he(Y(A.g),Y(A.h));if(J(A))return A=Re(V,Y(A)),new he(Y(A.g),A.h);if(30<V.g.length){if(J(V)||J(A))throw Error("slowDivide_ only works with positive integers.");for(var I=S,N=A;0>=N.l(V);)I=ye(I),N=ye(N);var M=Ie(I,1),P=Ie(N,1);for(N=Ie(N,2),I=Ie(I,2);!F(N);){var D=P.add(N);0>=D.l(V)&&(M=M.add(I),P=D),N=Ie(N,1),I=Ie(I,1)}return A=ie(V,M.j(A)),new he(M,A)}for(M=w;0<=V.l(A);){for(I=Math.max(1,Math.floor(V.m()/A.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),P=y(I),D=P.j(A);J(D)||0<D.l(V);)I-=N,P=y(I),D=P.j(A);F(P)&&(P=S),M=M.add(P),V=ie(V,D)}return new he(M,V)}r.A=function(V){return Re(this,V).h},r.and=function(V){for(var A=Math.max(this.g.length,V.g.length),I=[],N=0;N<A;N++)I[N]=this.i(N)&V.i(N);return new f(I,this.h&V.h)},r.or=function(V){for(var A=Math.max(this.g.length,V.g.length),I=[],N=0;N<A;N++)I[N]=this.i(N)|V.i(N);return new f(I,this.h|V.h)},r.xor=function(V){for(var A=Math.max(this.g.length,V.g.length),I=[],N=0;N<A;N++)I[N]=this.i(N)^V.i(N);return new f(I,this.h^V.h)};function ye(V){for(var A=V.g.length+1,I=[],N=0;N<A;N++)I[N]=V.i(N)<<1|V.i(N-1)>>>31;return new f(I,V.h)}function Ie(V,A){var I=A>>5;A%=32;for(var N=V.g.length-I,M=[],P=0;P<N;P++)M[P]=0<A?V.i(P+I)>>>A|V.i(P+I+1)<<32-A:V.i(P+I);return new f(M,V.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Tb=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,ca=f}).apply(typeof FE<"u"?FE:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bb,$l,wb,gh,og,Sb,Ab,Rb;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function o(c,g){if(g)e:{var _=a;c=c.split(".");for(var b=0;b<c.length-1;b++){var k=c[b];if(!(k in _))break e;_=_[k]}c=c[c.length-1],b=_[c],g=g(b),g!=b&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,b=!1,k={next:function(){if(!b&&_<c.length){var q=_++;return{value:g(q,c[q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,b),c.apply(g,k)}}return function(){return c.apply(g,arguments)}}function S(c,g,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,S.apply(null,arguments)}function j(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function F(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,k,q){for(var te=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)te[Ue-2]=arguments[Ue];return g.prototype[k].apply(b,te)}}function J(c){const g=c.length;if(0<g){const _=Array(g);for(let b=0;b<g;b++)_[b]=c[b];return _}return[]}function Y(c,g){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const k=c.length||0,q=b.length||0;c.length=k+q;for(let te=0;te<q;te++)c[k+te]=b[te]}else c.push(b)}}class ie{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function le(c){return/^[\s\xa0]*$/.test(c)}function he(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Re(c){return Re[" "](c),c}Re[" "]=function(){};var ye=he().indexOf("Gecko")!=-1&&!(he().toLowerCase().indexOf("webkit")!=-1&&he().indexOf("Edge")==-1)&&!(he().indexOf("Trident")!=-1||he().indexOf("MSIE")!=-1)&&he().indexOf("Edge")==-1;function Ie(c,g,_){for(const b in c)g.call(_,c[b],b,c)}function V(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function A(c){const g={};for(const _ in c)g[_]=c[_];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,g){let _,b;for(let k=1;k<arguments.length;k++){b=arguments[k];for(_ in b)c[_]=b[_];for(let q=0;q<I.length;q++)_=I[q],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function M(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function P(c){m.setTimeout(()=>{throw c},0)}function D(){var c=Ce;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ht{constructor(){this.h=this.g=null}add(g,_){const b=st.get();b.set(g,_),this.h?this.h.next=b:this.g=b,this.h=b}}var st=new ie(()=>new H,c=>c.reset());class H{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let re,ue=!1,Ce=new ht,C=()=>{const c=m.Promise.resolve(void 0);re=()=>{c.then(W)}};var W=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){P(_)}var g=st;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ue=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var ce=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c})();function Se(c,g){if(ee.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ye){e:{try{Re(g.nodeName);var k=!0;break e}catch{}k=!1}k||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:me[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Se.aa.h.call(this)}}F(Se,ee);var me={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ft="closure_listenable_"+(1e6*Math.random()|0),qe=0;function Vt(c,g,_,b,k){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!b,this.ha=k,this.key=++qe,this.da=this.fa=!1}function xn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function An(c){this.src=c,this.g={},this.h=0}An.prototype.add=function(c,g,_,b,k){var q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);var te=tr(c,g,b,k);return-1<te?(g=c[te],_||(g.fa=!1)):(g=new Vt(g,this.src,q,!!b,k),g.fa=_,c.push(g)),g};function kn(c,g){var _=g.type;if(_ in c.g){var b=c.g[_],k=Array.prototype.indexOf.call(b,g,void 0),q;(q=0<=k)&&Array.prototype.splice.call(b,k,1),q&&(xn(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function tr(c,g,_,b){for(var k=0;k<c.length;++k){var q=c[k];if(!q.da&&q.listener==g&&q.capture==!!_&&q.ha==b)return k}return-1}var nt="closure_lm_"+(1e6*Math.random()|0),nr={};function Qt(c,g,_,b,k){if(Array.isArray(g)){for(var q=0;q<g.length;q++)Qt(c,g[q],_,b,k);return null}return _=Ts(_),c&&c[ft]?c.K(g,_,y(b)?!!b.capture:!1,k):Kt(c,g,_,!1,b,k)}function Kt(c,g,_,b,k,q){if(!g)throw Error("Invalid event type");var te=y(k)?!!k.capture:!!k,Ue=Fr(c);if(Ue||(c[nt]=Ue=new An(c)),_=Ue.add(g,_,b,te,q),_.proxy)return _;if(b=Es(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)ce||(k=te),k===void 0&&(k=!1),c.addEventListener(g.toString(),b,k);else if(c.attachEvent)c.attachEvent(Hr(g.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Es(){function c(_){return g.call(c.src,c.listener,_)}const g=Fo;return c}function Ri(c,g,_,b,k){if(Array.isArray(g))for(var q=0;q<g.length;q++)Ri(c,g[q],_,b,k);else b=y(b)?!!b.capture:!!b,_=Ts(_),c&&c[ft]?(c=c.i,g=String(g).toString(),g in c.g&&(q=c.g[g],_=tr(q,_,b,k),-1<_&&(xn(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete c.g[g],c.h--)))):c&&(c=Fr(c))&&(g=c.g[g.toString()],c=-1,g&&(c=tr(g,_,b,k)),(_=-1<c?g[c]:null)&&Ii(_))}function Ii(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ft])kn(g.i,c);else{var _=c.type,b=c.proxy;g.removeEventListener?g.removeEventListener(_,b,c.capture):g.detachEvent?g.detachEvent(Hr(_),b):g.addListener&&g.removeListener&&g.removeListener(b),(_=Fr(g))?(kn(_,c),_.h==0&&(_.src=null,g[nt]=null)):xn(c)}}}function Hr(c){return c in nr?nr[c]:nr[c]="on"+c}function Fo(c,g){if(c.da)c=!0;else{g=new Se(g,this);var _=c.listener,b=c.ha||c.src;c.fa&&Ii(c),c=_.call(b,g)}return c}function Fr(c){return c=c[nt],c instanceof An?c:null}var ba="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ts(c){return typeof c=="function"?c:(c[ba]||(c[ba]=function(g){return c.handleEvent(g)}),c[ba])}function dt(){ne.call(this),this.i=new An(this),this.M=this,this.F=null}F(dt,ne),dt.prototype[ft]=!0,dt.prototype.removeEventListener=function(c,g,_,b){Ri(this,c,g,_,b)};function Ge(c,g){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=g.type||g,typeof g=="string")g=new ee(g,c);else if(g instanceof ee)g.target=g.target||c;else{var k=g;g=new ee(b,c),N(g,k)}if(k=!0,_)for(var q=_.length-1;0<=q;q--){var te=g.g=_[q];k=pn(te,b,!0,g)&&k}if(te=g.g=c,k=pn(te,b,!0,g)&&k,k=pn(te,b,!1,g)&&k,_)for(q=0;q<_.length;q++)te=g.g=_[q],k=pn(te,b,!1,g)&&k}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],b=0;b<_.length;b++)xn(_[b]);delete c.g[g],c.h--}}this.F=null},dt.prototype.K=function(c,g,_,b){return this.i.add(String(c),g,!1,_,b)},dt.prototype.L=function(c,g,_,b){return this.i.add(String(c),g,!0,_,b)};function pn(c,g,_,b){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var k=!0,q=0;q<g.length;++q){var te=g[q];if(te&&!te.da&&te.capture==_){var Ue=te.listener,Pt=te.ha||te.src;te.fa&&kn(c.i,te),k=Ue.call(Pt,b)!==!1&&k}}return k&&!b.defaultPrevented}function At(c,g,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function wa(c){c.g=At(()=>{c.g=null,c.i&&(c.i=!1,wa(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class bs extends ne{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:wa(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gr(c){ne.call(this),this.h=c,this.g={}}F(Gr,ne);var Ln=[];function pr(c){Ie(c.g,function(g,_){this.g.hasOwnProperty(_)&&Ii(g)},c),c.g={}}Gr.prototype.N=function(){Gr.aa.N.call(this),pr(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=m.JSON.stringify,Yr=m.JSON.parse,yr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Qr(){}Qr.prototype.h=null;function Sa(c){return c.h||(c.h=c.i())}function Di(){}var rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Un(){ee.call(this,"d")}F(Un,ee);function Rt(){ee.call(this,"c")}F(Rt,ee);var ut={},_r=null;function He(){return _r=_r||new dt}ut.La="serverreachability";function Wt(c){ee.call(this,ut.La,c)}F(Wt,ee);function vr(c){const g=He();Ge(g,new Wt(g))}ut.STAT_EVENT="statevent";function Ci(c,g){ee.call(this,ut.STAT_EVENT,c),this.stat=g}F(Ci,ee);function rt(c){const g=He();Ge(g,new Ci(g,c))}ut.Ma="timingevent";function vt(c,g){ee.call(this,ut.Ma,c),this.size=g}F(vt,ee);function mt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function Xt(){this.g=!0}Xt.prototype.xa=function(){this.g=!1};function Kr(c,g,_,b,k,q){c.info(function(){if(c.g)if(q)for(var te="",Ue=q.split("&"),Pt=0;Pt<Ue.length;Pt++){var je=Ue[Pt].split("=");if(1<je.length){var qt=je[0];je=je[1];var xt=qt.split("_");te=2<=xt.length&&xt[1]=="type"?te+(qt+"="+je+"&"):te+(qt+"=redacted&")}}else te=null;else te=q;return"XMLHTTP REQ ("+b+") [attempt "+k+"]: "+g+`
`+_+`
`+te})}function Aa(c,g,_,b,k,q,te){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+k+"]: "+g+`
`+_+`
`+q+" "+te})}function jn(c,g,_,b){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ir(c,_)+(b?" "+b:"")})}function ws(c,g){c.info(function(){return"TIMEOUT: "+g})}Xt.prototype.info=function(){};function ir(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var k=b[1];if(Array.isArray(k)&&!(1>k.length)){var q=k[0];if(q!="noop"&&q!="stop"&&q!="close")for(var te=1;te<k.length;te++)k[te]=""}}}}return Rn(_)}catch{return g}}var ar={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function Te(){}F(Te,Qr),Te.prototype.g=function(){return new XMLHttpRequest},Te.prototype.i=function(){return{}},zn=new Te;function Ne(c,g,_,b){this.j=c,this.i=g,this.l=_,this.R=b||1,this.U=new Gr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ae}function Ae(){this.i=null,this.g="",this.h=!1}var $t={},zt={};function yn(c,g,_){c.L=1,c.v=Oa(In(g)),c.m=_,c.P=!0,or(c,null)}function or(c,g){c.F=Date.now(),Ra(c),c.A=In(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Xo(_.i,"t",b),c.C=0,_=c.j.J,c.h=new Ae,c.g=Xu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new bs(S(c.Y,c,c.g),c.O)),g=c.U,_=c.g,b=c.ca;var k="readystatechange";Array.isArray(k)||(k&&(Ln[0]=k.toString()),k=Ln);for(var q=0;q<k.length;q++){var te=Qt(_,k[q],b||g.handleEvent,!1,g.h||g);if(!te)break;g.g[te.key]=te}g=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),vr(),Kr(c.i,c.u,c.A,c.l,c.R,c.m)}Ne.prototype.ca=function(c){c=c.target;const g=this.M;g&&Fn(c)==3?g.j():this.Y(c)},Ne.prototype.Y=function(c){try{if(c==this.g)e:{const xt=Fn(this.g);var g=this.g.Ba();const ni=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||qu(this.g)))){this.J||xt!=4||g==7||(g==8||0>=ni?vr(3):vr(2)),Oi(this);var _=this.g.Z();this.X=_;t:if(Ss(this)){var b=qu(this.g);c="";var k=b.length,q=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zt(this),Er(this);var te="";break t}this.h.i=new m.TextDecoder}for(g=0;g<k;g++)this.h.h=!0,c+=this.h.i.decode(b[g],{stream:!(q&&g==k-1)});b.length=0,this.h.g+=c,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=_==200,Aa(this.i,this.u,this.A,this.l,this.R,xt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Pt=this.g;if((Ue=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!le(Ue)){var je=Ue;break t}}je=null}if(_=je)jn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ia(this,_);else{this.o=!1,this.s=3,rt(12),Zt(this),Er(this);break e}}if(this.P){_=!0;let Jt;for(;!this.J&&this.C<te.length;)if(Jt=ku(this,te),Jt==zt){xt==4&&(this.s=4,rt(14),_=!1),jn(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==$t){this.s=4,rt(15),jn(this.i,this.l,te,"[Invalid Chunk]"),_=!1;break}else jn(this.i,this.l,Jt,null),Ia(this,Jt);if(Ss(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||te.length!=0||this.h.h||(this.s=1,rt(16),_=!1),this.o=this.o&&_,!_)jn(this.i,this.l,te,"[Invalid Chunked Response]"),Zt(this),Er(this);else if(0<te.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Ua(qt),qt.M=!0,rt(11))}}else jn(this.i,this.l,te,null),Ia(this,te);xt==4&&Zt(this),this.o&&!this.J&&(xt==4?Qu(this.j,this):(this.o=!1,Ra(this)))}else Tf(this.g),_==400&&0<te.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),Zt(this),Er(this)}}}catch{}finally{}};function Ss(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ku(c,g){var _=c.C,b=g.indexOf(`
`,_);return b==-1?zt:(_=Number(g.substring(_,b)),isNaN(_)?$t:(b+=1,b+_>g.length?zt:(g=g.slice(b,b+_),c.C=b+_,g)))}Ne.prototype.cancel=function(){this.J=!0,Zt(this)};function Ra(c){c.S=Date.now()+c.I,Lu(c,c.I)}function Lu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mt(S(c.ba,c),g)}function Oi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Ne.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ws(this.i,this.A),this.L!=2&&(vr(),rt(17)),Zt(this),this.s=2,Er(this)):Lu(this,this.S-c)};function Er(c){c.j.G==0||c.J||Qu(c.j,c)}function Zt(c){Oi(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,pr(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Ia(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Go(_.h,c))){if(!c.K&&Go(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var k=b;if(k[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ks(_),Ps(_);else break e;tl(_),rt(18)}}else _.za=k[1],0<_.za-_.T&&37500>k[2]&&_.F&&_.v==0&&!_.C&&(_.C=mt(S(_.Za,_),6e3));if(1>=Rs(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ti(_,11)}else if((c.K||_.g==c)&&ks(_),!le(g))for(k=_.Da.g.parse(g),g=0;g<k.length;g++){let je=k[g];if(_.T=je[0],je=je[1],_.G==2)if(je[0]=="c"){_.K=je[1],_.ia=je[2];const qt=je[3];qt!=null&&(_.la=qt,_.j.info("VER="+_.la));const xt=je[4];xt!=null&&(_.Aa=xt,_.j.info("SVER="+_.Aa));const ni=je[5];ni!=null&&typeof ni=="number"&&0<ni&&(b=1.5*ni,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Jt=c.g;if(Jt){const Ir=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ir){var q=b.h;q.g||Ir.indexOf("spdy")==-1&&Ir.indexOf("quic")==-1&&Ir.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Is(q,q.h),q.h=null))}if(b.D){const rl=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;rl&&(b.ya=rl,Ze(b.I,b.D,rl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var te=c;if(b.qa=Wu(b,b.J?b.ia:null,b.W),te.K){_n(b.h,te);var Ue=te,Pt=b.L;Pt&&(Ue.I=Pt),Ue.B&&(Oi(Ue),Ra(Ue)),b.g=te}else Gu(b);0<_.i.length&&xs(_)}else je[0]!="stop"&&je[0]!="close"||ti(_,7);else _.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?ti(_,7):Jo(_):je[0]!="noop"&&_.l&&_.l.ta(je),_.v=0)}}vr(4)}catch{}}var Uu=class{constructor(c,g){this.g=c,this.map=g}};function Wr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function As(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Rs(c){return c.h?1:c.g?c.g.size:0}function Go(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Is(c,g){c.g?c.g.add(g):c.h=g}function _n(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Wr.prototype.cancel=function(){if(this.i=Yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Yo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return J(c.i)}function yf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,b=0;b<_;b++)g.push(c[b]);return g}g=[],_=0;for(b in c)g[_++]=c[b];return g}function Ds(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const b in c)g[_++]=b;return g}}}function Qo(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Ds(c),b=yf(c),k=b.length,q=0;q<k;q++)g.call(void 0,b[q],_&&_[q],c)}var Da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _f(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),k=null;if(0<=b){var q=c[_].substring(0,b);k=c[_].substring(b+1)}else q=c[_];g(q,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function It(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof It){this.h=c.h,Ca(this,c.j),this.o=c.o,this.g=c.g,Ni(this,c.s),this.l=c.l;var g=c.i,_=new $r;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Xr(this,_),this.m=c.m}else c&&(g=String(c).match(Da))?(this.h=!1,Ca(this,g[1]||"",!0),this.o=Bn(g[2]||""),this.g=Bn(g[3]||"",!0),Ni(this,g[4]),this.l=Bn(g[5]||"",!0),Xr(this,g[6]||"",!0),this.m=Bn(g[7]||"")):(this.h=!1,this.i=new $r(null,this.h))}It.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Na(g,Ko,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Na(g,Ko,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Na(_,_.charAt(0)=="/"?vf:Wo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Na(_,Cs)),c.join("")};function In(c){return new It(c)}function Ca(c,g,_){c.j=_?Bn(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Ni(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Xr(c,g,_){g instanceof $r?(c.i=g,zu(c.i,c.h)):(_||(g=Na(g,Ef)),c.i=new $r(g,c.h))}function Ze(c,g,_){c.i.set(g,_)}function Oa(c){return Ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Bn(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Na(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,ju),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ju(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ko=/[#\/\?@]/g,Wo=/[#\?:]/g,vf=/[#\?]/g,Ef=/[#\?@]/g,Cs=/#/g;function $r(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function qn(c){c.g||(c.g=new Map,c.h=0,c.i&&_f(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=$r.prototype,r.add=function(c,g){qn(this),this.i=null,c=Tr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Zr(c,g){qn(c),g=Tr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Jr(c,g){return qn(c),g=Tr(c,g),c.g.has(g)}r.forEach=function(c,g){qn(this),this.g.forEach(function(_,b){_.forEach(function(k){c.call(g,k,b,this)},this)},this)},r.na=function(){qn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let b=0;b<g.length;b++){const k=c[b];for(let q=0;q<k.length;q++)_.push(g[b])}return _},r.V=function(c){qn(this);let g=[];if(typeof c=="string")Jr(this,c)&&(g=g.concat(this.g.get(Tr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return qn(this),this.i=null,c=Tr(this,c),Jr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Xo(c,g,_){Zr(c,g),0<_.length&&(c.i=null,c.g.set(Tr(c,g),J(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var b=g[_];const q=encodeURIComponent(String(b)),te=this.V(b);for(b=0;b<te.length;b++){var k=q;te[b]!==""&&(k+="="+encodeURIComponent(String(te[b]))),c.push(k)}}return this.i=c.join("&")};function Tr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function zu(c,g){g&&!c.j&&(qn(c),c.i=null,c.g.forEach(function(_,b){var k=b.toLowerCase();b!=k&&(Zr(this,b),Xo(this,k,_))},c)),c.j=g}function Ma(c,g){const _=new Xt;if(m.Image){const b=new Image;b.onload=j(Hn,_,"TestLoadImage: loaded",!0,g,b),b.onerror=j(Hn,_,"TestLoadImage: error",!1,g,b),b.onabort=j(Hn,_,"TestLoadImage: abort",!1,g,b),b.ontimeout=j(Hn,_,"TestLoadImage: timeout",!1,g,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else g(!1)}function lr(c,g){const _=new Xt,b=new AbortController,k=setTimeout(()=>{b.abort(),Hn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:b.signal}).then(q=>{clearTimeout(k),q.ok?Hn(_,"TestPingServer: ok",!0,g):Hn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(k),Hn(_,"TestPingServer: error",!1,g)})}function Hn(c,g,_,b,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),b(_)}catch{}}function Va(){this.g=new yr}function br(c,g,_){const b=_||"";try{Qo(c,function(k,q){let te=k;y(k)&&(te=Rn(k)),g.push(b+q+"="+encodeURIComponent(te))})}catch(k){throw g.push(b+"type="+encodeURIComponent("_badmap")),k}}function Mi(c){this.l=c.Ub||null,this.j=c.eb||!1}F(Mi,Qr),Mi.prototype.g=function(){return new ei(this.l,this.j)},Mi.prototype.i=(function(c){return function(){return c}})({});function ei(c,g){dt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(ei,dt),r=ei.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Sr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Sr(this)),this.g&&(this.readyState=3,Sr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$o(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function $o(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?wr(this):Sr(this),this.readyState==3&&$o(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,wr(this))},r.Qa=function(c){this.g&&(this.response=c,wr(this))},r.ga=function(){this.g&&wr(this)};function wr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Sr(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Sr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Zo(c){let g="";return Ie(c,function(_,b){g+=b,g+=":",g+=_,g+=`\r
`}),g}function Bt(c,g,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=Zo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ze(c,g,_))}function Qe(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(Qe,dt);var Os=/^https?$/i,Pa=["POST","PUT"];r=Qe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?Sa(this.o):Sa(zn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(q){Bu(this,q);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var k in b)_.set(k,b[k]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())_.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),k=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Pa,g,void 0))||b||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,te]of _)this.g.setRequestHeader(q,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xa(this),this.u=!0,this.g.send(c),this.u=!1}catch(q){Bu(this,q)}};function Bu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Ns(c),Ar(c)}function Ns(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),Ar(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ar(this,!0)),Qe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ms(this):this.bb())},r.bb=function(){Ms(this)};function Ms(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Fn(c)!=4||c.Z()!=2)){if(c.u&&Fn(c)==4)At(c.Ea,0,c);else if(Ge(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const te=c.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var b;if(b=te===0){var k=String(c.D).match(Da)[1]||null;!k&&m.self&&m.self.location&&(k=m.self.location.protocol.slice(0,-1)),b=!Os.test(k?k.toLowerCase():"")}_=b}if(_)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var q=2<Fn(c)?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.Z()+"]",Ns(c)}}finally{Ar(c)}}}}function Ar(c,g){if(c.g){xa(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ge(c,"ready");try{_.onreadystatechange=b}catch{}}}function xa(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Yr(g)}};function qu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Tf(c){const g={};c=(c.g&&2<=Fn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(le(c[b]))continue;var _=M(c[b]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=g[k]||[];g[k]=q,q.push(_)}V(g,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ka(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Vs(c){this.Aa=0,this.i=[],this.j=new Xt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ka("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ka("baseRetryDelayMs",5e3,c),this.cb=ka("retryDelaySeedMs",1e4,c),this.Wa=ka("forwardChannelMaxRetries",2,c),this.wa=ka("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Wr(c&&c.concurrentRequestLimit),this.Da=new Va,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Vs.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,b){rt(0),this.W=c,this.H=g||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Wu(this,null,this.W),xs(this)};function Jo(c){if(Hu(c),c.G==3){var g=c.U++,_=In(c.I);if(Ze(_,"SID",c.K),Ze(_,"RID",g),Ze(_,"TYPE","terminate"),La(c,_),g=new Ne(c,c.j,g),g.L=2,g.v=Oa(In(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=Xu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Ra(g)}Ku(c)}function Ps(c){c.g&&(Ua(c),c.g.cancel(),c.g=null)}function Hu(c){Ps(c),c.u&&(m.clearTimeout(c.u),c.u=null),ks(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function xs(c){if(!As(c.h)&&!c.s){c.s=!0;var g=c.Ga;re||C(),ue||(re(),ue=!0),Ce.add(g,c),c.B=0}}function bf(c,g){return Rs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mt(S(c.Ga,c,g),nl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const k=new Ne(this,this.j,c);let q=this.o;if(this.S&&(q?(q=A(q),N(q,this.S)):q=this.S),this.m!==null||this.O||(k.H=q,q=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Fu(this,k,g),_=In(this.I),Ze(_,"RID",c),Ze(_,"CVER",22),this.D&&Ze(_,"X-HTTP-Session-Id",this.D),La(this,_),q&&(this.O?g="headers="+encodeURIComponent(String(Zo(q)))+"&"+g:this.m&&Bt(_,this.m,q)),Is(this.h,k),this.Ua&&Ze(_,"TYPE","init"),this.P?(Ze(_,"$req",g),Ze(_,"SID","null"),k.T=!0,yn(k,_,null)):yn(k,_,g),this.G=2}}else this.G==3&&(c?el(this,c):this.i.length==0||As(this.h)||el(this))};function el(c,g){var _;g?_=g.l:_=c.U++;const b=In(c.I);Ze(b,"SID",c.K),Ze(b,"RID",_),Ze(b,"AID",c.T),La(c,b),c.m&&c.o&&Bt(b,c.m,c.o),_=new Ne(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Fu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Is(c.h,_),yn(_,b,g)}function La(c,g){c.H&&Ie(c.H,function(_,b){Ze(g,b,_)}),c.l&&Qo({},function(_,b){Ze(g,b,_)})}function Fu(c,g,_){_=Math.min(c.i.length,_);var b=c.l?S(c.l.Na,c.l,c):null;e:{var k=c.i;let q=-1;for(;;){const te=["count="+_];q==-1?0<_?(q=k[0].g,te.push("ofs="+q)):q=0:te.push("ofs="+q);let Ue=!0;for(let Pt=0;Pt<_;Pt++){let je=k[Pt].g;const qt=k[Pt].map;if(je-=q,0>je)q=Math.max(0,k[Pt].g-100),Ue=!1;else try{br(qt,te,"req"+je+"_")}catch{b&&b(qt)}}if(Ue){b=te.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,b}function Gu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;re||C(),ue||(re(),ue=!0),Ce.add(g,c),c.v=0}}function tl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mt(S(c.Fa,c),nl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mt(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),Ps(this),Yu(this))};function Ua(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Yu(c){c.g=new Ne(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=In(c.qa);Ze(g,"RID","rpc"),Ze(g,"SID",c.K),Ze(g,"AID",c.T),Ze(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ze(g,"TO",c.ja),Ze(g,"TYPE","xmlhttp"),La(c,g),c.m&&c.o&&Bt(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Oa(In(g)),_.m=null,_.P=!0,or(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Ps(this),tl(this),rt(19))};function ks(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Qu(c,g){var _=null;if(c.g==g){ks(c),Ua(c),c.g=null;var b=2}else if(Go(c.h,g))_=g.D,_n(c.h,g),b=1;else return;if(c.G!=0){if(g.o)if(b==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var k=c.B;b=He(),Ge(b,new vt(b,_)),xs(c)}else Gu(c);else if(k=g.s,k==3||k==0&&0<g.X||!(b==1&&bf(c,g)||b==2&&tl(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),k){case 1:ti(c,5);break;case 4:ti(c,10);break;case 3:ti(c,6);break;default:ti(c,2)}}}function nl(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function ti(c,g){if(c.j.info("Error code "+g),g==2){var _=S(c.fb,c),b=c.Xa;const k=!b;b=new It(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ca(b,"https"),Oa(b),k?Ma(b.toString(),_):lr(b.toString(),_)}else rt(2);c.G=0,c.l&&c.l.sa(g),Ku(c),Hu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Ku(c){if(c.G=0,c.ka=[],c.l){const g=Yo(c.h);(g.length!=0||c.i.length!=0)&&(Y(c.ka,g),Y(c.ka,c.i),c.h.i.length=0,J(c.i),c.i.length=0),c.l.ra()}}function Wu(c,g,_){var b=_ instanceof It?In(_):new It(_);if(b.g!="")g&&(b.g=g+"."+b.g),Ni(b,b.s);else{var k=m.location;b=k.protocol,g=g?g+"."+k.hostname:k.hostname,k=+k.port;var q=new It(null);b&&Ca(q,b),g&&(q.g=g),k&&Ni(q,k),_&&(q.l=_),b=q}return _=c.D,g=c.ya,_&&g&&Ze(b,_,g),Ze(b,"VER",c.la),La(c,b),b}function Xu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Qe(new Mi({eb:_})):new Qe(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function $u(){}r=$u.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ls(){}Ls.prototype.g=function(c,g){return new vn(c,g)};function vn(c,g){dt.call(this),this.g=new Vs(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!le(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!le(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Rr(this)}F(vn,dt),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Jo(this.g)},vn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Rn(c),c=_);g.i.push(new Uu(g.Ya++,c)),g.G==3&&xs(g)},vn.prototype.N=function(){this.g.l=null,delete this.j,Jo(this.g),delete this.g,vn.aa.N.call(this)};function Zu(c){Un.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}F(Zu,Un);function Ju(){Rt.call(this),this.status=1}F(Ju,Rt);function Rr(c){this.g=c}F(Rr,$u),Rr.prototype.ua=function(){Ge(this.g,"a")},Rr.prototype.ta=function(c){Ge(this.g,new Zu(c))},Rr.prototype.sa=function(c){Ge(this.g,new Ju)},Rr.prototype.ra=function(){Ge(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,Rb=function(){return new Ls},Ab=function(){return He()},Sb=ut,og={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,gh=ar,sr.COMPLETE="complete",wb=sr,Di.EventType=rr,rr.OPEN="a",rr.CLOSE="b",rr.ERROR="c",rr.MESSAGE="d",dt.prototype.listen=dt.prototype.K,$l=Di,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,bb=Qe}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});const GE="@firebase/firestore",YE="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new kg("@firebase/firestore");function mo(){return cs.logLevel}function se(r,...e){if(cs.logLevel<=xe.DEBUG){const n=e.map(Qg);cs.debug(`Firestore (${jo}): ${r}`,...n)}}function bi(r,...e){if(cs.logLevel<=xe.ERROR){const n=e.map(Qg);cs.error(`Firestore (${jo}): ${r}`,...n)}}function Do(r,...e){if(cs.logLevel<=xe.WARN){const n=e.map(Qg);cs.warn(`Firestore (${jo}): ${r}`,...n)}}function Qg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,Ib(r,a,n)}function Ib(r,e,n){let a=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw bi(a),new Error(a)}function Ke(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||Ib(e,o,a)}function we(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class x2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(hn.UNAUTHENTICATED)))}shutdown(){}}class k2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class L2{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new is;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new is,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new is)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ke(typeof a.accessToken=="string",31837,{l:a}),new Db(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class U2{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class j2{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new U2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class QE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const a=u=>{u.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,se("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new QE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new QE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=B2(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function ke(r,e){return r<e?-1:r>e?1:0}function lg(r,e){const n=Math.min(r.length,e.length);for(let a=0;a<n;a++){const o=r.charAt(a),u=e.charAt(a);if(o!==u)return Mm(o)===Mm(u)?ke(o,u):Mm(o)?1:-1}return ke(r.length,e.length)}const q2=55296,H2=57343;function Mm(r){const e=r.charCodeAt(0);return e>=q2&&e<=H2}function Co(r,e,n){return r.length===e.length&&r.every(((a,o)=>n(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="__name__";class Pr{constructor(e,n,a){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&ve(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Pr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pr?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=Pr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const a=Pr.isNumericId(e),o=Pr.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?Pr.extractNumericId(e).compare(Pr.extractNumericId(n)):lg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ca.fromString(e.substring(4,e.length-2))}}class lt extends Pr{construct(e,n,a){return new lt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new ae(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new lt(n)}static emptyPath(){return new lt([])}}const F2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Pr{construct(e,n,a){return new sn(e,n,a)}static isValidIdentifier(e){return F2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===KE}static keyField(){return new sn([KE])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new ae(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ae(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ae(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new ae(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(n)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(lt.fromString(e))}static fromName(e){return new de(lt.fromString(e).popFirst(5))}static empty(){return new de(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new lt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(r,e,n){if(!n)throw new ae(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function G2(r,e,n,a){if(e===!0&&a===!0)throw new ae(X.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function WE(r){if(!de.isDocumentKey(r))throw new ae(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function XE(r){if(de.isDocumentKey(r))throw new ae(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ob(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function tf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function So(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ae(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tf(r);throw new ae(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Nu(r,e){if(!Ob(r))throw new ae(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const f=r[a];if(o&&typeof f!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new ae(X.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=-62135596800,ZE=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*ZE);return new ct(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$E)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ZE}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nu(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$E;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:Mt("string",ct._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new ct(0,0))}static max(){return new be(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=-1;function Y2(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(a===1e9?new ct(n+1,0):new ct(n,a));return new fa(o,de.empty(),e)}function Q2(r){return new fa(r.readTime,r.key,du)}class fa{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new fa(be.min(),de.empty(),du)}static max(){return new fa(be.max(),de.empty(),du)}}function K2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(r.documentKey,e.documentKey),n!==0?n:ke(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==W2)throw r;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.reject(n)}static resolve(e){return new Z(((n,a)=>{n(e)}))}static reject(e){return new Z(((n,a)=>{a(e)}))}static waitFor(e){return new Z(((n,a)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>a(p)))})),f=!0,u===o&&n()}))}static or(e){let n=Z.resolve(!1);for(const a of e)n=n.next((o=>o?Z.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,u)=>{a.push(n.call(this,o,u))})),this.waitFor(a)}static mapArray(e,n){return new Z(((a,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((E=>{f[y]=E,++m,m===u&&a(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new Z(((a,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):a()};u()}))}}function $2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=-1;function rf(r){return r==null}function Nh(r){return r===0&&1/r==-1/0}function Z2(r){return typeof r=="number"&&Number.isInteger(r)&&!Nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="";function J2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=JE(e)),e=eN(r.get(n),e);return JE(e)}function eN(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Nb:n+="";break;default:n+=u}}return n}function JE(r){return r+Nb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function gs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Mb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sh(this.root,e,this.comparator,!0)}}class sh{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??rn.RED,this.left=o??rn.EMPTY,this.right=u??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new rn(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return rn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tT(this.data.getIterator())}getIteratorFrom(e){return new tT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class tT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new dr([])}unionWith(e){let n=new jt(sn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new dr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Vb("Invalid base64 string: "+u):u}})(e);return new on(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const tN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(r){if(Ke(!!r,39018),typeof r=="string"){let e=0;const n=tN.exec(r);if(Ke(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:St(r.seconds),nanos:St(r.nanos)}}function St(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ma(r){return typeof r=="string"?on.fromBase64String(r):on.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="server_timestamp",xb="__type__",kb="__previous_value__",Lb="__local_write_time__";function Xg(r){return(r?.mapValue?.fields||{})[xb]?.stringValue===Pb}function af(r){const e=r.mapValue.fields[kb];return Xg(e)?af(e):e}function mu(r){const e=da(r.mapValue.fields[Lb].timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n,a,o,u,f,m,p,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const Mh="(default)";class gu{constructor(e,n){this.projectId=e,this.database=n||Mh}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===Mh}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="__type__",rN="__max__",oh={mapValue:{}},jb="__vector__",Vh="value";function ga(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Xg(r)?4:aN(r)?9007199254740991:iN(r)?10:11:ve(28295,{value:r})}function qr(r,e){if(r===e)return!0;const n=ga(r);if(n!==ga(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return mu(r).isEqual(mu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=da(o.timestampValue),m=da(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ma(o.bytesValue).isEqual(ma(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return St(o.geoPointValue.latitude)===St(u.geoPointValue.latitude)&&St(o.geoPointValue.longitude)===St(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return St(o.integerValue)===St(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=St(o.doubleValue),m=St(u.doubleValue);return f===m?Nh(f)===Nh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return Co(r.arrayValue.values||[],e.arrayValue.values||[],qr);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(eT(f)!==eT(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!qr(f[p],m[p])))return!1;return!0})(r,e);default:return ve(52216,{left:r})}}function pu(r,e){return(r.values||[]).find((n=>qr(n,e)))!==void 0}function Oo(r,e){if(r===e)return 0;const n=ga(r),a=ga(e);if(n!==a)return ke(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=St(u.integerValue||u.doubleValue),p=St(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return nT(r.timestampValue,e.timestampValue);case 4:return nT(mu(r),mu(e));case 5:return lg(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=ma(u),p=ma(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=ke(m[y],p[y]);if(E!==0)return E}return ke(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=ke(St(u.latitude),St(f.latitude));return m!==0?m:ke(St(u.longitude),St(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return rT(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[Vh]?.arrayValue,E=p[Vh]?.arrayValue,w=ke(y?.values?.length||0,E?.values?.length||0);return w!==0?w:rT(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===oh.mapValue&&f===oh.mapValue)return 0;if(u===oh.mapValue)return 1;if(f===oh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const S=lg(p[w],E[w]);if(S!==0)return S;const j=Oo(m[p[w]],y[E[w]]);if(j!==0)return j}return ke(p.length,E.length)})(r.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function nT(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ke(r,e);const n=da(r),a=da(e),o=ke(n.seconds,a.seconds);return o!==0?o:ke(n.nanos,a.nanos)}function rT(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=Oo(n[o],a[o]);if(u)return u}return ke(n.length,a.length)}function No(r){return ug(r)}function ug(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=da(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ma(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return de.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=ug(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${ug(n.fields[f])}`;return o+"}"})(r.mapValue):ve(61005,{value:r})}function ph(r){switch(ga(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=af(r);return e?16+ph(e):16;case 5:return 2*r.stringValue.length;case 6:return ma(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+ph(u)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return gs(a.fields,((u,f)=>{o+=u.length+ph(f)})),o})(r.mapValue);default:throw ve(13486,{value:r})}}function iT(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function cg(r){return!!r&&"integerValue"in r}function $g(r){return!!r&&"arrayValue"in r}function aT(r){return!!r&&"nullValue"in r}function sT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function yh(r){return!!r&&"mapValue"in r}function iN(r){return(r?.mapValue?.fields||{})[Ub]?.stringValue===jb}function ru(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return gs(r.mapValue.fields,((n,a)=>e.mapValue.fields[n]=ru(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ru(r.arrayValue.values[n]);return e}return{...r}}function aN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===rN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!yh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(n)}setAll(e){let n=sn.emptyPath(),a={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=ru(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());yh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];yh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){gs(n,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new Jn(ru(this.value))}}function zb(r){const e=[];return gs(r.fields,((n,a)=>{const o=new sn([n]);if(yh(a)){const u=zb(a.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new dr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,a,o,u,f,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new fn(e,0,be.min(),be.min(),be.min(),Jn.empty(),0)}static newFoundDocument(e,n,a,o){return new fn(e,1,n,be.min(),a,o,0)}static newNoDocument(e,n){return new fn(e,2,n,be.min(),be.min(),Jn.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,be.min(),be.min(),Jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n){this.position=e,this.inclusive=n}}function oT(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?a=de.comparator(de.fromName(f.referenceValue),n.key):a=Oo(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function lT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!qr(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n="asc"){this.field=e,this.dir=n}}function sN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{}class Nt extends Bb{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new lN(e,n,a):n==="array-contains"?new hN(e,a):n==="in"?new fN(e,a):n==="not-in"?new dN(e,a):n==="array-contains-any"?new mN(e,a):new Nt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new uN(e,a):new cN(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Oo(n,this.value)):n!==null&&ga(this.value)===ga(n)&&this.matchesComparison(Oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gr extends Bb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new gr(e,n)}matches(e){return qb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qb(r){return r.op==="and"}function Hb(r){return oN(r)&&qb(r)}function oN(r){for(const e of r.filters)if(e instanceof gr)return!1;return!0}function hg(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+No(r.value);if(Hb(r))return r.filters.map((e=>hg(e))).join(",");{const e=r.filters.map((n=>hg(n))).join(",");return`${r.op}(${e})`}}function Fb(r,e){return r instanceof Nt?(function(a,o){return o instanceof Nt&&a.op===o.op&&a.field.isEqual(o.field)&&qr(a.value,o.value)})(r,e):r instanceof gr?(function(a,o){return o instanceof gr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,f,m)=>u&&Fb(f,o.filters[m])),!0):!1})(r,e):void ve(19439)}function Gb(r){return r instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`})(r):r instanceof gr?(function(n){return n.op.toString()+" {"+n.getFilters().map(Gb).join(" ,")+"}"})(r):"Filter"}class lN extends Nt{constructor(e,n,a){super(e,n,a),this.key=de.fromName(a.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class uN extends Nt{constructor(e,n){super(e,"in",n),this.keys=Yb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class cN extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=Yb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Yb(r,e){return(e.arrayValue?.values||[]).map((n=>de.fromName(n.referenceValue)))}class hN extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $g(n)&&pu(n.arrayValue,this.value)}}class fN extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pu(this.value.arrayValue,n)}}class dN extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pu(this.value.arrayValue,n)}}class mN extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$g(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>pu(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n=null,a=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function uT(r,e=null,n=[],a=[],o=null,u=null,f=null){return new gN(r,e,n,a,o,u,f)}function Zg(r){const e=we(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>hg(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),rf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>No(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>No(a))).join(",")),e.Te=n}return e.Te}function Jg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!sN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Fb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!lT(r.startAt,e.startAt)&&lT(r.endAt,e.endAt)}function fg(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n=null,a=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pN(r,e,n,a,o,u,f,m){return new qo(r,e,n,a,o,u,f,m)}function ep(r){return new qo(r)}function cT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Qb(r){return r.collectionGroup!==null}function iu(r){const e=we(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new jt(sn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new yu(u,a))})),n.has(sn.keyField().canonicalString())||e.Ie.push(new yu(sn.keyField(),a))}return e.Ie}function Lr(r){const e=we(r);return e.Ee||(e.Ee=yN(e,iu(r))),e.Ee}function yN(r,e){if(r.limitType==="F")return uT(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new yu(o.field,u)}));const n=r.endAt?new Ph(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Ph(r.startAt.position,r.startAt.inclusive):null;return uT(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function dg(r,e){const n=r.filters.concat([e]);return new qo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function mg(r,e,n){return new qo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function sf(r,e){return Jg(Lr(r),Lr(e))&&r.limitType===e.limitType}function Kb(r){return`${Zg(Lr(r))}|lt:${r.limitType}`}function go(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>Gb(o))).join(", ")}]`),rf(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>No(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>No(o))).join(",")),`Target(${a})`})(Lr(r))}; limitType=${r.limitType})`}function of(r,e){return e.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):de.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,e)&&(function(a,o){for(const u of iu(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(f,m,p){const y=oT(f,m,p);return f.inclusive?y<=0:y<0})(a.startAt,iu(a),o)||a.endAt&&!(function(f,m,p){const y=oT(f,m,p);return f.inclusive?y>=0:y>0})(a.endAt,iu(a),o))})(r,e)}function _N(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Wb(r){return(e,n)=>{let a=!1;for(const o of iu(r)){const u=vN(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function vN(r,e,n){const a=r.field.isKeyField()?de.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Oo(p,y):ve(42886)})(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return ve(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,((n,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return Mb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=new _t(de.comparator);function wi(){return EN}const Xb=new _t(de.comparator);function Zl(...r){let e=Xb;for(const n of r)e=e.insert(n.key,n);return e}function $b(r){let e=Xb;return r.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function ns(){return au()}function Zb(){return au()}function au(){return new ps((r=>r.toString()),((r,e)=>r.isEqual(e)))}const TN=new _t(de.comparator),bN=new jt(de.comparator);function Le(...r){let e=bN;for(const n of r)e=e.add(n);return e}const wN=new jt(ke);function SN(){return wN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function Jb(r){return{integerValue:""+r}}function AN(r,e){return Z2(e)?Jb(e):tp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this._=void 0}}function RN(r,e,n){return r instanceof xh?(function(o,u){const f={fields:{[xb]:{stringValue:Pb},[Lb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Xg(u)&&(u=af(u)),u&&(f.fields[kb]=u),{mapValue:f}})(n,e):r instanceof _u?tw(r,e):r instanceof vu?nw(r,e):(function(o,u){const f=ew(o,u),m=hT(f)+hT(o.Ae);return cg(f)&&cg(o.Ae)?Jb(m):tp(o.serializer,m)})(r,e)}function IN(r,e,n){return r instanceof _u?tw(r,e):r instanceof vu?nw(r,e):n}function ew(r,e){return r instanceof kh?(function(a){return cg(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class xh extends lf{}class _u extends lf{constructor(e){super(),this.elements=e}}function tw(r,e){const n=rw(e);for(const a of r.elements)n.some((o=>qr(o,a)))||n.push(a);return{arrayValue:{values:n}}}class vu extends lf{constructor(e){super(),this.elements=e}}function nw(r,e){let n=rw(e);for(const a of r.elements)n=n.filter((o=>!qr(o,a)));return{arrayValue:{values:n}}}class kh extends lf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function hT(r){return St(r.integerValue||r.doubleValue)}function rw(r){return $g(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function DN(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof _u&&o instanceof _u||a instanceof vu&&o instanceof vu?Co(a.elements,o.elements,qr):a instanceof kh&&o instanceof kh?qr(a.Ae,o.Ae):a instanceof xh&&o instanceof xh})(r.transform,e.transform)}class CN{constructor(e,n){this.version=e,this.transformResults=n}}class Ur{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ur}static exists(e){return new Ur(void 0,e)}static updateTime(e){return new Ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _h(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class uf{}function iw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new np(r.key,Ur.none()):new Mu(r.key,r.data,Ur.none());{const n=r.data,a=Jn.empty();let o=new jt(sn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new ys(r.key,a,new dr(o.toArray()),Ur.none())}}function ON(r,e,n){r instanceof Mu?(function(o,u,f){const m=o.value.clone(),p=dT(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ys?(function(o,u,f){if(!_h(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=dT(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(aw(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function su(r,e,n,a){return r instanceof Mu?(function(u,f,m,p){if(!_h(u.precondition,f))return m;const y=u.value.clone(),E=mT(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,a):r instanceof ys?(function(u,f,m,p){if(!_h(u.precondition,f))return m;const y=mT(u.fieldTransforms,p,f),E=f.data;return E.setAll(aw(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(r,e,n,a):(function(u,f,m){return _h(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function NN(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=ew(a.transform,o||null);u!=null&&(n===null&&(n=Jn.empty()),n.set(a.field,u))}return n||null}function fT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Co(a,o,((u,f)=>DN(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Mu extends uf{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ys extends uf{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function aw(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}})),e}function dT(r,e,n){const a=new Map;Ke(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);a.set(u.field,IN(f,m,n[o]))}return a}function mT(r,e,n){const a=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);a.set(o.field,RN(u,f,e))}return a}class np extends uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MN extends uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&ON(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=su(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=su(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=Zb();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=iw(f,m);p!==null&&a.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(be.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,((n,a)=>fT(n,a)))&&Co(this.baseMutations,e.baseMutations,((n,a)=>fT(n,a)))}}class rp{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){Ke(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return TN})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new rp(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,Be;function kN(r){switch(r){case X.OK:return ve(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function sw(r){if(r===void 0)return bi("GRPC error has no .code"),X.UNKNOWN;switch(r){case Ot.OK:return X.OK;case Ot.CANCELLED:return X.CANCELLED;case Ot.UNKNOWN:return X.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return X.INTERNAL;case Ot.UNAVAILABLE:return X.UNAVAILABLE;case Ot.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ot.NOT_FOUND:return X.NOT_FOUND;case Ot.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ot.ABORTED:return X.ABORTED;case Ot.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ot.DATA_LOSS:return X.DATA_LOSS;default:return ve(39323,{code:r})}}(Be=Ot||(Ot={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=new ca([4294967295,4294967295],0);function gT(r){const e=LN().encode(r),n=new Tb;return n.update(e),new Uint8Array(n.digest())}function pT(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ca([n,a],0),new ca([o,u],0)]}class ip{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Jl(`Invalid padding: ${n}`);if(a<0)throw new Jl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ca.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(ca.fromNumber(a)));return o.compare(UN)===1&&(o=new ca([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=gT(e),[a,o]=pT(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);if(!this.we(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new ip(u,o,n);return a.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=gT(e),[a,o]=pT(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new cf(be.min(),o,new _t(ke),wi(),Le())}}class Vu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Vu(a,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,a,o){this.be=e,this.removedTargetIds=n,this.key=a,this.De=o}}class ow{constructor(e,n){this.targetId=e,this.Ce=n}}class lw{constructor(e,n,a=on.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class yT{constructor(){this.ve=0,this.Fe=_T(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),a=Le();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:ve(38017,{changeType:u})}})),new Vu(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=_T()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jN{constructor(e){this.Ge=e,this.ze=new Map,this.je=wi(),this.Je=lh(),this.He=lh(),this.Ye=new _t(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(fg(u))if(a===0){const f=new de(u.path);this.et(n,f,fn.newNoDocument(f,be.min()))}else Ke(a===1,20013,{expectedCount:a});else{const f=this._t(n);if(f!==a){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ma(a).toUint8Array()}catch(p){if(p instanceof Vb)return Do("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new ip(f,o,u)}catch(p){return Do(p instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&fg(m.target)){const p=new de(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,fn.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let a=Le();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new cf(e,n,this.Ye,this.je,a);return this.je=wi(),this.Je=lh(),this.He=lh(),this.Ye=new _t(ke),o}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new yT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new jt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new jt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function lh(){return new _t(de.comparator)}function _T(){return new _t(de.comparator)}const zN={asc:"ASCENDING",desc:"DESCENDING"},BN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qN={and:"AND",or:"OR"};class HN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gg(r,e){return r.useProto3Json||rf(e)?e:{value:e}}function Lh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function FN(r,e){return Lh(r,e.toTimestamp())}function jr(r){return Ke(!!r,49232),be.fromTimestamp((function(n){const a=da(n);return new ct(a.seconds,a.nanos)})(r))}function ap(r,e){return pg(r,e).canonicalString()}function pg(r,e){const n=(function(o){return new lt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function cw(r){const e=lt.fromString(r);return Ke(gw(e),10190,{key:e.toString()}),e}function yg(r,e){return ap(r.databaseId,e.path)}function Vm(r,e){const n=cw(e);if(n.get(1)!==r.databaseId.projectId)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new de(fw(n))}function hw(r,e){return ap(r.databaseId,e)}function GN(r){const e=cw(r);return e.length===4?lt.emptyPath():fw(e)}function _g(r){return new lt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function fw(r){return Ke(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function vT(r,e,n){return{name:yg(r,e),fields:n.value.mapValue.fields}}function YN(r,e){let n;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Ke(E===void 0||typeof E=="string",58123),on.fromBase64String(E||"")):(Ke(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),on.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?X.UNKNOWN:sw(y.code);return new ae(E,y.message||"")})(f);n=new lw(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Vm(r,a.document.name),u=jr(a.document.updateTime),f=a.document.createTime?jr(a.document.createTime):be.min(),m=new Jn({mapValue:{fields:a.document.fields}}),p=fn.newFoundDocument(o,u,f,m),y=a.targetIds||[],E=a.removedTargetIds||[];n=new vh(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Vm(r,a.document),u=a.readTime?jr(a.readTime):be.min(),f=fn.newNoDocument(o,u),m=a.removedTargetIds||[];n=new vh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Vm(r,a.document),u=a.removedTargetIds||[];n=new vh([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new xN(o,u),m=a.targetId;n=new ow(m,f)}}return n}function QN(r,e){let n;if(e instanceof Mu)n={update:vT(r,e.key,e.value)};else if(e instanceof np)n={delete:yg(r,e.key)};else if(e instanceof ys)n={update:vT(r,e.key,e.data),updateMask:nM(e.fieldMask)};else{if(!(e instanceof MN))return ve(16599,{Vt:e.type});n={verify:yg(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(u,f){const m=f.transform;if(m instanceof xh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof _u)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof vu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof kh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:f.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:FN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(r,e.precondition)),n}function KN(r,e){return r&&r.length>0?(Ke(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?jr(o.updateTime):jr(u);return f.isEqual(be.min())&&(f=jr(u)),new CN(f,o.transformResults||[])})(n,e)))):[]}function WN(r,e){return{documents:[hw(r,e.path)]}}function XN(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=hw(r,o);const u=(function(y){if(y.length!==0)return mw(gr.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(S){return{field:po(S.field),direction:JN(S.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=gg(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function $N(r){let e=GN(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Ke(a===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(w){const S=dw(w);return S instanceof gr&&Hb(S)?S.getFilters():[S]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((S=>(function(F){return new yu(yo(F.field),(function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(w){let S;return S=typeof w=="object"?w.value:w,rf(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(w){const S=!!w.before,j=w.values||[];return new Ph(j,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(w){const S=!w.before,j=w.values||[];return new Ph(j,S)})(n.endAt)),pN(e,o,f,u,m,"F",p,y)}function ZN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dw(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=yo(n.unaryFilter.field);return Nt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=yo(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=yo(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=yo(n.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Nt.create(yo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return gr.create(n.compositeFilter.filters.map((a=>dw(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(r):ve(30097,{filter:r})}function JN(r){return zN[r]}function eM(r){return BN[r]}function tM(r){return qN[r]}function po(r){return{fieldPath:r.canonicalString()}}function yo(r){return sn.fromServerFormat(r.fieldPath)}function mw(r){return r instanceof Nt?(function(n){if(n.op==="=="){if(sT(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NAN"}};if(aT(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sT(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NAN"}};if(aT(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(n.field),op:eM(n.op),value:n.value}}})(r):r instanceof gr?(function(n){const a=n.getFilters().map((o=>mw(o)));return a.length===1?a[0]:{compositeFilter:{op:tM(n.op),filters:a}}})(r):ve(54877,{filter:r})}function nM(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function gw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n,a,o,u=be.min(),f=be.min(),m=on.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.yt=e}}function iM(r){const e=$N({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?mg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(){this.Cn=new sM}addToCollectionParentIndex(e,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(fa.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(fa.min())}updateCollectionGroup(e,n,a){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class sM{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new jt(lt.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new jt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pw=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(pw,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mo(0)}static cr(){return new Mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="LruGarbageCollector",oM=1048576;function bT([r,e],[n,a]){const o=ke(r,n);return o===0?ke(e,a):o}class lM{constructor(e){this.Ir=e,this.buffer=new jt(bT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();bT(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uM{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){se(TT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bo(n)?se(TT,"Ignoring IndexedDB error during garbage collection: ",n):await zo(n)}await this.Vr(3e5)}))}}class cM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(nf.ce);const a=new lM(n);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(ET)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ET):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(a=w,m=Date.now(),this.removeTargets(e,a,n)))).next((w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(y=Date.now(),mo()<=xe.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function hM(r,e){return new cM(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(){this.changes=new ps((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?Z.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&su(a.mutation,o,dr.empty(),ct.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,Le()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=Le()){const o=ns();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((u=>{let f=Zl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const a=ns();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,Le())))}populateOverlays(e,n,a){const o=[];return a.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,a,o){let u=wi();const f=au(),m=(function(){return au()})();return n.forEach(((p,y)=>{const E=a.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof ys)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),su(E.mutation,y,E.mutation.getFieldMask(),ct.now())):f.set(y.key,dr.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new dM(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const a=au();let o=new _t(((f,m)=>f-m)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=a.get(p)||dr.empty();E=m.applyToLocalView(y,E),a.set(p,E);const w=(o.get(m.batchId)||Le()).add(p);o=o.insert(m.batchId,w)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,w=Zb();E.forEach((S=>{if(!u.has(S)){const j=iw(n.get(S),a.get(S));j!==null&&w.set(S,j),u=u.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,w))}return Z.waitFor(f)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return(function(f){return de.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Qb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):Z.resolve(ns());let m=du,p=u;return f.next((y=>Z.forEach(y,((E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next((S=>{p=p.insert(E,S)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,Le()))).next((E=>({batchId:m,changes:$b(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next((a=>{let o=Zl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let f=Zl();return this.indexManager.getCollectionParents(e,u).next((m=>Z.forEach(m,(p=>{const y=(function(w,S){return new qo(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next((E=>{E.forEach(((w,S)=>{f=f.insert(w,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,fn.newInvalidDocument(E)))}));let m=Zl();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&su(E.mutation,y,dr.empty(),ct.now()),of(n,y)&&(m=m.insert(p,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:jr(o.createTime)}})(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:iM(o.bundledQuery),readTime:jr(o.readTime)}})(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(){this.overlays=new _t(de.comparator),this.qr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const a=ns();return Z.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,u)=>{this.St(e,n,u)})),Z.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(e,n,a){const o=ns(),u=n.length+1,f=new de(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new _t(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>a){let E=u.get(y.largestBatchId);E===null&&(E=ns(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=ns(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return Z.resolve(m)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new PN(n,a));let u=this.qr.get(n);u===void 0&&(u=Le(),this.qr.set(n,u)),this.qr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(){this.Qr=new jt(Yt.$r),this.Ur=new jt(Yt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new Yt(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new Yt(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new de(new lt([])),a=new Yt(n,e),o=new Yt(n,e+1),u=[];return this.Ur.forEachInRange([a,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new lt([])),a=new Yt(n,e),o=new Yt(n,e+1);let u=Le();return this.Ur.forEachInRange([a,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Yt(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Yt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new jt(Yt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new VN(u,n,a,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Yt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(e,n){return Z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ei(a),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Wg:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Yt(n,0),o=new Yt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new jt(ke);return n.forEach((o=>{const u=new Yt(o,0),f=new Yt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{a=a.add(m.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;de.isDocumentKey(u)||(u=u.child(""));const f=new Yt(new de(u),0);let m=new jt(ke);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),f),Z.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(n.mutations,(o=>{const u=new Yt(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new Yt(n,0),o=this.Zr.firstAfterOrEqual(a);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.ri=e,this.docs=(function(){return new _t(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return Z.resolve(a?a.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let a=wi();return n.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():fn.newInvalidDocument(o))})),Z.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=wi();const f=n.path,m=new de(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||K2(Q2(E),a)<=0||(o.has(E.key)||of(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,n,a,o){ve(9500)}ii(e,n){return Z.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new EM(this)}getSize(e){return Z.resolve(this.size)}}class EM extends fM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),Z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e){this.persistence=e,this.si=new ps((n=>Zg(n)),Jg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new sp,this.targetCount=0,this.ai=Mo.ur()}forEachTarget(e,n){return this.si.forEach(((a,o)=>n(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),Z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Mo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Pr(n),Z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),Z.waitFor(u).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return Z.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),Z.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),Z.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return Z.resolve(a)}containsKey(e,n){return Z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,n){this.ui={},this.overlays={},this.ci=new nf(0),this.li=!1,this.li=!0,this.hi=new yM,this.referenceDelegate=e(this),this.Pi=new TM(this),this.indexManager=new aM,this.remoteDocumentCache=(function(o){return new vM(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new rM(n),this.Ii=new gM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new _M(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){se("MemoryPersistence","Starting transaction:",e);const o=new bM(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class bM extends X2{constructor(e){super(),this.currentSequenceNumber=e}}class op{constructor(e){this.persistence=e,this.Ri=new sp,this.Vi=null}static mi(e){return new op(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),Z.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const o=de.fromPath(a);return this.gi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Uh{constructor(e,n){this.persistence=e,this.pi=new ps((a=>J2(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=hM(this,n)}static mi(e,n){return new Uh(e,n)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((o=>a+o))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return Z.forEach(this.pi,((a,o)=>this.br(e,a,o).next((u=>u?Z.resolve():n(o)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(a++,u.removeEntry(f,be.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ph(e.data.value)),n}br(e,n,a){return Z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=o}static As(e,n){let a=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new lp(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return eD()?8:$2(mn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,a).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new wM;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,a,o){return a.documentReadCount<this.fs?(mo()<=xe.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(mo()<=xe.DEBUG&&se("QueryEngine","Query:",go(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(mo()<=xe.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lr(n))):Z.resolve())}ys(e,n){if(cT(n))return Z.resolve(null);let a=Lr(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=mg(n,null,"F"),a=Lr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const f=Le(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,a).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,f,p.readTime)?this.ys(e,mg(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,a,o){return cT(n)||o.isEqual(be.min())?Z.resolve(null):this.ps.getDocuments(e,a).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,a,o)?Z.resolve(null):(mo()<=xe.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),go(n)),this.vs(e,f,n,Y2(o,du)).next((m=>m)))}))}Ds(e,n){let a=new jt(Wb(e));return n.forEach(((o,u)=>{of(e,u)&&(a=a.add(u))})),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,a){return mo()<=xe.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",go(n)),this.ps.getDocumentsMatchingQuery(e,n,fa.min(),a)}vs(e,n,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="LocalStore",AM=3e8;class RM{constructor(e,n,a,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new _t(ke),this.xs=new ps((u=>Zg(u)),Jg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function IM(r,e,n,a){return new RM(r,e,n,a)}async function _w(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const f=[],m=[];let p=Le();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(a,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function DM(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const w=y.batch,S=w.keys();let j=Z.resolve();return S.forEach((F=>{j=j.next((()=>E.getEntry(p,F))).next((J=>{const Y=y.docVersions.get(F);Ke(Y!==null,48541),J.version.compareTo(Y)<0&&(w.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),E.addEntry(J)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(p,w)))})(n,a,e,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let p=Le();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function vw(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function CM(r,e){const n=we(r),a=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,w)=>{const S=o.get(w);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,w))));let j=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?j=j.withResumeToken(on.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,a)),o=o.insert(w,j),(function(J,Y,ie){return J.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=AM?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(S,j,E)&&m.push(n.Pi.updateTargetData(u,j))}));let p=wi(),y=Le();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(OM(u,f,e.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!a.isEqual(be.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((w=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));m.push(E)}return Z.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function OM(r,e,n){let a=Le(),o=Le();return n.forEach((u=>a=a.add(u))),e.getEntries(r,a).next((u=>{let f=wi();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):se(up,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function NM(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Wg),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function MM(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.Pi.getTargetData(a,e).next((u=>u?(o=u,Z.resolve(o)):n.Pi.allocateTargetId(a).next((f=>(o=new sa(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function vg(r,e,n){const a=we(r),o=a.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(f=>a.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Bo(f))throw f;se(up,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function wT(r,e,n){const a=we(r);let o=be.min(),u=Le();return a.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const w=we(p),S=w.xs.get(E);return S!==void 0?Z.resolve(w.Ms.get(S)):w.Pi.getTargetData(y,E)})(a,f,Lr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>a.Fs.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:Le()))).next((m=>(VM(a,_N(e),m),{documents:m,Qs:u})))))}function VM(r,e,n){let a=r.Os.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),r.Os.set(e,a)}class ST{constructor(){this.activeTargetIds=SN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PM{constructor(){this.Mo=new ST,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ST,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="ConnectivityMonitor";class RT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){se(AT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){se(AT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh=null;function Eg(){return uh===null?uh=(function(){return 268435456+Math.round(2147483648*Math.random())})():uh++,"0x"+uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="RestConnection",kM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Mh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,n,a,o,u){const f=Eg(),m=this.zo(e,n.toUriEncodedString());se(Pm,`Sending RPC '${e}' ${f}:`,m,a);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),E=ko(y);return this.Jo(e,m,p,a,E).then((w=>(se(Pm,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw Do(Pm,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",a),w}))}Ho(e,n,a,o,u,f){return this.Go(e,n,a,o,u)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),a&&a.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const a=kM[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class jM extends LM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,u){const f=Eg();return new Promise(((m,p)=>{const y=new bb;y.setWithCredentials(!0),y.listenOnce(wb.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case gh.NO_ERROR:const w=y.getResponseJson();se(cn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case gh.TIMEOUT:se(cn,`RPC '${e}' ${f} timed out`),p(new ae(X.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const S=y.getStatus();if(se(cn,`RPC '${e}' ${f} failed with status:`,S,"response text:",y.getResponseText()),S>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const F=j?.error;if(F&&F.status&&F.message){const J=(function(ie){const le=ie.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(le)>=0?le:X.UNKNOWN})(F.status);p(new ae(J,F.message))}else p(new ae(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ae(X.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{se(cn,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);se(cn,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,a,15)}))}T_(e,n,a){const o=Eg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Rb(),m=Ab(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const E=u.join("");se(cn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);this.I_(w);let S=!1,j=!1;const F=new UM({Yo:Y=>{j?se(cn,`Not sending because RPC '${e}' stream ${o} is closed:`,Y):(S||(se(cn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),S=!0),se(cn,`RPC '${e}' stream ${o} sending:`,Y),w.send(Y))},Zo:()=>w.close()}),J=(Y,ie,le)=>{Y.listen(ie,(he=>{try{le(he)}catch(Re){setTimeout((()=>{throw Re}),0)}}))};return J(w,$l.EventType.OPEN,(()=>{j||(se(cn,`RPC '${e}' stream ${o} transport opened.`),F.o_())})),J(w,$l.EventType.CLOSE,(()=>{j||(j=!0,se(cn,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(w))})),J(w,$l.EventType.ERROR,(Y=>{j||(j=!0,Do(cn,`RPC '${e}' stream ${o} transport errored. Name:`,Y.name,"Message:",Y.message),F.a_(new ae(X.UNAVAILABLE,"The operation could not be completed")))})),J(w,$l.EventType.MESSAGE,(Y=>{if(!j){const ie=Y.data[0];Ke(!!ie,16349);const le=ie,he=le?.error||le[0]?.error;if(he){se(cn,`RPC '${e}' stream ${o} received error:`,he);const Re=he.status;let ye=(function(A){const I=Ot[A];if(I!==void 0)return sw(I)})(Re),Ie=he.message;ye===void 0&&(ye=X.INTERNAL,Ie="Unknown error status: "+Re+" with message "+he.message),j=!0,F.a_(new ae(ye,Ie)),w.close()}else se(cn,`RPC '${e}' stream ${o} received:`,ie),F.u_(ie)}})),J(m,Sb.STAT_EVENT,(Y=>{Y.stat===og.PROXY?se(cn,`RPC '${e}' stream ${o} detected buffering proxy`):Y.stat===og.NOPROXY&&se(cn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function xm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(r){return new HN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&se("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="PersistentStream";class Tw{constructor(e,n,a,o,u,f,m,p){this.Mi=e,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ew(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(bi(n.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===n&&this.G_(a,o)}),(a=>{e((()=>{const o=new ae(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return se(IT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(se(IT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zM extends Tw{constructor(e,n,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=YN(this.serializer,e),a=(function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?jr(f.readTime):be.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=_g(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=fg(p)?{documents:WN(u,p)}:{query:XN(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=uw(u,f.resumeToken);const y=gg(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=Lh(u,f.snapshotVersion.toTimestamp());const y=gg(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const a=ZN(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=_g(this.serializer),n.removeTarget=e,this.q_(n)}}class BM extends Tw{constructor(e,n,a,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=KN(e.writeResults,e.commitTime),a=jr(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=_g(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>QN(this.serializer,a)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{}class HM extends qM{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,pg(n,a),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ae(X.UNKNOWN,u.toString())}))}Ho(e,n,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,pg(n,a),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ae(X.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class FM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bi(n),this.aa=!1):se("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="RemoteStore";class GM{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{a.enqueueAndForget((async()=>{_s(this)&&(se(hs,"Restarting streams for network reachability change."),await(async function(p){const y=we(p);y.Ea.add(4),await Pu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await ff(y)})(this))}))})),this.Ra=new FM(a,o)}}async function ff(r){if(_s(r))for(const e of r.da)await e(!0)}async function Pu(r){for(const e of r.da)await e(!1)}function bw(r,e){const n=we(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),dp(n)?fp(n):Ho(n).O_()&&hp(n,e))}function cp(r,e){const n=we(r),a=Ho(n);n.Ia.delete(e),a.O_()&&ww(n,e),n.Ia.size===0&&(a.O_()?a.L_():_s(n)&&n.Ra.set("Unknown"))}function hp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ho(r).Y_(e)}function ww(r,e){r.Va.Ue(e),Ho(r).Z_(e)}function fp(r){r.Va=new jN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ho(r).start(),r.Ra.ua()}function dp(r){return _s(r)&&!Ho(r).x_()&&r.Ia.size>0}function _s(r){return we(r).Ea.size===0}function Sw(r){r.Va=void 0}async function YM(r){r.Ra.set("Online")}async function QM(r){r.Ia.forEach(((e,n)=>{hp(r,e)}))}async function KM(r,e){Sw(r),dp(r)?(r.Ra.ha(e),fp(r)):r.Ra.set("Unknown")}async function WM(r,e,n){if(r.Ra.set("Online"),e instanceof lw&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(a){se(hs,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await jh(r,a)}else if(e instanceof vh?r.Va.Ze(e):e instanceof ow?r.Va.st(e):r.Va.tt(e),!n.isEqual(be.min()))try{const a=await vw(r.localStore);n.compareTo(a)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(on.EMPTY_BYTE_STRING,E.snapshotVersion)),ww(u,p);const w=new sa(E.target,p,y,E.sequenceNumber);hp(u,w)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(a){se(hs,"Failed to raise snapshot:",a),await jh(r,a)}}async function jh(r,e,n){if(!Bo(e))throw e;r.Ea.add(1),await Pu(r),r.Ra.set("Offline"),n||(n=()=>vw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{se(hs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await ff(r)}))}function Aw(r,e){return e().catch((n=>jh(r,n,e)))}async function df(r){const e=we(r),n=pa(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wg;for(;XM(e);)try{const o=await NM(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,$M(e,o)}catch(o){await jh(e,o)}Rw(e)&&Iw(e)}function XM(r){return _s(r)&&r.Ta.length<10}function $M(r,e){r.Ta.push(e);const n=pa(r);n.O_()&&n.X_&&n.ea(e.mutations)}function Rw(r){return _s(r)&&!pa(r).x_()&&r.Ta.length>0}function Iw(r){pa(r).start()}async function ZM(r){pa(r).ra()}async function JM(r){const e=pa(r);for(const n of r.Ta)e.ea(n.mutations)}async function eV(r,e,n){const a=r.Ta.shift(),o=rp.from(a,e,n);await Aw(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await df(r)}async function tV(r,e){e&&pa(r).X_&&await(async function(a,o){if((function(f){return kN(f)&&f!==X.ABORTED})(o.code)){const u=a.Ta.shift();pa(a).B_(),await Aw(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o))),await df(a)}})(r,e),Rw(r)&&Iw(r)}async function DT(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),se(hs,"RemoteStore received new credentials");const a=_s(n);n.Ea.add(3),await Pu(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ff(n)}async function nV(r,e){const n=we(r);e?(n.Ea.delete(2),await ff(n)):e||(n.Ea.add(2),await Pu(n),n.Ra.set("Unknown"))}function Ho(r){return r.ma||(r.ma=(function(n,a,o){const u=we(n);return u.sa(),new zM(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:YM.bind(null,r),t_:QM.bind(null,r),r_:KM.bind(null,r),H_:WM.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),dp(r)?fp(r):r.Ra.set("Unknown")):(await r.ma.stop(),Sw(r))}))),r.ma}function pa(r){return r.fa||(r.fa=(function(n,a,o){const u=we(n);return u.sa(),new BM(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:ZM.bind(null,r),r_:tV.bind(null,r),ta:JM.bind(null,r),na:eV.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await df(r)):(await r.fa.stop(),r.Ta.length>0&&(se(hs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const f=Date.now()+a,m=new mp(e,n,f,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gp(r,e){if(bi("AsyncQueue",`${e}: ${r}`),Bo(r))return new ae(X.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{static emptySet(e){return new Ao(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||de.comparator(n.key,a.key):(n,a)=>de.comparator(n.key,a.key),this.keyedMap=Zl(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Ao;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.ga=new _t(de.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class Vo{constructor(e,n,a,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,a,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Vo(e,n,Ao.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class iV{constructor(){this.queries=OT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=we(n),u=o.queries;o.queries=OT(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(a)}))})(this,new ae(X.ABORTED,"Firestore shutting down"))}}function OT(){return new ps((r=>Kb(r)),sf)}async function aV(r,e){const n=we(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(a=2):(u=new rV,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=gp(f,`Initialization of query '${go(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&pp(n)}async function sV(r,e){const n=we(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function oV(r,e){const n=we(r);let a=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(a=!0);f.wa=o}}a&&pp(n)}function lV(r,e,n){const a=we(r),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);a.queries.delete(e)}function pp(r){r.Ca.forEach((e=>{e.next()}))}var Tg,NT;(NT=Tg||(Tg={})).Ma="default",NT.Cache="cache";class uV{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Vo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Tg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e){this.key=e}}class Cw{constructor(e){this.key=e}}class cV{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=Wb(e),this.tu=new Ao(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new CT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,w)=>{const S=o.get(E),j=of(this.query,w)?w:null,F=!!S&&this.mutatedKeys.has(S.key),J=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Y=!1;S&&j?S.data.isEqual(j.data)?F!==J&&(a.track({type:3,doc:j}),Y=!0):this.su(S,j)||(a.track({type:2,doc:j}),Y=!0,(p&&this.eu(j,p)>0||y&&this.eu(j,y)<0)&&(m=!0)):!S&&j?(a.track({type:0,doc:j}),Y=!0):S&&!j&&(a.track({type:1,doc:S}),Y=!0,(p||y)&&(m=!0)),Y&&(j?(f=f.add(j),u=J?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{tu:f,iu:a,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,w)=>(function(j,F){const J=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:Y})}};return J(j)-J(F)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(a),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new Vo(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new CT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new Cw(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new Dw(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const yp="SyncEngine";class hV{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class fV{constructor(e){this.key=e,this.hu=!1}}class dV{constructor(e,n,a,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ps((m=>Kb(m)),sf),this.Iu=new Map,this.Eu=new Set,this.du=new _t(de.comparator),this.Au=new Map,this.Ru=new sp,this.Vu={},this.mu=new Map,this.fu=Mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mV(r,e,n=!0){const a=xw(r);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Ow(a,e,n,!0),o}async function gV(r,e){const n=xw(r);await Ow(n,e,!0,!1)}async function Ow(r,e,n,a){const o=await MM(r.localStore,Lr(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await pV(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&bw(r.remoteStore,o),m}async function pV(r,e,n,a,o){r.pu=(w,S,j)=>(async function(J,Y,ie,le){let he=Y.view.ru(ie);he.Cs&&(he=await wT(J.localStore,Y.query,!1).then((({documents:V})=>Y.view.ru(V,he))));const Re=le&&le.targetChanges.get(Y.targetId),ye=le&&le.targetMismatches.get(Y.targetId)!=null,Ie=Y.view.applyChanges(he,J.isPrimaryClient,Re,ye);return VT(J,Y.targetId,Ie.au),Ie.snapshot})(r,w,S,j);const u=await wT(r.localStore,e,!0),f=new cV(e,u.Qs),m=f.ru(u.documents),p=Vu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);VT(r,n,y.au);const E=new hV(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function yV(r,e,n){const a=we(r),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((f=>!sf(f,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await vg(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&cp(a.remoteStore,o.targetId),bg(a,o.targetId)})).catch(zo)):(bg(a,o.targetId),await vg(a.localStore,o.targetId,!0))}async function _V(r,e){const n=we(r),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),cp(n.remoteStore,a.targetId))}async function vV(r,e,n){const a=RV(r);try{const o=await(function(f,m){const p=we(f),y=ct.now(),E=m.reduce(((j,F)=>j.add(F.key)),Le());let w,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let F=wi(),J=Le();return p.Ns.getEntries(j,E).next((Y=>{F=Y,F.forEach(((ie,le)=>{le.isValidDocument()||(J=J.add(ie))}))})).next((()=>p.localDocuments.getOverlayedDocuments(j,F))).next((Y=>{w=Y;const ie=[];for(const le of m){const he=NN(le,w.get(le.key).overlayedDocument);he!=null&&ie.push(new ys(le.key,he,zb(he.value.mapValue),Ur.exists(!0)))}return p.mutationQueue.addMutationBatch(j,y,ie,m)})).next((Y=>{S=Y;const ie=Y.applyToLocalDocumentSet(w,J);return p.documentOverlayCache.saveOverlays(j,Y.batchId,ie)}))})).then((()=>({batchId:S.batchId,changes:$b(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new _t(ke)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y})(a,o.batchId,n),await xu(a,o.changes),await df(a.remoteStore)}catch(o){const u=gp(o,"Failed to persist write");n.reject(u)}}async function Nw(r,e){const n=we(r);try{const a=await CM(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ke(f.hu,14607):o.removedDocuments.size>0&&(Ke(f.hu,42227),f.hu=!1))})),await xu(n,a,e)}catch(a){await zo(a)}}function MT(r,e,n){const a=we(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=we(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,w)=>{for(const S of w.Sa)S.va(m)&&(y=!0)})),y&&pp(p)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function EV(r,e,n){const a=we(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),u=o&&o.key;if(u){let f=new _t(de.comparator);f=f.insert(u,fn.newNoDocument(u,be.min()));const m=Le().add(u),p=new cf(be.min(),new Map,new _t(ke),f,m);await Nw(a,p),a.du=a.du.remove(u),a.Au.delete(e),_p(a)}else await vg(a.localStore,e,!1).then((()=>bg(a,e,n))).catch(zo)}async function TV(r,e){const n=we(r),a=e.batch.batchId;try{const o=await DM(n.localStore,e);Vw(n,a,null),Mw(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await xu(n,o)}catch(o){await zo(o)}}async function bV(r,e,n){const a=we(r);try{const o=await(function(f,m){const p=we(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((w=>(Ke(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(y,w)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(a.localStore,e);Vw(a,e,n),Mw(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await xu(a,o)}catch(o){await zo(o)}}function Mw(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function Vw(r,e,n){const a=we(r);let o=a.Vu[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function bg(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||Pw(r,a)}))}function Pw(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(cp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),_p(r))}function VT(r,e,n){for(const a of n)a instanceof Dw?(r.Ru.addReference(a.key,e),wV(r,a)):a instanceof Cw?(se(yp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||Pw(r,a.key)):ve(19791,{wu:a})}function wV(r,e){const n=e.key,a=n.path.canonicalString();r.du.get(n)||r.Eu.has(a)||(se(yp,"New document in limbo: "+n),r.Eu.add(a),_p(r))}function _p(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new de(lt.fromString(e)),a=r.fu.next();r.Au.set(a,new fV(n)),r.du=r.du.insert(n,a),bw(r.remoteStore,new sa(Lr(ep(n.path)),a,"TargetPurposeLimboResolution",nf.ce))}}async function xu(r,e,n){const a=we(r),o=[],u=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,p)=>{f.push(a.pu(p,e,n).then((y=>{if((y||n)&&a.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=lp.As(p.targetId,y);u.push(E)}})))})),await Promise.all(f),a.Pu.H_(o),await(async function(p,y){const E=we(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Z.forEach(y,(S=>Z.forEach(S.Es,(j=>E.persistence.referenceDelegate.addReference(w,S.targetId,j))).next((()=>Z.forEach(S.ds,(j=>E.persistence.referenceDelegate.removeReference(w,S.targetId,j)))))))))}catch(w){if(!Bo(w))throw w;se(up,"Failed to update sequence numbers: "+w)}for(const w of y){const S=w.targetId;if(!w.fromCache){const j=E.Ms.get(S),F=j.snapshotVersion,J=j.withLastLimboFreeSnapshotVersion(F);E.Ms=E.Ms.insert(S,J)}}})(a.localStore,u))}async function SV(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){se(yp,"User change. New user:",e.toKey());const a=await _w(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ae(X.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await xu(n,a.Ls)}}function AV(r,e){const n=we(r),a=n.Au.get(e);if(a&&a.hu)return Le().add(a.key);{let o=Le();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function xw(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EV.bind(null,e),e.Pu.H_=oV.bind(null,e.eventManager),e.Pu.yu=lV.bind(null,e.eventManager),e}function RV(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bV.bind(null,e),e}class zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return IM(this.persistence,new SM,e.initialUser,this.serializer)}Cu(e){return new yw(op.mi,this.serializer)}Du(e){return new PM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zh.provider={build:()=>new zh};class IV extends zh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof Uh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new uM(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new yw((a=>Uh.mi(a,n)),this.serializer)}}class wg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>MT(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=SV.bind(null,this.syncEngine),await nV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new iV})()}createDatastore(e){const n=hf(e.databaseInfo.databaseId),a=(function(u){return new jM(u)})(e.databaseInfo);return(function(u,f,m,p){return new HM(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,u,f,m){return new GM(a,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>MT(this.syncEngine,n,0)),(function(){return RT.v()?new RT:new xM})())}createSyncEngine(e,n){return(function(o,u,f,m,p,y,E){const w=new dV(o,u,f,m,p,y);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=we(n);se(hs,"RemoteStore shutting down."),a.Ea.add(5),await Pu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wg.provider={build:()=>new wg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="FirestoreClient";class CV{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=Kg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async f=>{se(ya,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(a,(f=>(se(ya,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=gp(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function km(r,e){r.asyncQueue.verifyOperationInProgress(),se(ya,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await _w(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function PT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await OV(r);se(ya,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((a=>DT(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>DT(e.remoteStore,o))),r._onlineComponents=e}async function OV(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){se(ya,"Using user provided OfflineComponentProvider");try{await km(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Do("Error using user provided cache. Falling back to memory cache: "+n),await km(r,new zh)}}else se(ya,"Using default OfflineComponentProvider"),await km(r,new IV(void 0));return r._offlineComponents}async function kw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(se(ya,"Using user provided OnlineComponentProvider"),await PT(r,r._uninitializedComponentsProvider._online)):(se(ya,"Using default OnlineComponentProvider"),await PT(r,new wg))),r._onlineComponents}function NV(r){return kw(r).then((e=>e.syncEngine))}async function xT(r){const e=await kw(r),n=e.eventManager;return n.onListen=mV.bind(null,e.syncEngine),n.onUnlisten=yV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_V.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="firestore.googleapis.com",LT=!0;class UT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Uw,this.ssl=LT}else this.host=e.host,this.ssl=e.ssl??LT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oM)throw new ae(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lw(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mf{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new x2;switch(a.type){case"firstParty":return new j2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ae(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=kT.get(n);a&&(se("ComponentProvider","Removing Datastore"),kT.delete(n),a.terminate())})(this),Promise.resolve()}}function MV(r,e,n,a={}){r=So(r,mf);const o=ko(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(V0(`https://${m}`),P0("Firestore",!0)),u.host!==Uw&&u.host!==m&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:a};if(!ss(p,f)&&(r._setSettings(p),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=hn.MOCK_USER;else{y=GI(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ae(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new hn(w)}r._authCredentials=new k2(new Db(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new vs(this.firestore,e,this._query)}}class Ut{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(Nu(n,Ut._jsonSchema))return new Ut(e,a||null,new de(lt.fromString(n.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Mt("string",Ut._jsonSchemaVersion),referencePath:Mt("string")};class ha extends vs{constructor(e,n,a){super(e,n,ep(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new de(e))}withConverter(e){return new ha(this.firestore,e,this._path)}}function jT(r,e,...n){if(r=gn(r),Cb("collection","path",e),r instanceof mf){const a=lt.fromString(e,...n);return XE(a),new ha(r,null,a)}{if(!(r instanceof Ut||r instanceof ha))throw new ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(lt.fromString(e,...n));return XE(a),new ha(r.firestore,null,a)}}function jw(r,e,...n){if(r=gn(r),arguments.length===1&&(e=Kg.newId()),Cb("doc","path",e),r instanceof mf){const a=lt.fromString(e,...n);return WE(a),new Ut(r,null,new de(a))}{if(!(r instanceof Ut||r instanceof ha))throw new ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(lt.fromString(e,...n));return WE(a),new Ut(r.firestore,r instanceof ha?r.converter:null,new de(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="AsyncQueue";class BT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ew(this,"async_queue_retry"),this._c=()=>{const a=xm();a&&se(zT,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=xm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new is;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Bo(e))throw e;se(zT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,bi("INTERNAL UNHANDLED ERROR: ",qT(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=mp.createAndSchedule(this,e,n,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:qT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function qT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(r){return(function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Eu extends mf{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new BT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BT(e),this._firestoreClient=void 0,await e}}}function VV(r,e){const n=typeof r=="object"?r:U0(),a=typeof r=="string"?r:Mh,o=Ug(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=HI("firestore");u&&MV(o,...u)}return o}function zw(r){if(r._terminated)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||PV(r),r._firestoreClient}function PV(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new nN(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Lw(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new CV(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this._byteString=e}static fromBase64String(e){try{return new er(on.fromBase64String(e))}catch(n){throw new ae(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new er(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:er._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nu(e,er._jsonSchema))return er.fromBase64String(e.bytes)}}er._jsonSchemaVersion="firestore/bytes/1.0",er._jsonSchema={type:Mt("string",er._jsonSchemaVersion),bytes:Mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zr._jsonSchemaVersion}}static fromJSON(e){if(Nu(e,zr._jsonSchema))return new zr(e.latitude,e.longitude)}}zr._jsonSchemaVersion="firestore/geoPoint/1.0",zr._jsonSchema={type:Mt("string",zr._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Br._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nu(e,Br._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Br(e.vectorValues);throw new ae(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Br._jsonSchemaVersion="firestore/vectorValue/1.0",Br._jsonSchema={type:Mt("string",Br._jsonSchemaVersion),vectorValues:Mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=/^__.*__$/;class kV{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mu(e,this.data,n,this.fieldTransforms)}}function qw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:r})}}class Ep{constructor(e,n,a,o,u,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ep({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Bh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(qw(this.Ac)&&xV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class LV{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||hf(e)}Cc(e,n,a,o=!1){return new Ep({Ac:e,methodName:n,Dc:a,path:sn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hw(r){const e=r._freezeSettings(),n=hf(r._databaseId);return new LV(r._databaseId,!!e.ignoreUndefinedProperties,n)}function UV(r,e,n,a,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Yw("Data must be an object, but it was:",f,a);const m=Fw(a,f);let p,y;if(u.merge)p=new dr(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const S=zV(e,w,n);if(!f.contains(S))throw new ae(X.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);qV(E,S)||E.push(S)}p=new dr(E),y=f.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,y=f.fieldTransforms;return new kV(new Jn(m),p,y)}function jV(r,e,n,a=!1){return Tp(n,r.Cc(a?4:3,e))}function Tp(r,e){if(Gw(r=gn(r)))return Yw("Unsupported field value:",e,r),Fw(r,e);if(r instanceof Bw)return(function(a,o){if(!qw(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const u=[];let f=0;for(const m of a){let p=Tp(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(a,o){if((a=gn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return AN(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=ct.fromDate(a);return{timestampValue:Lh(o.serializer,u)}}if(a instanceof ct){const u=new ct(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Lh(o.serializer,u)}}if(a instanceof zr)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof er)return{bytesValue:uw(o.serializer,a._byteString)};if(a instanceof Ut){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ap(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Br)return(function(f,m){return{mapValue:{fields:{[Ub]:{stringValue:jb},[Vh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return tp(m.serializer,y)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${tf(a)}`)})(r,e)}function Fw(r,e){const n={};return Mb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(r,((a,o)=>{const u=Tp(o,e.mc(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function Gw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ct||r instanceof zr||r instanceof er||r instanceof Ut||r instanceof Bw||r instanceof Br)}function Yw(r,e,n){if(!Gw(n)||!Ob(n)){const a=tf(n);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function zV(r,e,n){if((e=gn(e))instanceof vp)return e._internalPath;if(typeof e=="string")return Qw(r,e);throw Bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const BV=new RegExp("[~\\*/\\[\\]]");function Qw(r,e,n){if(e.search(BV)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new vp(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Bh(r,e,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${a}`),f&&(p+=` in document ${o}`),p+=")"),new ae(X.INVALID_ARGUMENT,m+r+p)}function qV(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HV extends Kw{data(){return super.data()}}function gf(r,e){return typeof e=="string"?Qw(r,e):e instanceof vp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ae(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bp{}class Ww extends bp{}function GV(r,e,...n){let a=[];e instanceof bp&&a.push(e),a=a.concat(n),(function(u){const f=u.filter((p=>p instanceof wp)).length,m=u.filter((p=>p instanceof pf)).length;if(f>1||f>0&&m>0)throw new ae(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class pf extends Ww{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new pf(e,n,a)}_apply(e){const n=this._parse(e);return Xw(e._query,n),new vs(e.firestore,e.converter,dg(e._query,n))}_parse(e){const n=Hw(e.firestore);return(function(u,f,m,p,y,E,w){let S;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ae(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){GT(w,E);const F=[];for(const J of w)F.push(FT(p,u,J));S={arrayValue:{values:F}}}else S=FT(p,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||GT(w,E),S=jV(m,f,w,E==="in"||E==="not-in");return Nt.create(y,E,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function YV(r,e,n){const a=e,o=gf("where",r);return pf._create(o,a,n)}class wp extends bp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wp(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:gr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Xw(f,p),f=dg(f,p)})(e._query,n),new vs(e.firestore,e.converter,dg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sp extends Ww{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Sp(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new ae(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ae(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yu(u,f)})(e._query,this._field,this._direction);return new vs(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new qo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function QV(r,e="asc"){const n=e,a=gf("orderBy",r);return Sp._create(a,n)}function FT(r,e,n){if(typeof(n=gn(n))=="string"){if(n==="")throw new ae(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qb(e)&&n.indexOf("/")!==-1)throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(lt.fromString(n));if(!de.isDocumentKey(a))throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return iT(r,new de(a))}if(n instanceof Ut)return iT(r,n._key);throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tf(n)}.`)}function GT(r,e){if(!Array.isArray(r)||r.length===0)throw new ae(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Xw(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ae(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class KV{convertValue(e,n="none"){switch(ga(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return gs(e,((o,u)=>{a[o]=this.convertValue(u,n)})),a}convertVectorValue(e){const n=e.fields?.[Vh].arrayValue?.values?.map((a=>St(a.doubleValue)));return new Br(n)}convertGeoPoint(e){return new zr(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=af(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const n=da(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=lt.fromString(e);Ke(gw(a),9688,{name:e});const o=new gu(a.get(1),a.get(3)),u=new de(a.popFirst(5));return o.isEqual(n)||bi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(r,e,n){let a;return a=r?r.toFirestore(e):e,a}class eu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class as extends Kw{constructor(e,n,a,o,u,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(gf("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=as._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}as._jsonSchemaVersion="firestore/documentSnapshot/1.0",as._jsonSchema={type:Mt("string",as._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Eh extends as{data(e={}){return super.data(e)}}class Ro{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new eu(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new Eh(this._firestore,this._userDataWriter,a.key,a,new eu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new Eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:XV(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ro._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Kg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function XV(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}Ro._jsonSchemaVersion="firestore/querySnapshot/1.0",Ro._jsonSchema={type:Mt("string",Ro._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class $w extends KV{constructor(e){super(),this.firestore=e}convertBytes(e){return new er(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}function $V(r){return Zw(So(r.firestore,Eu),[new np(r._key,Ur.none())])}function ZV(r,e){const n=So(r.firestore,Eu),a=jw(r),o=WV(r.converter,e);return Zw(n,[UV(Hw(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,Ur.exists(!1))]).then((()=>a))}function JV(r,...e){r=gn(r);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||HT(e[a])||(n=e[a++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(HT(e[a])){const p=e[a];e[a]=p.next?.bind(p),e[a+1]=p.error?.bind(p),e[a+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof Ut)f=So(r.firestore,Eu),m=ep(r._key.path),u={next:p=>{e[a]&&e[a](eP(f,r,p))},error:e[a+1],complete:e[a+2]};else{const p=So(r,vs);f=So(p.firestore,Eu),m=p._query;const y=new $w(f);u={next:E=>{e[a]&&e[a](new Ro(f,y,p,E))},error:e[a+1],complete:e[a+2]},FV(r._query)}return(function(y,E,w,S){const j=new DV(S),F=new uV(E,j,w);return y.asyncQueue.enqueueAndForget((async()=>aV(await xT(y),F))),()=>{j.Nu(),y.asyncQueue.enqueueAndForget((async()=>sV(await xT(y),F)))}})(zw(f),m,o,u)}function Zw(r,e){return(function(a,o){const u=new is;return a.asyncQueue.enqueueAndForget((async()=>vV(await NV(a),o,u))),u.promise})(zw(r),e)}function eP(r,e,n){const a=n.docs.get(e._key),o=new $w(r);return new as(r,o,e._key,a,new eu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){jo=o})(Lo),Io(new os("firestore",((a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new Eu(new L2(a.getProvider("auth-internal")),new z2(f,a.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ae(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ua(GE,YE,e),ua(GE,YE,"esm2020")})();const tP={apiKey:"AIzaSyDitm0cj8UwMhorIhakHTsuxruPCGkN9q8",authDomain:"calendar-app-2ae65.firebaseapp.com",projectId:"calendar-app-2ae65",storageBucket:"calendar-app-2ae65.firebasestorage.app",messagingSenderId:"864650296731",appId:"1:864650296731:web:043b32429f0e9cd0f8b53e"},Jw=L0(tP),Lm=VV(Jw),qh=N2(Jw);function nP({onLogin:r}){const[e,n]=at.useState(""),[a,o]=at.useState(""),[u,f]=at.useState(""),[m,p]=at.useState(!1),y=async E=>{E.preventDefault();try{m?await gO(qh,e,a):await pO(qh,e,a),r()}catch(w){f(": "+w.message)}};return K.jsx("div",{className:"container is-max-desktop mt-6",children:K.jsxs("div",{className:"box",children:[K.jsx("h1",{className:"title is-4",children:m?"":""}),K.jsxs("form",{onSubmit:y,children:[K.jsxs("div",{className:"field",children:[K.jsx("label",{className:"label",children:"Email"}),K.jsx("input",{className:"input",type:"email",value:e,onChange:E=>n(E.target.value),required:!0})]}),K.jsxs("div",{className:"field",children:[K.jsx("label",{className:"label",children:""}),K.jsx("input",{className:"input",type:"password",value:a,onChange:E=>o(E.target.value),required:!0})]}),u&&K.jsx("p",{className:"has-text-danger",children:u}),K.jsx("button",{className:"button is-primary is-fullwidth",type:"submit",children:m?"":""})]}),K.jsx("hr",{}),K.jsxs("p",{className:"has-text-centered",children:[m?"  ?":" ?"," ",K.jsx("button",{className:"button is-text",onClick:()=>p(!m),children:m?"":""})]})]})})}const YT=[{value:"trip",label:" "},{value:"concert",label:" "},{value:"hiking",label:" "},{value:"other",label:" "}];function rP(){const[r,e]=at.useState(null),[n,a]=at.useState([]),[o,u]=at.useState({title:"",startDate:"",endDate:"",note:"",type:"trip",user:""}),[f,m]=at.useState(new Date);at.useEffect(()=>{const S=vO(qh,j=>{e(j)});return()=>S()},[]),at.useEffect(()=>{if(!r)return;const S=GV(jT(Lm,"events"),YV("user","==",r.uid),QV("startDate")),j=JV(S,F=>{const J=F.docs.map(Y=>{const ie=Y.data();return{id:Y.id,...ie}});a(J)});return()=>j()},[r]);const p=async S=>{if(S.preventDefault(),!(!o.title||!o.startDate||!r))try{await ZV(jT(Lm,"events"),{...o,user:r.uid}),u({title:"",startDate:"",endDate:"",note:"",type:"trip",user:""})}catch(j){console.error("  :",j)}},y=async S=>{try{await $V(jw(Lm,"events",S))}catch(j){console.error("  :",j)}},E=async()=>{await EO(qh)},w=({date:S,view:j})=>{if(j==="month"){const F=n.find(J=>{const Y=nh(J.startDate),ie=J.endDate?nh(J.endDate):Y;return vI(S,{start:Y,end:ie})});if(F)switch(F.type){case"trip":return"event-trip";case"concert":return"event-concert";case"hiking":return"event-hiking";case"other":return"event-other"}}return""};return r?K.jsxs("div",{className:"columns is-gapless",style:{height:"100vh"},children:[K.jsx("div",{className:"column is-half",style:{padding:"1rem",height:"100%"},children:K.jsx(fR,{onChange:S=>{S&&m(S)},value:f,selectRange:!0,tileClassName:w,className:"calendar-fullheight"})}),K.jsxs("div",{className:"column is-half",style:{padding:"1rem",display:"flex",flexDirection:"column",height:"100%"},children:[K.jsx("button",{onClick:E,className:"button is-danger mb-4",children:""}),K.jsxs("form",{onSubmit:p,className:"box mb-4",children:[K.jsx("h2",{className:"title is-5 mb-3",children:" "}),K.jsx("div",{className:"field mb-2",children:K.jsx("div",{className:"control",children:K.jsx("input",{className:"input",type:"text",placeholder:"",value:o.title,onChange:S=>u({...o,title:S.target.value})})})}),K.jsx("div",{className:"field mb-2",children:K.jsxs("div",{className:"control",children:[K.jsx("label",{className:"label is-small",children:" "}),K.jsx("input",{className:"input",type:"date",value:o.startDate,onChange:S=>u({...o,startDate:S.target.value})})]})}),K.jsx("div",{className:"field mb-2",children:K.jsxs("div",{className:"control",children:[K.jsx("label",{className:"label is-small",children:"  ()"}),K.jsx("input",{className:"input",type:"date",value:o.endDate,onChange:S=>u({...o,endDate:S.target.value})})]})}),K.jsx("div",{className:"field mb-2",children:K.jsx("div",{className:"control",children:K.jsx("textarea",{className:"textarea",placeholder:"",value:o.note||"",onChange:S=>u({...o,note:S.target.value})})})}),K.jsx("div",{className:"field mb-2",children:K.jsx("div",{className:"control",children:K.jsx("div",{className:"select is-fullwidth",children:K.jsx("select",{value:o.type,onChange:S=>u({...o,type:S.target.value}),children:YT.map(S=>K.jsx("option",{value:S.value,children:S.label},S.value))})})})}),K.jsx("div",{className:"field",children:K.jsx("div",{className:"control",children:K.jsx("button",{className:"button is-primary",children:""})})})]}),K.jsxs("div",{className:"box events-list",style:{flex:1,overflowY:"auto"},children:[K.jsx("h2",{className:"title is-5 mb-3",children:""}),n.length===0&&K.jsx("p",{className:"has-text-grey",children:" "}),K.jsx("ul",{children:n.map(S=>K.jsx("li",{className:"box mb-2",children:K.jsxs("div",{className:"level",children:[K.jsx("div",{className:"level-left",children:K.jsxs("div",{children:[K.jsxs("p",{className:"has-text-weight-semibold",children:[S.title," - ",YT.find(j=>j.value===S.type)?.label]}),K.jsxs("p",{className:"is-size-7 has-text-grey",children:[dE(nh(S.startDate),"dd.MM.yyyy"),S.endDate?`  ${dE(nh(S.endDate),"dd.MM.yyyy")}`:""]}),S.note&&K.jsx("p",{className:"is-italic is-size-7",children:S.note})]})}),K.jsx("div",{className:"level-right",children:K.jsx("button",{onClick:()=>y(S.id),className:"button is-small is-danger",children:""})})]})},S.id))})]})]})]}):K.jsx(nP,{onLogin:()=>{}})}xA.createRoot(document.getElementById("root")).render(K.jsx(IA.StrictMode,{children:K.jsx(rP,{})}));
